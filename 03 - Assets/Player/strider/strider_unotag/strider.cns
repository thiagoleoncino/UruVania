
[data]

life = 1130

attack = 80

defence = 96
power = 3000

fall.defence_up = 50
liedown.time = 20
airjuggle = 15
sparkno = 2
guard.sparkno = s9101
ko.echo = 0
volume = 150
IntPersistIndex = 58
FloatPersistIndex = 40

[size]
xscale = 1
yscale = 1
ground.back = 17
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 400
proj.attack.dist = 90
proj.doscale = 0
head.pos = -1, -72
mid.pos = 0, -46
shadowoffset = 0
draw.offset = 0,0

[velocity]
walk.fwd  = 3.2
walk.back = -3.0
run.fwd  = 4.6, 0
run.back = -4.5,-3.8
jump.neu = 0,-9.4
jump.back = -3.25
jump.fwd = 3.2
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[movement]
airjump.num = 1
airjump.height = 35
yaccel = .47
stand.friction = .85
crouch.friction = .82





[Statedef 170]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0
anim = 5000

[state 170, 1]
type = nothitby
trigger1 = 1
value = sca

[state 170, 2]
type = changestate
trigger1 = matchover
value = 171







[Statedef 190]
type = S
movetype = I
physics = S
ctrl = 0
anim = 147
sprpriority = 1

[State 600, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 600, 2]
type = Helper
trigger1 = time = 30
ID = 4343
name = "Hangglider"
StateNo = 191
postype = back
pos = -20, floor(pos Y - 160)
ownpal = 1

[State 600, Jump Land Sound]
type = PlaySnd
trigger1 = var(0)
value = 2, 2
persistent = 0

[State 600, Landing Wave]
type = Explod
trigger1 = var(0)
ID = 589
anim = 6010
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2
persistent = 0

[state 0, spawn scarf]
type = helper
trigger1 = time = 0
id = 1212
name = "scarf"
stateno = 500
postype = p1
pos = -4, -71
ownpal = 1

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 191]
type = A
movetype = I
physics = N
anim = 600
sprpriority = 0
velset = 4.5, 0

[State 610, 1]
type = Explod
trigger1 = time = 0
ID = 100
anim = 605
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 610, 2]
type = Explod
trigger1 = time = 0
ID = 101
anim = 610
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1

[State 610, 3]
type = RemoveExplod
trigger1 = ParentDist X <= -95
ID = 101
persistent = 0

[State 610, 4]
type = Helper
trigger1 = ParentDist X <= -95
ID = 111
name = "Dummy Hiryu"
StateNo = 192
postype = p1
pos = -62, 70
ownpal = 1
persistent = 0

[State 610, 4a]
type = VarSet
trigger1 = NumHelper(111) = 1
v = 0
value = 1

[State 610, 5]
type = VelSet
trigger1 = time >= 80
y = -2

[State 610, 6]
type = ParentVarSet
trigger1 = var(1)
v = 0
value = 1

[State 610, 7]
type = DestroySelf
trigger1 = var(0)
trigger1 = NumHelper = 0



[Statedef 192]
type = A
movetype = I
physics = N
anim = 615
sprpriority = 4
velset = -1, -4

[State 615, 1]
type = Gravity
trigger1 = 1

[State 615, 2]
type = ParentVarSet
trigger1 = Pos Y >= -18
v = 1
value = 1

[State 615, 3]
type = DestroySelf
trigger1 = Pos Y >= 0




[Statedef 171]
type = s
ctrl = 0
anim = 170
velset = 0,0
sprpriority = -1

[state 171, 1]
type = playsnd
trigger1 = time = 0
value = 11, 1

[state 171, 2]
type = explod
trigger1 = animelem = 5
id = 0
anim = 173
postype = p1
pos = 42, -43
bindtime = 1
removetime = 300
vel = 4, 0
sprpriority = 3
ownpal = 1

[state 171, 3]
type = explod
trigger1 = animelem = 5
id = 1
anim = 173
postype = p1
pos = -42, -43
facing = -1
bindtime = 1
removetime = 300
vel = -4, 0
sprpriority = 3
ownpal = 1

[state 171, 4]
type = explod
trigger1 = animelem = 5
id = 2
anim = 173
postype = p1
pos = 64, -17
bindtime = 1
removetime = 300
vel = 4, 0
sprpriority = 2
ownpal = 1

[state 171, 5]
type = explod
trigger1 = animelem = 5
id = 3
anim = 173
postype = p1
pos = -64, -17
facing = -1
bindtime = 1
removetime = 300
vel = -4, 0
sprpriority = 2
ownpal = 1

[state 171, 6]
type = explod
trigger1 = animelem = 5
id = 4
anim = 171
postype = p1
pos = 135, 9
bindtime = 1
removetime = -2
vel = 7, 0
sprpriority = 1
ownpal = 1

[state 171, 7]
type = explod
trigger1 = animelem = 5
id = 5
anim = 171
postype = p1
pos = -135, 9
bindtime = 1
removetime = -2
facing = -1
vel = -7, 0
sprpriority = 1
ownpal = 1

[state 171, 8]
type = explod
trigger1 = animelem = 5
id = 6
anim = 172
postype = p1
pos = 85, 9
bindtime = 1
removetime = 300
vel = 4, 0
sprpriority = 0
ownpal = 1

[state 171, 9]
type = explod
trigger1 = animelem = 5
id = 7
anim = 172
postype = p1
pos = -85, 9
bindtime = 1
removetime = 300
facing = -1
vel = -4, 0
sprpriority = 0
ownpal = 1

[state 171, 10]
type = explod
trigger1 = animelem = 5
id = 8
anim = 172
postype = p1
pos = 65, 9
bindtime = 1
removetime = 300
vel = 4, 0
sprpriority = 0
ownpal = 1

[state 171, 11]
type = explod
trigger1 = animelem = 5
id = 9
anim = 172
postype = p1
pos = -65, 9
bindtime = 1
removetime = 300
facing = -1
vel = -4, 0
sprpriority = 0
ownpal = 1



[Statedef 180]
type = s

[state 180, 1]
type = varrandom
trigger1 = 1
v = 2
range = 0, 799

[state 180, 2]
type = changestate
trigger1 = var(2) = [0,199]
trigger2 = time = 1
value = 181

[state 180, 3]
type = changestate
trigger1 = var(2) = [200,399]
trigger2 = time = 1
value = 184


[Statedef 181]
type = s
ctrl = 0
anim = 670
ctrl = 0
velset = 0,0
sprpriority = 1

[state 181, 1]
type = assertspecial
trigger1 = time < 260
flag = roundnotover

[state 181, 2]
type = explod
trigger1 = animelem = 2
id = 123
anim = 1
postype = p1
pos = -3, -75
bindtime = -1
removetime = 4
sprpriority = 0
ownpal = 1

[state 181, 3]
type = explod
trigger1 = animelem = 3
id = 123
anim = 1
postype = p1
pos = -7, -85
bindtime = -1
removetime = -1
sprpriority = 0
ownpal = 1

[state 181, 4]
type = helper
trigger1 = time = 30
id = 0101
name = "metal tiger"
stateno = 182
postype = back
pos = -98, -90 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 181, 5]
type = explod
trigger1 = time = 0
id = 1010
anim = 675
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1

[state 181, 6]
type = playsnd
trigger1 = animelem = 7
value = 6, 6



[Statedef 182]
type = a
movetype = i
physics = n
anim = 680
velset = 5, -9.5
sprpriority = 4

[state 182, 1]
type = veladd
trigger1 = 1
y = .42

[state 182, 2]
type = changestate
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 183



[Statedef 183]
type = s
movetype = i
physics = n
anim = 685
velset = 0, 0

[state 183, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 183, 2]
type = playsnd
trigger1 = time = 2
value = 3, 2



[Statedef 184]
type = s
movetype = i
physics = s
anim = 690
ctrl = 0
velset = 0, 0
sprpriority = 1

[state 184, 1]
type = explod
trigger1 = animelem = 2
id = 123
anim = 1
postype = p1
pos = -3, -75
bindtime = -1
removetime = 4
sprpriority = 0
ownpal = 1

[state 184, 2]
type = explod
trigger1 = animelem = 3
id = 123
anim = 1
postype = p1
pos = -7, -85
bindtime = -1
removetime = -1
sprpriority = 0
ownpal = 1

[state 184, 3]
type = assertspecial
trigger1 = time < 220
flag = roundnotover

[state 184, 4]
type = explod
trigger1 = time = 0
id = 10101
anim = 695
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1

[state 184, 5]
type = playsnd
trigger1 = animelem = 6
value = 6, 9



[Statedef 185]
type = a
movetype = i
physics = n
ctrl = 0
anim = 700
velset = 0, -1
sprpriority = 1

[state 185, a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 185, b]
type = varset
trigger1 = time = 0
v = 5
value = -1

[state 185, c]
type = helper
trigger1 = time = 0
id = 5657
name = "screen"
stateno = 188
postype = p1
pos = 0, 0

[state 185, 0]
type = helper
trigger1 = time = 0
id = 5656
name = "screen"
stateno = 187
postype = p1
pos = 0, 0

[state 185, 1]
type = veladd
trigger1 = 1
y = -.44

[state 185, 2]
type = assertspecial
trigger1 = 1
flag = roundnotover

[state 185, 3]
type = null
trigger1 = 1
v = 0
value = Floor(pos y - 124)

[state 185, 4]
type = varset
trigger1 = 1
v = 1
value = Floor(screenpos y - 124)

[state 185, 5]
type = null
trigger1 = var(1) < -10
y = -(var(1) + 10)

[state 185, 7]
type = changestate
trigger1 = var(1) <= -10
trigger1 = var(2)
trigger2 = time >= 360
value = 186



[Statedef 186]
type = s
movetype = i
physics = n
anim = 710
velset = 0, 0
sprpriority = 1

[state 186, 1]
type = playsnd
trigger1 = time = 0
value = 2, 5

[state 186, 2]
type = assertspecial
trigger1 = time < 200
flag = roundnotover

[state 186, 3]
type = posadd
trigger1 = time = 0
y = -(screenpos y)

[state 186, 4]
type = helper
trigger1 = time = 0
id = 9090
name = "ninjascarf"
stateno = 189
postype = p1
pos = 0, 0
ownpal = 1

[state 186, 5]
type = explod
trigger1 = time = 60
id = 1111
anim = 730
postype = back
pos = -50, 180
bindtime = 1
removetime = 200
vel = 5.5, 0
accel = 0, -.05
sprpriority = 7
ownpal = 1



[Statedef 187]
type = a
movetype = i
physics = n
anim = 9999

[state 187, 0]
type = parentvarset
trigger1 = time = 0
v = 2
value = 1

[state 187, 1]
type = varset
trigger1 = 1
v = 0
value = Floor(screenpos y)

[state 187, 2]
type = varset
triggerall = time > 2
trigger1 = var(0) - var(1) != 0
v = 2
value = 1

[state 187, 3]
type = parentvarset
trigger1 = var(2)
v = 2
value = 0

[state 187, 3a]
type = parentvarset
trigger1 = var(2)
trigger1 = var(0) - var(1) = 0
v = 2
value = 1

[state 187, 4]
type = parentvarset
trigger1 = var(2)
fv = 0
value = var(0) - var(1)

[state 187, 4]
type = varset
trigger1 = 1
v = 1
value = Floor(screenpos y)



[Statedef 188]
type = a
movetype = i
physics = n
anim = 9999
velset = 0, -1

[state 188, 1]
type = veladd
trigger1 = 1
y = -1

[state 188, 2]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0, 1



[Statedef 189]
type = a
movetype = i
physics = n
anim = 720
sprpriority = -1

[state 189, 1]
type = bindtoparent
trigger1 = parent, animelemno(0) = 1
pos = 1, 79

[state 189, 2]
type = bindtoparent
trigger1 = parent, animelemno(0) = 2
pos = 5, 85

[state 189, 3]
type = bindtoparent
trigger1 = parent, animelemno(0) = 3
pos = 1, 85

[state 189, 4]
type = bindtoparent
trigger1 = parent, animelemno(0) = 4
pos = 0, 85
time = -1





[Statedef 195]
type = s
ctrl = 0
anim = 195
velset = 0,0
movetype = i
physics = s
sprpriority = 2

[state 195, 1]
type = helper
trigger1 = time = 0
id = 1212
name = "ninjascarf"
stateno = 530
postype = p1
pos = 1, -79
ownpal = 1

[state 195, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)







[Statedef 200]
type = s
movetype = a
physics = s
ctrl = 0
anim = 200
poweradd = 14

sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,0

[state 200, 2]
type = hitdef
trigger1 = animelem = 2
attr = s, na
hitflag = maf
guarDFlag = ma
pausetime = 8, 8
animtype = light
fall.animtype = light
priority = 4, hit
damage = 21
sparkno = s9103
sparkxy = -5, -68
hitsound = s5544,0
guardsound = s120,0
ground.type = high
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -5.5
air.velocity = -4, -1
air.hittime = 10
guard.slidetime = 14
guard.hittime = 14
guard.velocity = -5.5
yaccel = .6
guard.sparkno = s9101

[state 200, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 210]
type = s
movetype = a
physics = s
ctrl = 0
anim = 210

poweradd = 41
sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,1

[state 210, 0]
type = varset
trigger1 = animelem = 3
v = 3
value = 0

[state 210, a]
type = varset
trigger1 = time = [0,1]
v = 1
value = 0

[state 210, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 210, 2]
type = playsnd
trigger1 = time = 1
value = 6, 0
channel = 0

[state 210, 3]
type = playsnd
trigger1 = time = 2
value = 0, 3
channel = 3

[state 210, 4]
type = hitdef
trigger1 = animelem = 3
attr = s, na
hitflag = maf
guarDFlag = ma
pausetime = 8,8
animtype = medium
fall.animtype = medium
priority = 2, hit
damage = 34
sparkno = s6028
sparkxy = -5, -67
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -7.6
ground.cornerpush.veloff = -12
air.velocity = -6, -1
air.hittime = 30
guard.slidetime = 13
guard.hittime = 11
guard.velocity = -8
yaccel = .7
guard.sparkno = s9101

[state 210, 5]
type = varset
trigger1 = animelem = 7
v = 1
value = 1

[state 210, 6]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)


[Statedef 211]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = 2

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 211, 0]
type = varset
trigger1 = time = 0
v = 0
value = parent, stateno

[state 211, 1]
type = changeanim
trigger1 = parent, anim = 422
value = 421
elem = parent, animelemno(0)

[state 211, 1]
type = changeanim
trigger1 = parent, anim != 422
trigger1 = animexist(parent, anim + 1)
value = parent, anim + 1
elem = parent, animelemno(0)

[state 211, 2]
type = bindtoparent
trigger1 = 1
pos = 0, 0

[state 211, 3]
type = Destroyself
trigger1 = parent, stateno != var(0)
trigger2 = parent, movetype = h


[Statedef 220]
type = s
movetype = a
physics = s
ctrl = 0
anim = 220

poweradd = 56
sprpriority = 1

[state 220, 0]
type = varset
trigger1 = animelem = 4
v = 3
value = 0
persistent = 0

[state 220, a]
type = varset
trigger1 = time = [0,1]
v = 1
value = 0

[state 220, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 220, 2]
type = playsnd
trigger1 = time = 1
value = 6, 2
channel = 0

[state 210, 3]
type = playsnd
trigger1 = animelem = 3
value = 0, 3
channel = 3

[state 220, 4]
type = hitdef
trigger1 = animelem = 4
attr = s, na
hitflag = maf
guarDFlag = ma
pausetime = 8,8
animtype = hard
fall.animtype = hard
priority = 2, hit
damage = 46
sparkno = s6026
sparkxy = -5, -67
hitsound = s5546,2
guardsound = s120,0
ground.type = low
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -9
ground.cornerpush.veloff = -12
air.velocity = -9, -6
air.hittime = 15
guard.slidetime = 16
guard.hittime = 16
guard.velocity = -8.6
yaccel = .7
guard.sparkno = s9101

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,3

[state 220, 5]
type = varset
trigger1 = animelem = 9
v = 1
value = 1

[state 220, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 230]
type = s
movetype = a
physics = s
ctrl = 0
anim = 230

poweradd = 14
sprpriority = 1

[state 230, 2]
type = hitdef
trigger1 = animelem = 2
attr = s, na
hitflag = maf
guarDFlag = ma
pausetime = 8, 8
priority = 5, hit
animtype = light
fall.animtype = light
damage = 22
sparkno = s9103
sparkxy = -5, -34
hitsound = s5545,0
guardsound = s120,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
air.hittime = 11
air.velocity = -3, -2
guard.slidetime = 13
guard.hittime = 13
guard.velocity = -5.8
yaccel = .6
guard.sparkno = s9101

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,0

[state 230, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 240]
type = s
movetype = a
physics = s
ctrl = 0
anim = 240

poweradd = 41
sprpriority = 1

[state 240, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 240, 2]
type = varset
trigger1 = animelem = 3
v = 3
value = 0
persistent = 0

[state 240, 3]
type = varset
trigger1 = time = [0,1]
v = 1
value = 0

[state 240, 4]
type = playsnd
trigger1 = time = 2
value = 6, 1
channel = 0

[state 210, 3]
type = playsnd
trigger1 = animelem = 2
value = 0, 3
channel = 3

[state 240, 6]
type = hitdef
trigger1 = animelem = 3
attr = s, na
hitflag = maf
guarDFlag = ma
pausetime = 8,8
priority = 2, hit
animtype = medium
fall.animtype = medium
damage = 37
sparkno = s6029
sparkxy = -5, -27
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -6.4
air.velocity = -6, -1
air.hittime = 30
guard.slidetime = 13
guard.hittime = 13
guard.velocity = -6
yaccel = .6
guard.sparkno = s9101

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,1

[state 240, 7]
type = varset
trigger1 = animelem = 7
v = 1
value = 1

[state 240, 8]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 250]
type = s
movetype = a
physics = s
ctrl = 0
anim = 250

poweradd = 56
sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,4

[state 250, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 250, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 250, 2]
type = width
trigger1 = 1
value = 15, 0

[state 250, 3]
type = varset
trigger1 = animelem = 4
v = 3
value = 0

[state 250, 4]
type = playsnd
trigger1 = animelem = 2
value = 6, 10
channel = 0

[state 210, 3]
type = playsnd
trigger1 = animelem = 4
value = 0, 3
channel = 3

[state 250, 6]
type = posadd
trigger1 = animelem = 3
x = 36

[state 250, 7]
type = hitdef
trigger1 = animelem = 5
attr = s, na
hitflag = mafd
guarDFlag = ma
pausetime = 8,8
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 25
sparkno = s6028
sparkxy = -5, -33
hitsound = s5546,2
guardsound = s120,0
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8.5
air.velocity = -9, -1
air.hittime = 30
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8.6
yaccel = .6
guard.sparkno = s9101

[state 250, 8]
type = varset
trigger1 = animelem = 8
v = 1
value = 1

[state 250, 8]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 400]
type = c
movetype = a
physics = c
ctrl = 0
anim = 300

poweradd = 14
sprpriority = 1


[state 300, 2]
type = hitdef
trigger1 = animelem = 2
attr = c, na
hitflag = m
guarDFlag = m
pausetime = 8, 8
priority = 5, hit
animtype = light
fall.animtype = light
damage = 23
sparkno = s9103
sparkxy = -5 ,-48
hitsound = s5544,0
guardsound = s120,0
ground.type = low
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5.5
air.velocity = -3, -2
air.hittime = 9
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -5
guard.sparkno = s9101

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,0

[state 300, 3]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 410]
type = c
movetype = a
physics = c
ctrl = 0
anim = 310

poweradd = 41
sprpriority = 1

[state 310, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 310, 2]
type = varset
trigger1 = time = [0,1]
v = 1
value = 0

[state 310, 3]
type = varset
trigger1 = animelem = 3
v = 3
value = 0

[state 310, 4]
type = playsnd
trigger1 = time = 2
value = 6, 0
channel = 0

[state 210, 3]
type = playsnd
trigger1 = time = 2
value = 0, 3
channel = 3

[state 310, 6]
type = hitdef
trigger1 = animelem = 3
attr = c, na
hitflag = m
guarDFlag = m
pausetime = 8,8
priority = 2, hit
animtype = medium
fall.animtype = medium
damage = 35
sparkno = s6026
sparkxy = -5, -44
hitsound = s5546,2
guardsound = s120,0
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -7
air.velocity = -3, -4
air.hittime = 12
guard.slidetime = 17
guard.hittime = 17
guard.velocity = -7.5
guard.sparkno = s9101

[state 310, 7]
type = varset
trigger1 = animelem = 6
v = 1
value = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,1

[state 310, 8]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 420]
type = c
movetype = a
physics = c
ctrl = 0
anim = 320

poweradd = 56
sprpriority = 1

[state 320, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 320, 2]
type = varset
trigger1 = time = [0,1]
v = 1
value = 0

[state 320, 4]
type = playsnd
trigger1 = animelem = 2
value = 6, 2
channel = 0

[state 320, 5]
type = playsnd
trigger1 = animelem = 2
value = 0, 3
channel = 3

[state 240, 2]
type = hitdef
trigger1 = animelem = 4
trigger1 = enemynear,statetype != L
attr = c, na
animtype  = Up
damage    = 36
guarDFlag = ma
hitflag = maf
pausetime = 12,12
sparkno = s6025
guard.sparkno = 0
sparkxy = -10,-75
hitsound = s5546,2
guardsound = s120,0
ground.type = low
ground.slidetime = 12
air.hittime  = 25
ground.velocity = 0,-17
air.velocity = 0,-17
p2stateno = 6100
yaccel = .6
guard.sparkno = s9101

[state 240, 2]
type = hitdef

trigger1 = enemynear,statetype = L
attr = c, na
animtype  = Up
damage    = 36
guarDFlag = ma
hitflag = d
pausetime = 12,12
sparkno = s6028
guard.sparkno = s9101
sparkxy = -10,-75
hitsound = s5546,2
guardsound = s120,0
ground.type = low
ground.slidetime = 12
air.hittime  = 35
yaccel = 0.6
guard.sparkno = s9101

[state 320, 7]
type = varset
trigger1 = animelem = 8
v = 1
value = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,2

[state 320, 8]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)

[state 240, 4]
type = changestate
triggerall = movehit
trigger1 = command = "holdup"
value = 40


[Statedef 430]
type = c
movetype = a
physics = c
ctrl = 0
anim = 330

poweradd = 14
sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,0

[state 330, 2]
type = hitdef
trigger1 = animelem = 2
attr = c, na
hitflag = mfd
guarDFlag = la
pausetime = 8, 8
priority = 5, hit
animtype = light
fall.animtype = light
damage = 21
sparkno = s9103
sparkxy = -5, -5
hitsound = s5545,0
guardsound = s120,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
air.velocity = -2, -3
air.hittime = 10
down.velocity = -1.5, -7
down.hittime = 15
guard.slidetime = 15
guard.hittime = 15
guard.velocity = -5.5
guard.sparkno = s9101

[state 330, 3]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 440]
type = c
movetype = a
physics = c
ctrl = 0
anim = 340

poweradd = 41
sprpriority = 1

[state 340, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 340, 2]
type = varset
trigger1 = time = [0,1]
v = 1
value = 0

[state 340, 3]
type = varset
trigger1 = animelem = 3
v = 3
value = 0

[state 340, 4]
type = playsnd
trigger1 = time = 2
value = 6, 1
channel = 0

[state 210, 3]
type = playsnd
trigger1 = time = 3
value = 0, 3
channel = 3

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,1

[state 340, 6]
type = hitdef
trigger1 = animelem = 3
attr = c, na
hitflag = mf
guarDFlag = la
pausetime = 8,8
animtype = medium
fall.animtype = medium
priority = 2, hit
damage = 36
sparkno = s6028
sparkxy = -5, -20
hitsound = s5546,2
guardsound = s120,0
ground.type = low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -7.2
air.velocity = -4, -3
air.hittime = 12
guard.slidetime = 17
guard.hittime = 17
guard.velocity = -7.1
guard.sparkno = s9101

[state 340, 7]
type = varset
trigger1 = animelem = 7
v = 1
value = 1

[state 340, 8]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 450]
type = c
movetype = a
physics = c
ctrl = 0
anim = 350

poweradd = 56
sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,4

[state 350, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 350, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 350, 2]
type = playsnd
trigger1 = animelem = 3
value = 0, 3
channel = 3

[state 350, 2a]
type = varset
trigger1 = animelem = 3
v = 3
value = 0

[state 350, 3]
type = hitdef
trigger1 = animelem = 4
attr = c, na
hitflag = mf
guarDFlag = l
pausetime = 8,8
priority = 2, hit
damage = 46
sparkno = s6028
sparkxy = -5, -18
hitsound = s5546,2
guardsound = s120,0
ground.type = trip
ground.velocity = 0, -1
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -9.5
fall = 1
yaccel = .45
fall.recover = 0
guard.sparkno = s9101

[state 350, 4]
type = varset
trigger1 = animelem = 9
v = 1
value = 1

[state 350, 5]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 451]
type = c
movetype = a
physics = n
ctrl = 0
anim = 360

poweradd = 56
velset = 5.5, 0
sprpriority = 0

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,4

[state 360, 1]
type = explod
trigger1 = time = [2,28]
trigger1 = (time % 5) = 0
id = 1234
anim = 9185
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
vel = -.5, 0
sprpriority = 2
ownpal = 1

[state 360, 2]
type = playsnd
trigger1 = animelem = 5
value = 2, 4

[state 360, 2]
type = playerpush
trigger1 = movehit
value = 0

[state 360, 3]
type = hitdef
trigger1 = animelem = 5
attr = c, na
hitflag = mf
guarDFlag = la
pausetime = 9, 9
animtype = hard
fall.animtype = hard
priority = 5, hit
damage = 50
sparkno = s9104
sparkxy = -5, -19
hitsound = s5545,2
guardsound = s120,0
ground.type = trip
ground.velocity = 0, -1
air.velocity = -2, -.8
guard.slidetime = 15
guard.hittime = 15
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .45
guard.sparkno = s9101

[state 360, 4]
type = velset
trigger1 = animelem = 12
x = 0

[state 360, 5]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 600]
type = a
movetype = a
physics = a
ctrl = 0
anim = 400

poweradd = 14
sprpriority = 1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
trigger1 = prevstateno != 4531
value = 52

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,0


[state 400, 2]
type = hitdef
trigger1 = animelem = 2
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8, 8
animtype = light
fall.animtype = light
priority = 5, hit
damage = 24
sparkno = s9103
sparkxy = -5, -82
hitsound = s5544,0
guardsound = s120,0
ground.type = high
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
air.velocity = 0, -8
air.hittime = 14
airguard.velocity = -3, 0
yaccel = .6
guard.sparkno = s9101


[state 410,3]
type = veladd
trigger1 = var(13) = 1
y = -0.1

[state 480, 5]
type = changestate
trigger1 = animtime = 0
value = 460



[Statedef 610]
type = a
movetype = a
physics = a
ctrl = 0
anim = 410

poweradd = 41
sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 410, 0]
type = changeanim
trigger1 = hitpausetime
value = anim
elem = animelemno(var(1) % 3)
ignorehitpause = 1

[state 410, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 410, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 410, 3]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 410, 4]
type = playsnd
trigger1 = time = 2
value = 6, 0
channel = 0

[state 210, 3]
type = playsnd
trigger1 = time = 2
value = 0, 3
channel = 3

[state 410, 6]
type = hitdef
trigger1 = animelem = 3
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
animtype = medium
fall.animtype = medium
priority = 2, hit
damage = 35
sparkno = s6026
sparkxy = -5, -85
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -7.6
air.velocity = 0, -8
air.hittime = 22
guard.slidetime = 8
guard.hittime = 7
guard.velocity = -6.5
persistent = 0
yaccel = .6
guard.sparkno = s9101

[state 420,3]
type = veladd
trigger1 = var(13) = 1
y = -0.12

[state 480, 5]
type = changestate
trigger1 = animtime = 0
value = 460



[Statedef 620]
type = a
movetype = a
physics = a
ctrl = 0
anim = 420

poweradd = 56
sprpriority = 1

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,5

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 420, 0]
type = changeanim
trigger1 = hitpausetime
value = anim
elem = animelemno(var(1) % 3)
ignorehitpause = 1

[state 420, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 420, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 420, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 420, 2]
type = playsnd
trigger1 = time = 2
value = 6, 10
channel = 0

[state 420, 3]
type = playsnd
trigger1 = animelem = 2
value = 0, 3
channel = 3

[state 420, 4]
type = hitdef
trigger1 = prevstateno != [600,640]
trigger1 = animelem = 3
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 44
sparkno = s6027
sparkxy = -5, -77
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8.8
air.velocity = -8, 8
down.velocity = -5, 0
down.hittime = 13
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -7
persistent = 0
guard.sparkno = s9101

[state 420, 4]
type = hitdef
trigger1 = prevstateno = [600,640]
trigger1 = animelem = 3
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
priority = 2, hit
animtype = hard
damage = 44
sparkno = s6027
sparkxy = -5, -77
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8.8
air.velocity = -18, 13
down.velocity = -5, 0
down.hittime = 13
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -7
p2stateno = 7715
persistent = 0
guard.sparkno = s9101

[state 451,6]
type = screenbound
triggerall = movehit
trigger1 = var(3) = 1
trigger1 = prevstateno != 50
value = 0

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = var(3) = 1
trigger1 = prevstateno != 50

[state 451,3]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state 451,6]
type = changestate
triggerall = var(3) = 1
triggerall = prevstateno != 50
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = 1

[state 451,6]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = 1


[Statedef 621]
type = a
movetype = a
physics = a
ctrl = 0
anim = 422

poweradd = 56
sprpriority = 1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 420, 0]
type = changeanim
trigger1 = hitpausetime
value = anim
elem = animelemno(var(1) % 3)
ignorehitpause = 1

[state 420, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 420, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 420, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 420, 2]
type = playsnd
trigger1 = time = 2
value = 6, 10
channel = 0

[state 420, 3]
type = playsnd
trigger1 = animelem = 2
value = 0, 3

[state 420, 4]
type = hitdef
trigger1 = animelem = 3
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 44
sparkno = s6027
sparkxy = -5, -77
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8.8
air.velocity = -18, 13
down.velocity = -5, 0
down.hittime = 13
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -7
p2stateno = 7715
persistent = 0
guard.sparkno = s9101

[state 451,3]
type = veladd
trigger1 = var(13) = 1
y = -0.2

[state 451,6]
type = changestate
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = ifelse(var(53) = 2,0,1)

[State 192, b]
type = ScreenBound
trigger1 = (movehit) && (Pos Y < -150)
value = 0

[State 192, b]
type = posfreeze
trigger1 = (movehit) && (Pos Y < -150)

[state 250,11]
type = explod
trigger1 = p2stateno = 5090
persistent = 0
anim = 6012
pos = -80,-5
postype = p2
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,12]
type = explod
trigger1 = p2stateno = 5090 && p2movetype = h
persistent = 0
anim = 6013
pos = -80,-5
postype = p2
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,13]
type = envshake
trigger1 = p2stateno = 5090
persistent = 0
time = 15
freq = 70
ampl = -4

[state 451,6]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 630]
type = a
movetype = a
physics = a
ctrl = 0
anim = 430

poweradd = 14
sprpriority = 1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 430, 1]
type = playsnd
trigger1 = time = 2
value = 4,0

[state 430, 2]
type = hitdef
trigger1 = animelem = 2
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8, 8
priority = 5, hit
animtype = light
fall.animtype = light
damage = 21
sparkno = s9103
sparkxy = -5, -22
hitsound = s5545,0
guardsound = s120,0
ground.type = high
ground.slidetime = 11
ground.hittime = 11
ground.velocity = -6.5
air.velocity = 0, -8.5
air.hittime = 17
down.velocity = -3, 0
down.hittime = 10
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -5
yaccel = .6
guard.sparkno = s9101


[state 430,3]
type = veladd
trigger1 = var(13) = 1
y = -0.1

[state 480, 5]
type = changestate
trigger1 = animtime = 0
value = 460



[Statedef 640]
type = a
movetype = a
physics = a
ctrl = 0
anim = 440

poweradd = 41
sprpriority = 1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 440, 0]
type = changeanim
trigger1 = hitpausetime
value = anim
elem = animelemno(var(1) % 3)
ignorehitpause = 1

[state 440, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 440, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 440, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 440, 2]
type = playsnd
trigger1 = time = 2
value = 6, 1
channel = 0

[state 210, 3]
type = playsnd
trigger1 = time = 2
value = 0, 3
channel = 3

[state 440, 4]
type = hitdef
trigger1 = animelem = 3
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
priority = 2, hit
animtype = medium
fall.animtype = medium
damage = 33
sparkno = s6026
sparkxy = -5, -37
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8
air.velocity = 0, -8
air.hittime = 22
down.velocity = -5, 0
down.hittime = 13
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -6.5
persistent = 0
yaccel = .6
guard.sparkno = s9101

[state 440,3]
type = veladd
trigger1 = var(13) = 1
y = -0.12

[state 480, 5]
type = changestate
trigger1 = animtime = 0
value = 460



[Statedef 650]
type = a
movetype = a
physics = a
ctrl = 0
anim = 450

poweradd = 56
sprpriority = 1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 450, 00]
type = varset
trigger1 = time = 0
v = 2
value = ifelse(prevstateno = 420, 1, 0)

[state 450, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 450, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 450, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 450, 2]
type = playsnd
trigger1 = animelem = 2
value = 6, 0
channel = 0

[state 450, 3]
type = playsnd
trigger1 = animelem = 3
value = 0, 3
channel = 3

[state 450, 4]
type = hitdef
trigger1 = prevstateno != [600,640]
trigger1 = animelem = 4
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 7,7
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 46
sparkno = s6027
sparkxy = -5, -9
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8
air.velocity = -8, 8
down.velocity = -8, 0
down.hittime = 15
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -6.5
fall.recover = 0
persistent = 0
guard.sparkno = s9101

[state 450, 4]
type = hitdef
trigger1 = prevstateno = [600,640]
trigger1 = animelem = 4
attr = a, na
hitflag = maf
guarDFlag = ha
pausetime = 7,7
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 46
sparkno = s6027
sparkxy = -5, -9
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8
air.velocity = -20, 12
down.velocity = -8, 0
down.hittime = 15
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -6.5
fall.recover = 0
p2stateno = 7715
persistent = 0
guard.sparkno = s9101

[state 451,6]
type = screenbound
triggerall = movehit
trigger1 = var(3) = 1
trigger1 = prevstateno != 50
value = 0

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = var(3) = 1
trigger1 = prevstateno != 50

[state 451,3]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state 451,6]
type = changestate
triggerall = var(3) = 1
triggerall = prevstateno != 50
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = 1

[state 451,6]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = 1


[Statedef 651]
type = a
movetype = a
physics = a
ctrl = 0
anim = 452

poweradd = 56
sprpriority = 1

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 450, 0]
type = changeanim
trigger1 = hitpausetime
value = 450
elem = animelemno(var(1) % 3)
ignorehitpause = 1

[state 450, 00]
type = varset
trigger1 = time = 0
v = 2
value = ifelse(prevstateno = 420, 1, 0)

[state 450, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 450, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 450, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 450, 2]
type = playsnd
trigger1 = animelem = 2
value = 6, 0
channel = 0

[state 450, 3]
type = playsnd
trigger1 = animelem = 3
value = 0, 3
channel = 3

[state 450, 4]
type = hitdef
trigger1 = animelem = 4
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 46 - ((var(2) && var(17)) * 50)
sparkno = s6027
sparkxy = -5, -9
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -8
air.velocity = -12, 11
down.velocity = -8, 0
down.hittime = 15
guard.slidetime = 7
guard.hittime = 7
guard.velocity = -6.5
fall.recover = 0
p2stateno = 7715
persistent = 0
guard.sparkno = s9101

[state 451,6]
type = changestate
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = ifelse(var(53) = 2,0,1)

[State 192, b]
type = ScreenBound
trigger1 = (movehit) && (Pos Y < -150)
value = 0

[State 192, b]
type = posfreeze
trigger1 = (movehit) && (Pos Y < -150)

[state 451,3]
type = veladd
trigger1 = var(13) = 1
y = -0.2

[state 250,11]
type = explod
trigger1 = p2stateno = 5090
persistent = 0
anim = 6012
pos = -80,-5
postype = p2
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,12]
type = explod
trigger1 = p2stateno = 5090 && p2movetype = h
persistent = 0
anim = 6013
pos = -80,-5
postype = p2
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,13]
type = envshake
trigger1 = p2stateno = 5090
persistent = 0
time = 15
freq = 70
ampl = -4

[state 480, 5]
type = changestate
trigger1 = animtime = 0
value = 460



[Statedef 60]
type = a
movetype = i
physics = n
ctrl = 0
anim = 500
velset = 0, 0

[state 500, 0]
type = turn
trigger1 = Frontedgebodydist <= 3

[state 500, 1]
type = playsnd
trigger1 = time = 0
value = 2, 1

[state 500, 3]
type = varset
trigger1 = time = 0
v = 2
value = 1

[state 500, 4]
type = changeanim
trigger1 = animtime = 0
value = 510

[state 500, 5]
type = velset
trigger1 = anim = 510
x = const(velocity.jump.fwd.x)
y = const(velocity.jump.y)

[state 500, 6]
type = changestate
trigger1 = anim = 510
value = 61
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 61]
type = a
movetype = i
physics = a
ctrl = ifelse(var(53) = 2,0,1)

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 510, 2]
type = changeanim
trigger1 = anim = 41
trigger1 = animtime = 0
value = 460

[state 510, 3]
type = changestate
triggerall = var(2) > 0
triggerall = time > 20
trigger1 = command = "up"
value = 62



[Statedef 62]
type    = a
physics = n
ctrl = 0
velset = 0,0

[state 515, Decrement]
type = varadd
trigger1 = time = 0
v = 2
value = -1

[state 515, 1]
type = changeanim
trigger1 = time = 0
value = 41

[state 515, 2]
type = changeanim
trigger1 = sysvar(1) = 1
value = 50

[state 515, 3]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 515, 4]
type = varset
trigger1 = command = "holdfwd"
sysvar(1) = 1

[state 515, 5]
type = varset
trigger1 = command = "holdback"
sysvar(1) = -1

[state 515, 6]
type = velset
trigger1 = time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[state 515, 7]
type = changestate
trigger1 = time = 2
value = 61
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 193]
type = s
movetype = i
physics = s
ctrl = 0
anim = 9999
sprpriority = 1

[state 600, 1]
type = assertspecial
trigger1 = 1
flag = intro

[state 600, 2]
type = helper
trigger1 = time = 30
id = 4343
name = "glider"
stateno = 19300
postype = back
pos = -20, Floor(pos y - 160)
ownpal = 1

[state 600, 3]
type = changeanim
trigger1 = var(0)
value = 47
persistent = 0

[state 600, jump land sound]
type = playsnd
trigger1 = var(0)
value = 2, 2
persistent = 0

[state 600, landing wave]
type = explod
trigger1 = var(0)
id = 589
anim = F27
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2
persistent = 0


[State 192, 1]
type = changeanim
trigger1 = anim = 47
trigger1 = animtime = 0
value = 0
persistent = 0

[State 192, 1]
type = Changestate
trigger1 = partner,numhelper(9007)
trigger2 = ID > partner,ID
trigger2 = (enemynear,numhelper(9007)) || (enemynear(1),numhelper(9007))
value = 4511



[Statedef 19300]
type = a
movetype = i
physics = n
anim = 600
sprpriority = 0
velset = 4.5, 0

[state 610, 1]
type = explod
trigger1 = time = 0
id = 100
anim = 605
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[state 610, 2]
type = explod
trigger1 = time = 0
id = 101
anim = 610
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1

[state 610, 3]
type = removeexplod
trigger1 = parentdist x <= -95
id = 101
persistent = 0

[state 610, 4]
type = helper
trigger1 = parentdist x <= -95
id = 111
name = "land"
stateno = 19301
postype = p1
pos = -62, 70
ownpal = 1
persistent = 0

[state 610, 4a]
type = varset
trigger1 = numhelper(111) = 1
v = 0
value = 1

[state 610, 5]
type = velset
trigger1 = time >= 80
y = -2

[state 610, 6]
type = parentvarset
trigger1 = var(1)
v = 0
value = 1

[state 610, 7]
type = removeexplod
trigger1 = time = 209
ID = 100

[state 610, 7]
type = Destroyself
trigger1 = time = 300



[Statedef 19301]
type = a
movetype = i
physics = n
anim = 615
sprpriority = 4
velset = -1, -4

[state 615, 1]
type = gravity
trigger1 = 1

[state 615, 2]
type = parentvarset
trigger1 = pos y >= -18 + ifelse(root,var(31) > 0,-600,0)
v = 1
value = 1

[state 615, 3]
type = Destroyself
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)



[Statedef 194]
type = S
Physics = S
ctrl = 0
velset = 0,0

[State 192, 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[state 0, spawn scarf]
type = helper
trigger1 = time = 0
id = 1212
name = "scarf"
stateno = 500
postype = p1
pos = -4, -71
ownpal = 1

[State 192, 1]
type = velset
trigger1 = command != "holdfwd" && command != "holdback"
x = 0

[State 192, 1]
type = velset
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 192, 1]
type = changeanim
trigger1 = command = "holdback"
trigger1 = anim != 21
value = 21

[State 192, 1]
type = velset
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 192, 1]
type = changeanim
trigger1 = command = "holdfwd"
trigger1 = anim != 20
value = 20

[State 192, 1]
type = changeanim
trigger1 = command != "holdback" && command != "holdfwd"
trigger1 = anim != 0
value = 0

[State 52, 1]
type = changestate
trigger1 = numhelper(9007) = 0
trigger1 = enemynear,numhelper(9007) = 0
value = 0
ctrl = 1



[Statedef 197]
type = s
movetype = i
physics = s
ctrl = 0
anim = 9999
sprpriority = 3

[state 620, 1]
type = assertspecial
trigger1 = 1
flag = intro

[state 620, 2]
type = helper
trigger1 = time = 30
id = 4343
name = "metal tiger"
stateno = 19400
postype = Front
pos = 95, 0 + ifelse(var(31) > 0,-600,0)
facing = -1
ownpal = 1

[state 620, 3]
type = changeanim
trigger1 = time = 112
value = 635


[State 192, 1]
type = changeanim
trigger1 = time = 132
value = 0



[Statedef 19400]
type = s
movetype = i
physics = n
anim = 620
velset = 5, 0
sprpriority = 4

[state 630, 1]
type = helper
trigger1 = time = 0
id = 123
name = "strider"
stateno = 19401
postype = p1
pos = 0, 0
ownpal = 1

[state 630, 2]
type = helper
trigger1 = time = 61
id = 124
name = "teleport"
stateno = 19402
postype = p1
pos = 0, 0
ownpal = 1

[state 630, 3]
type = varset
trigger1 = time = 61
v = 0
value = 1

[state 630, 4]
type = playsnd
trigger1 = time = 61
value = 6, 2

[state 630, 5]
type = Destroyself
trigger1 = screenpos x >= 500
trigger1 = Facing = 1
trigger2 = screenpos x <= -500
trigger2 = Facing = -1




[Statedef 19401]
type = a
movetype = i
physics = n
anim = 625
sprpriority = 5

[state 635, 1]
type = bindtoparent
trigger1 = parent, animelemno(0) = 1
pos = 12, -47

[state 635, 2]
type = bindtoparent
trigger1 = parent, animelemno(0) = 2
pos = 12, -54

[state 635, 3]
type = bindtoparent
trigger1 = parent, animelemno(0) = 3
pos = 12, -63

[state 635, 4]
type = bindtoparent
trigger1 = parent, animelemno(0) = 4
pos = 12, -52

[state 635, 5]
type = bindtoparent
trigger1 = parent, animelemno(0) = 5
pos = 12, -42

[state 635, 6]
type = bindtoparent
trigger1 = parent, animelemno(0) = 6
pos = 12, -44

[state 635, 7]
type = Destroyself
trigger1 = parent, var(0)



[Statedef 19402]
type = a
movetype = i
physics = n
anim = 630
sprpriority = 5

[state 636, 1]
type = bindtoparent
triggerall = animelemno(0) = [1,4]
trigger1 = parent, animelemno(0) = 1
pos = 12, -47
time = 300

[state 636, 2]
type = bindtoparent
triggerall = animelemno(0) = [1,4]
trigger1 = parent, animelemno(0) = 2
pos = 12, -54
time = 300

[state 636, 3]
type = bindtoparent
triggerall = animelemno(0) = [1,4]
trigger1 = parent, animelemno(0) = 3
pos = 12, -63
time = 300

[state 636, 4]
type = bindtoparent
triggerall = animelemno(0) = [1,4]
trigger1 = parent, animelemno(0) = 4
pos = 12, -52
time = 300

[state 636, 5]
type = bindtoparent
triggerall = animelemno(0) = [1,4]
trigger1 = parent, animelemno(0) = 5
pos = 12, -42
time = 300

[state 636, 6]
type = bindtoparent
triggerall = animelemno(0) = [1,4]
trigger1 = parent, animelemno(0) = 6
pos = 12, -44
time = 300

[state 636, 7]
type = Destroyself
trigger1 = animtime = 0



[Statedef 196]
type = s
movetype = i
physics = s
ctrl = 0
anim = 0
sprpriority = 1

[state 640, 0]
type = assertspecial
trigger1 = 1
flag = intro

[state 640, 1]
type = helper
trigger1 = time = 0
id = 990
name = "scarf"
stateno = 19500
postype = p1
pos = 0, 0
ownpal = 1

[state 640, 2]
type = explod
trigger1 = time = 0
id = 555
anim = 640
postype = p1
pos = 80, 0
bindtime = 1
removetime = -1
ownpal = 1
shadow = -1

[state 640, 3]
type = changeanim
trigger1 = time = 70
value = 10

[state 640, 4]
type = changeanim
trigger1 = anim = 10
trigger1 = animtime = 0
value = 310

[state 640, 5]
type = explod
trigger1 = anim = 310
id = 444
anim = 311
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
persistent = 0

[state 640, 6]
type = playsnd
trigger1 = anim = 310
value = 6, 0
persistent = 0

[state 640, 7]
type = playsnd
trigger1 = anim = 310
value = 0, 3
persistent = 0

[state 640, 8]
type = removeexplod
trigger1 = time = 83
id = 555

[state 640, 9]
type = explod
trigger1 = time = 83
id = 556
anim = 645
postype = p1
pos = 80, 0
bindtime = 1
removetime = -2
sprpriority = 0
ownpal = 1
shadow = -1

[state 640, 10]
type = explod
trigger1 = time = 85
id = 557
anim = 9157
postype = p1
pos = 82, -21
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1
scale = .6,.6

[state 640, 11]
type = playsnd
trigger1 = time = 85
value = F5,6

[state 640, 12]
type = helper
trigger1 = time = 87
id = 1111
name = "ouroboro"
stateno = 19501
postype = p1
pos = 80, 0
ownpal = 1

[state 640, 13]
type = changeanim
trigger1 = anim = 310
trigger1 = animtime = 0
value = 12

[state 640, 14]
type = changeanim
trigger1 = anim = 12
trigger1 = animtime = 0
value = 0

[state 640, 15]
type = varset
trigger1 = anim = 0
trigger1 = numhelper(1111) = 1
v = 2
value = 1



[Statedef 19500]
type = a
movetype = i
physics = n
anim = 1
sprpriority = 0

[state 641, 1]
type = bindtoparent
trigger1 = 1
pos = -4, -71

[state 641, 2]
type = changeanim
trigger1 = anim = 1
trigger1 = parent, anim != 0
value = 9999

[state 641, 3]
type = changeanim
trigger1 = anim = 9999
trigger1 = parent, anim = 0
value = 1

[state 641, 4]
type = Destroyself
trigger1 = parent, stateno != 196



[Statedef 19501]
type = s
movetype = i
physics = n
anim = 650
sprpriority = 0

[state 650, 1]
type = changeanim
trigger1 = time = 60
value = 655

[state 650, 2]
type = velset
trigger1 = time = 60
x = -3

[state 650, 3]
type = Destroyself
trigger1 = screenpos x <= -80
trigger1 = Facing = 1
trigger2 = screenpos x >= 400
trigger2 = Facing = -1



[Statedef 500]
type = a
movetype = i
physics = n
anim = 1
sprpriority = -1

[state 900, 1]
type = bindtoparent
trigger1 = 1
pos = -4, -71

[state 900, 2]
type = changeanim
trigger1 = parent, anim = 5
value = 9999

[state 900, 3]
type = turn
trigger1 = Facing != parent, Facing

[state 900, 4]
type = changeanim
trigger1 = anim = 9999
trigger1 = parent, anim = 0
value = 1

[state 900, 5]
type = Destroyself
trigger1 = (parent, stateno != 0) && (parent,stateno != 194)
trigger2 = parent, movetype = h



[Statedef 510]
type = a
movetype = i
physics = n
anim = 1
sprpriority = -1

[state 910, 1]
type = bindtoparent
trigger1 = 1
pos = 4, -48

[state 910, 2]
type = changeanim
trigger1 = parent, anim = 6
value = 9999

[state 910, 3]
type = turn
trigger1 = Facing != parent, Facing

[state 910, 4]
type = changeanim
trigger1 = anim = 9999
trigger1 = parent, anim = 11
value = 1

[state 910, 5]
type = Destroyself
trigger1 = parent, stateno != 11
trigger2 = parent, movetype = h



[Statedef 520]
type = a
movetype = i
physics = n
anim = 1
sprpriority = -1

[state 920, 1]
type = bindtoparent
triggerall = parent, anim = 20
trigger1 = parent, animelemno(0) = [1,2]
trigger2 = parent, animelemno(0) = [5,7]
pos = -8, -74

[state 920, 2]
type = bindtoparent
triggerall = parent, anim = 20
trigger1 = parent, animelemno(0) = [3,4]
trigger2 = parent, animelemno(0) = [8,9]
pos = -8, -75

[state 920, 3]
type = bindtoparent
triggerall = parent, anim = 21
trigger1 = parent, animelemno(0) = 1
trigger2 = parent, animelemno(0) = [4,6]
trigger3 = parent, animelemno(0) = [9,10]
pos = -8, -74

[state 920, 4]
type = bindtoparent
triggerall = parent, anim = 21
trigger1 = parent, animelemno(0) = [2,3]
trigger2 = parent, animelemno(0) = [7,8]
pos = -8, -75

[state 920, 5]
type = Destroyself
trigger1 = parent, stateno != 20
trigger2 = parent, movetype = h

[state 920, 2]
type = changeanim
trigger1 = parent, anim = 5
value = 9999

[state 920, 3]
type = turn
trigger1 = Facing != parent, Facing

[state 920, 4]
type = changeanim
trigger1 = anim = 9999
trigger1 = parent, anim = [20,21]
value = 1



[Statedef 530]
type = a
movetype = i
physics = n
anim = 1
sprpriority = -1

[state 930, 1]
type = bindtoparent
trigger1 = parent, animelemno(0) = 1
pos = 1, -79

[state 930, 2]
type = bindtoparent
trigger1 = parent, animelemno(0) = 2
pos = 5, -85

[state 930, 3]
type = bindtoparent
trigger1 = parent, animelemno(0) = 3
pos = 1, -85

[state 930, 4]
type = bindtoparent
trigger1 = parent, animelemno(0) = 4
pos = 0, -85
time = -1

[state 930, 5]
type = Destroyself
trigger1 = parent, stateno != 195
trigger2 = parent, movetype = h
trigger3 = parent, movetype = H


[Statedef 540]
type = s
movetype = i
physics = s
ctrl = 0
anim = 740
velset = 0, 0
sprpriority = 1

[state 940, 1]
type = helper
trigger1 = time = 0
id = 1212
name = "scarf"
stateno = 550
postype = p1
pos = 0, 0
ownpal = 1

[state 940, 2]
type = assertspecial
trigger1 = time < 200
flag = roundnotover



[Statedef 550]
type = a
movetype = i
physics = n
anim = 1
sprpriority = -1

[state 950, 1]
type = bindtoparent
trigger1 = parent, animelemno(0) = 1
pos = 1, -79

[state 950, 2]
type = bindtoparent
trigger1 = parent, animelemno(0) = 2
pos = 5, -85

[state 950, 3]
type = bindtoparent
trigger1 = parent, animelemno(0) = 3
pos = 1, -85

[state 950, 4]
type = bindtoparent
trigger1 = parent, animelemno(0) = 4
pos = 0, -85
time = -1




[Statedef 800]
type = s
movetype = a
physics = s
ctrl = 0
anim = 750

[state 1000, 1]
type = hitdef
trigger1 = time = 0
attr = s, nt
hitflag = m-
guarDFlag =
pausetime = 1, 1
priority = 1, miss
sparkno = -1
hitsound = s2, 1
p1stateno = 810
p2stateno = 830
p1facing = ifelse (command = "holdfwd", -1, 1)
p2facing = -1
fall = 1
fall.recover = 0
ground.velocity = 13,-19
givepower = 80
getpower = 100
yaccel = .7


[state 1000, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 810]
type = s
movetype = i
physics = n
ctrl = 0
anim = 800
velset = 0, 0
sprpriority = 2

[state 810, grab sound]
type = changestate
trigger1 = enemynear,stateno = 5040
value = 460

[state 1010, 3]
type = targetbind
trigger1 = animelem = 1
pos = -60, 0
time = 20

[state 1010, 4]
type = playsnd
trigger1 = animelem = 2
value = 6, 2
channel = 0

[state 1010, 5]
type = targetbind
trigger1 = animelem = 2
pos = -50, 0
time = 3

[state 1010, 6]
type = playsnd
trigger1 = animelem = 3
value = F0, 18

[state 1010, 7]
type = targetbind
trigger1 = animelem = 3
pos = -39, -81
time = 18

[state 1010, 8]
type = velset
trigger1 = time = 23
y = -14

[state 1010, 8]
type = velmul
trigger1 = time >= 36 && time < 46
y = .9

[state 1010, 10]
type = velset
trigger1 = animelem = 46
y = 0

[state 1010, 11]
type = targetbind
trigger1 = animelem = 11
pos = 56, -73
time = 5

[state 1010, 12]
type = targetbind
trigger1 = animelem = 12
pos = 39, -39
time = 4

[state 1010, 13]
type = targetbind
trigger1 = time > 56
pos = -7, 0
time = 1

[state 1010, 14]
type = velset
trigger1 = time = 56
y = 8
persistent = 0

[state 1010, 14a]
type = playsnd
trigger1 = animelem = 13
value = 6, 10

[state 1010, 15]
type = veladd
trigger1 = time > 56
y = .5

[state 250,11]
type = explod
trigger1 = time > 56
trigger1 = var(31) = 1
trigger1 = pos y > -610
anim = 9999
ID = 9997
pos = -80,-5
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
removetime = 1

[state 810, state end]
type = varadd
trigger1 = ID = 56
trigger1 = pos y >= -200 && var(31) = 1
v = 31
value = -1

[state 1010, 16]
type = changestate
trigger1 = animelemno(0) = 13
trigger1 = pos y >= 0 + ifelse(var(31) > 1,-600,0)
value = 820



[Statedef 820]
type = a
movetype = i
physics = n
ctrl = 0
velset = 0, 0

[state 1020, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(var(31) > 1,-600,0)

[state 810, state end]
type = varadd
trigger1 = var(31) > 1
v = 31
value = -1
persistent = 0

[state 810, state end]
type = varset
trigger1 = pos y = 0
trigger1 = var(31) = 1
v = 31
value = 0

[state 1020, 2]
type = explod
trigger1 = time = 0
id = 23
anim = 6012
postype = p1
pos = -90, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[state 1020, 3]
type = explod
trigger1 = time = 0
id = 24
anim = 6013
postype = p1
pos = -90, 0
bindtime = 1
removetime = -2
sprpriority = 0
ownpal = 1

[state 1020, 4]
type = targetlifeadd
trigger1 = time = 0
value = -93

[state 1020, 5]
type = envshake
trigger1 = time = 0
time = 38
freq = 110
ampl = -4

[state 1020, 6]
type = playsnd
trigger1 = time = 0
value = 0,999

[state 1020, 7]
type = targetstate
trigger1 = time = 18
value = 840

[state 1020, 8]
type = changeanim
trigger1 = time = 18
value = 801

[state 1020, 9]
type = velset
trigger1 = time = 18
x = 7

[state 1020, 9]
type = turn
trigger1 = time = 18

[state 1020, 10]
type = velset
trigger1 = anim = 801
trigger1 = animelem = 4
x = 0

[state 1020, 11]
type = changestate
trigger1 = anim = 801
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 830]
type = a
movetype = h
physics = n
ctrl = 0
facep2 = 1
sprpriority = 1

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
triggerall = time <= 2
trigger1 = (command = "holdfwd" || command = "holdback") && (command="c"||command="b"||command = "y"||command="z")
v = 0
value = 1








[state 1030, 1]
type = changeanim2
trigger1 = time = 0
value = 805+var(40)

[state 250,11]
type = explod
trigger1 = time > 56
trigger1 = numexplod(9997)
trigger1 = var(31) = 1
trigger1 = pos y >= -600
anim = F3517
pos = -50,-5
sprpriority = 5
bindtime = -1
ownpal = 1
persistent = 0

[state 250,11]
type = explod
trigger1 = time > 56
trigger1 = numexplod(9997)
trigger1 = var(31) = 1
trigger1 = pos y >= -600
anim = F3517
pos = 0,-5
facing = -1
sprpriority = 5
bindtime = -1
ownpal = 1
persistent = 0
[state 250,11]
type = explod
trigger1 = time > 56
trigger1 = numexplod(9997)
trigger1 = var(31) = 1
trigger1 = pos y >= -600
anim = F3517
pos = 50,-5
sprpriority = 5
bindtime = -1
ownpal = 1
persistent = 0
[state 250,11]
type = explod
trigger1 = time > 56
trigger1 = var(31) = 1
trigger1 = pos y > -600
anim = 9999
ID = 9997
pos = -80,-5
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
removetime = 1

[state 250,11]
type = explod
trigger1 = pos Y = -600
trigger1 = time > 56
anim = F3002 + ((var(32)-1)*100)
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1
persistent = 0

[state 250,11]
type = explod
trigger1 = pos Y = -600
trigger1 = time > 56
anim = F3003 + ((var(32)-1)*100)
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
persistent = 0

[state 250,11]
type = explod
trigger1 = pos Y = 0
trigger1 = time > 56
anim = F3000 + ((var(32)-1)*100)
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1
persistent = 0

[state 250,11]
type = explod
trigger1 = pos Y = 0
trigger1 = time > 56
anim = F3001 + ((var(32)-1)*100)
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1
persistent = 0

[state 250,11]
type = explod
trigger1 = ID = 57
trigger1 = enemynear, stateno = 820
anim = 9999
ID = 9996
pos = -80,-5
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
removetime = 1
persistent = 0

[state 1030, 2]
type = screenbound
trigger1 = 1
value = 0

[state 1030, 3]
type = selfstate
trigger1 = time = 600
value = 5030



[Statedef 840]
type = a
movetype = h
physics = n
ctrl = 0

[state 810, state end]
type = posset
trigger1 = time = 0
y = ifelse(var(31) > 0,-600,0)

[state 1040, 1]
type = changeanim
trigger1 = time = 0
value = 5050+202*var(40)

[state 1040, 2]
type = velset
trigger1 = time = 0
x = -13
y = -19

[state 1040, 3]
type = veladd
trigger1 = 1
y = .7

[state 1040, 4]
type = playerpush
trigger1 = time < 10
value = 0

[state 1040, 4b]
type = nothitby
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = sca
time = const(data.liedown.time) + 30

[state 1040, 5]
type = selfstate
trigger1 = vel y < 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 5030



[Statedef 850]
type = s
movetype = a
physics = s
ctrl = 0
anim = 750

[state 1050, 1]
type = hitdef
trigger1 = time = 0
attr = s, nt
hitflag = m-
guarDFlag =
pausetime = 1, 1
priority = 1, miss
sparkno = -1
hitsound = -1
p1stateno = 860
p2stateno = 1100
p2facing = 1
fall = 1
fall.recover = 0
yaccel = .6
givepower = 80
getpower = 100

[state 1050, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 860]
type = a
movetype = i
physics = n
ctrl = 0
anim = 810
velset = 0, 0
sprpriority = 2

[state 810, grab sound]
type = changestate
trigger1 = enemynear,stateno = 5040
value = 460

[state 1060, 1]
type = varset
trigger1 = time = 0
v = 2
value = Floor(target, const(size.head.pos.x))

[state 1060, 2]
type = varset
trigger1 = time = 0
fv = 0
value = Floor(target, const(size.head.pos.y))

[state 1060, 3]
type = posadd
trigger1 = time = 1
x = -20 - var(2)

[State 1060, 4]
type = VelSet
trigger1 = time = 1
x = 7.5
y = fvar(0) * .099

[state 1060, 5]
type = gravity
trigger1 = time > 1

[state 1060, 6]
type = screenbound
trigger1 = 1
value = 0

[state 1060, 7]
type = varset
trigger1 = time = 0
v = 1
value = Floor(fvar(0))

[state 1060, 8]
type = targetstate
trigger1 = (p2dist x - var(2)) <= 0

value = 1110

[state 1060, 9]
type = changestate
trigger1 = (p2dist x - var(2)) <= 0

value = 870



[Statedef 870]
type = a
movetype = i
physics = n
anim = 811
velset = 0, 0
sprpriority = 2

[state 1070, 1]
type = targetbind
trigger1 = animelem = 1
pos = -1, -39
time = 12

[state 1070, 1a]
type = posadd
trigger1 = animelem = 1
y = 42

[state 1070, 1b]
type = posadd
trigger1 = animelem = 1
trigger1 = pos y > 0
y = -(pos y)

[state 1070, 2]
type = playsnd
trigger1 = time = 0
value = 2, 1

[state 1070, 3]
type = velset
trigger1 = time = 8
x = 7
y = -3

[state 1070, 4]
type = veladd
trigger1 = time >= 8
y = .5

[state 1070, 5]
type = targetbind
trigger1 = animelem = 2
pos = -38, -66
time = 3

[state 1070, 6]
type = targetbind
trigger1 = animelem = 3
pos = -40, -93
time = -1

[state 1070, 7]
type = targetstate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 1120

[state 1070, 8]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 880



[Statedef 880]
type = s
movetype = i
physics = s
ctrl = 0
anim = 812
velset = 0, 0

[state 1080, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(var(31) > 0,-600,0)

[state 1080, 2]
type = width
trigger1 = 1
value = 40, 0

[state 1080, 3]
type = targetbind
trigger1 = time = 0
pos = 39, -108
time = 1

[state 1080, 4]
type = targetlifeadd
trigger1 = time = 0
value = -92

[state 1080, 5]
type = targetdrop
trigger1 = time = 0

[state 1080, 6]
type = playsnd
trigger1 = time = 0
value = 6, 2

[state 1080, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 1100]
type = s
movetype = h
physics = n
ctrl = 0
velset = 0, 0
sprpriority = 1

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
triggerall = time <= 2
trigger1 = (command = "holdfwd" || command = "holdback") && (command="c"||command="b"||command = "y"||command="z")
v = 0
value = 1







[state 1100, 1]
type = changeanim
trigger1 = time = 0
value = 5000+200*var(40)

[state 1100, 2]
type = selfstate
trigger1 = time = 300
value = 5050



[Statedef 1110]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 1

[state 1110, 1]
type = changeanim2
trigger1 = time = 0
value = 816+2*var(40)

[state 1110, 2]
type = screenbound
trigger1 = 1
value = 0



[Statedef 1120]
type = a
movetype = h
physics = n
ctrl = 0


[state 1060, 6]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[state 1120, 0]
type = changeanim2
trigger1 = time = 0
value = 817+2*var(40)

[state 1120, 1]
type = velset
trigger1 = time = 1
x = -18
y = -5

[state 1120, 2]
type = veladd
trigger1 = 1
y = .7

[state 1120, 3b]
type = nothitby
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = sca
time = const(data.liedown.time) + 30

[state 1120, 3]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 5100



[Statedef 1130]
type = a
movetype = a
physics = a
ctrl = 0
anim = 760

[state 460, 1]
type = varset
trigger1 = var(53) = 1
trigger1 = command = "hold y"
v = 0
value = 610

[state 460, 1]
type = varset
trigger1 = var(53) = 1
trigger1 = command = "hold z"
v = 0
value = 620

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 500, 2]
type = hitdef
trigger1 = time = 0
attr = a, nt
hitflag = a-
priority = 1, miss
sparkno = -1
hitsound = F0,7
p1sprpriority = 1
p1facing = ifelse (command = "holdfwd", 1, -1)
hitonce = 1
p1facing = 1
p2facing = 1
p1stateno = 1140
p2stateno = 1180
guard.dist = 0
fall = 1


[state 1130, 2]
type = changestate
trigger1 = animtime = 0
trigger1 = movehit = 0
value = var(0)



[Statedef 1140]
type = a
movetype = i
physics = n
ctrl = 0
anim = 820
sprpriority = 2
velset = 0, 0

[state 810, grab sound]
type = changestate
trigger1 = enemynear,stateno = 5040
value = 460

[state 1140, 1]
type = bindtotarget
trigger1 = time = 1
pos = -37, 113
time = 12

[state 1140, 2]
type = bindtotarget
trigger1 = animelem = 2
pos = -71, 64
time = 4

[state 1140, 3]
type = bindtotarget
trigger1 = animelem = 3
pos = -47, 26
time = 3

[state 1140, 4]
type = bindtotarget
trigger1 = animelem = 4
pos = -28, 20
time = 4

[state 1140, 5]
type = bindtotarget
trigger1 = animelem = 5
pos = 46, 20
time = 3

[state 1140, 6]
type = targetbind
trigger1 = animelem = 6
pos = -2, -28
time = -1

[state 1140, 7]
type = velset
trigger1 = animelem = 6
y = 8

[state 1140, 8]
type = gravity
trigger1 = animelemno(0) = 6

[state 250,11]
type = explod
trigger1 = var(31) = 1
trigger1 = pos y > -610
anim = 9999
ID = 9997
pos = -80,-5
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
removetime = 1

[state 1140, 9]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 1,-600,0)
value = 1150



[Statedef 1150]
type = a
movetype = i
physics = n
ctrl = 0
anim = 821
velset = 0, 0

[state 250,11]
type = posset
trigger1 = time = 0
y = 0 + ifelse(var(31) > 1,-600,0)

[state 250,11]
type = varadd
trigger1 = time = 0
v = 31
value = -1

[state 1150, 0]
type = targetbind
trigger1 = time = 0
pos = 0, 0
time = -1

[state 1150, 1]
type = playsnd
trigger1 = time = 0
value = 0,999

[state 1150, 2]
type = explod
trigger1 = time = 0
id = 23
anim = 6012
postype = p1
pos = -90, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[state 1150, 3]
type = explod
trigger1 = time = 0
id = 24
anim = 6013
postype = p1
pos = -90, 0
bindtime = 1
removetime = -2
sprpriority = 0
ownpal = 1

[state 1150, 4]
type = targetlifeadd
trigger1 = time = 0
value = -93

[state 1150, 5]
type = envshake
trigger1 = time = 0
time = 40
freq = 130
ampl = -5

[state 1150, 6]
type = targetstate
trigger1 = time = 0
value = 1190

[state 1150, 7]
type = targetdrop
trigger1 = animtime = 0

[state 1150, 8]
type = changestate
trigger1 = animtime = 0
value = 1160



[Statedef 1160]
type = s
movetype = i
physics = n
ctrl = 0
anim = 105
velset = -8, 0

[state 1160, 1]
type = nothitby
trigger1 = 1
value = sca

[state 1160, 2]
type = velset
trigger1 = animelem = 6
x = 0

[state 1160, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 1180]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 1
velset = 0, 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
triggerall = time <= 2
trigger1 = (command = "holdfwd" || command = "holdback") && (command="c"||command="b"||command = "y"||command="z")
v = 0
value = 1







[state 250,11]
type = explod
trigger1 = numexplod(9997)
trigger1 = var(31) = 1
trigger1 = pos y >= -600
anim = F3517
pos = -50,-5
sprpriority = 5
bindtime = -1
ownpal = 1
persistent = 0
[state 250,11]
type = explod
trigger1 = numexplod(9997)
trigger1 = var(31) = 1
trigger1 = pos y >= -600
anim = F3517
pos = 0,-5
facing = -1
sprpriority = 5
bindtime = -1
ownpal = 1
persistent = 0
[state 250,11]
type = explod
trigger1 = numexplod(9997)
trigger1 = var(31) = 1
trigger1 = pos y >= -600
anim = F3517
pos = 50,-5
sprpriority = 5
bindtime = -1
ownpal = 1
persistent = 0
[state 250,11]
type = explod
trigger1 = var(31) = 1
trigger1 = pos y > -600
anim = 9999
ID = 9997
pos = -80,-5
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
removetime = 1

[state 250,11]
type = explod
trigger1 = ID != 32
trigger1 = pos y >= -200 && var(31) = 1
anim = 9999
ID = 9996
pos = -80,-5
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1
removetime = 1

[state -2, metal]
type = varadd
triggerall = ID = 56
trigger1 = pos y >= -200 && var(31) = 1
var(31) = -1

[state 1180, 0]
type = posadd
trigger1 = time = 0
x = -(const(size.head.pos.x))
y = (const(size.head.pos.y))

[state 1180, 1]
type = changeanim2
trigger1 = time = 0
value = 825+2*var(40)

[state 1180, 2]
type = screenbound
trigger1 = 1
value = 0

[state 1180, 3]
type = selfstate
trigger1 = time = 400
value = 5050



[Statedef 1190]
type = a
movetype = h
physics = n
ctrl = 0
velset = 0, 0

[state 810, state end]
type = posset
trigger1 = time = 0
y = ifelse(var(31) > 0,-600,0)

[state 250,11]
type = explod
trigger1 = pos Y = -600
trigger1 = time = 0
anim = F3002 + ((var(32)-1)*100)
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,11]
type = explod
trigger1 = pos Y = -600
trigger1 = time = 0
anim = F3003 + ((var(32)-1)*100)
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,11]
type = explod
trigger1 = pos Y = 0
trigger1 = time = 0
anim = F3000 + ((var(32)-1)*100)
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,11]
type = explod
trigger1 = pos Y = 0
trigger1 = time = 0
anim = F3001 + ((var(32)-1)*100)
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 1190, 1]
type = changeanim2
trigger1 = time = 0
value = 826+2*var(40)

[state 1190, 2]
type = changeanim2
trigger1 = anim = 826+2*var(40)
trigger1 = animtime = 0
value = 817+2*var(40)

[state 1190, 3]
type = velset
trigger1 = anim = 817+2*var(40)
x = -14
y = -9
persistent = 0

[state 1190, 4]
type = veladd
trigger1 = anim = 817+2*var(40)
y = .7

[state 1190, 5]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 5100




[Statedef 901]
type = s
movetype = a
physics = n
velset = 0,0
ctrl = 0
sprpriority = 1

[state 200, 1]
type = posset
trigger1 = time = 0
y = ifelse(var(31) > 0,-600,-0)

[state haha]
type = nothitby
trigger1 = time = 0
time = 20
value = sca

[state haha]
type = changestate
trigger1 = time = 1
value = 2000



[Statedef 950]
type = s
movetype = a
physics = s
ctrl = 0
anim = 250

sprpriority = 1

[State 245, Velset]
type = explod
trigger1 = time = 0
anim = 9999
ID = 9003
removetime = 1

[state haha]
type = superpause
trigger1 = time = 0
time = 30
pos = -21,-27
anim = F59
sound = F0,24
movetime = 0
poweradd = -1000

[state 250, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 250, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 250, 2]
type = width
trigger1 = 1
value = 15, 0

[state 250, 3]
type = varset
trigger1 = animelem = 4
v = 3
value = 0

[state 250, 4]
type = playsnd
trigger1 = animelem = 2
value = 6, 10
channel = 0

[state 210, 3]
type = playsnd
trigger1 = animelem = 4
value = 0, 3
channel = 3

[state 250, 6]
type = posadd
trigger1 = animelem = 3
x = 36

[state 250, 7]
type = hitdef
trigger1 = animelem = 5
attr = s, na
hitflag = maf
guarDFlag = ma
pausetime = 8,8
priority = 2, hit
animtype = hard
fall.animtype = hard
damage = 48
sparkno = 46
sparkxy = -5, -33
hitsound = 1, 2
guardsound = 0+var(49),8
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -17,-9
air.velocity = -17,-9
yaccel = .6
p2stateno = 6200

[state 250, 8]
type = varset
trigger1 = animelem = 8
v = 1
value = 1

[state 250, 8]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 951]
type = a
movetype = a
physics = a
ctrl = 0
anim = 440

sprpriority = 1

[State 245, Velset]
type = explod
trigger1 = time = 0
anim = 9999
ID = 9003
removetime = 1

[state haha]
type = superpause
trigger1 = time = 0
time = 30
pos = -21,-27
anim = F59
sound = F0,24
movetime = 0
poweradd = -1000

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 440, 0]
type = changeanim
trigger1 = hitpausetime
value = anim
elem = animelemno(var(1) % 3)
ignorehitpause = 1

[state 440, 01]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 440, 02]
type = varadd
trigger1 = 1
v = 1
value = 1
ignorehitpause = 1

[state 440, 1]
type = helper
trigger1 = time = 0
id = 2323
name = "slash"
stateno = 211
postype = p1
pos = 0, 0
ownpal = 1

[state 440, 2]
type = playsnd
trigger1 = time = 2
value = 6, 1
channel = 0

[state 210, 3]
type = playsnd
trigger1 = time = 2
value = 0, 3
channel = 3

[state 440, 4]
type = hitdef
trigger1 = animelem = 3
attr = a, na
hitflag = mafd
guarDFlag = ha
pausetime = 8,8
priority = 2, hit
animtype = medium
fall.animtype = hard
damage = 43
sparkno = 49
sparkxy = -5, -37
hitsound = 1,1
guardsound = 0+var(49),8
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -17,-9
air.velocity = -17,-9
yaccel = .6
p1stateno = 952
p2stateno = 6210

[state 460, 1]
type = varset
trigger1 = movehit
v = 29
value = 1
ignorehitpause = 1
persistent = 0

[state 440,3]
type = veladd
trigger1 = var(13) = 1
y = -0.12

[state 480, 5]
type = changestate
trigger1 = animtime = 0
value = 460


[Statedef 952]
type = a
movetype = a
physics = n
velset = 0,0
ctrl = 0
sprpriority = 1

[State 4512, invincibility]
type = changestate
trigger1 = enemynear,stateno!= [6210,6213]
trigger2 = enemynear,alive=0
value = 460

[State 4512, invincibility]
type = assertspecial
trigger1 = 1
flag = invisible

[State 4511, screen bound]
type = turn
trigger1 = facing != partner,facing

[State 4512, invincibility]
type = varset
trigger1 = time = 0
v = 52
value = 1

[State 4512, invincibility]
type = helper
trigger1 = time = 0
stateno = 955

[state 480, 5]
type = gravity
trigger1 = anim = 460

[state 480, 5]
type = nothitby
trigger1 = 1
value = sca
time = 10

[state 480, 5]
type = changeanim
trigger1 = animtime = 0
value = 460
persistent = 0

[state 460, 1]
type = changestate
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 953


[Statedef 953]
type    = s
movetype= a
physics = n
anim = 47
velset = 0,0
ctrl = 0

[State 4512, invincibility]
type = assertspecial
trigger1 = 1
flag = invisible

[State 4511, screen bound]
type = turn
trigger1 = facing != partner,facing

[state 480, 5]
type = nothitby
trigger1 = 1
value = sca
time = 10

[state 200, 1]
type = posset
trigger1 = 1
y = ifelse(var(31) > 0,-600,0)

[state 200, 1]
type = changestate
trigger1 = animtime = 0
value = 954


[Statedef 954]
type = S
movetype = I
physics = N
anim = 43
sprpriority = 2
ctrl = 0

[State 4512, invincibility]
type = varset
trigger1 = time = 0
v = 52
value = 1

[State 4511, invincibility]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4511, ghost]
type = PlayerPush
trigger1 = 1
value = 0

[State 4511, screen bound]
type = ScreenBound
trigger1 = 1
value = 0

[State 4512, invincibility]
type = assertspecial
trigger1 = 1
flag = invisible

[State 4511, velocity]
type = explod
trigger1 = time = 0
anim = 43
removetime = 70
facing = 1
ID = 4511
bindtime = -1

[State 4511, velocity]
type = VelSet
trigger1 = time = 0
x = 12
y = -9

[State 4511, velocity]
type = Veladd
trigger1 = 1
y = .5

[State 4511, screen bound]
type = turn
trigger1 = facing != partner,facing
trigger2 = FrontEdgeDist < -30

[State 4511, wait outside state]
type = removeexplod
trigger1 = backedgebodydist <= -60
trigger2 = FrontEdgeDist < -30
ID = 4511

[State 4511, wait outside state]
type = ChangeState
triggerall = time > 2
trigger1 = backedgebodydist <= -60
trigger2 = FrontEdgeDist < -30
value = 4513


[Statedef 955]
type = a
movetype = i
physics = n
velset = 0,0
ctrl = 0
sprpriority = 1

[state 200, 1]
type = bindtoparent
trigger1 = 1
pos = 0,0

[state 3212, 1]
type = changeanim
trigger1 = 1
value = (parent, anim)
elem = parent, animelemno(0)

[state 200, 1]
type = destroyself
trigger1 = parent,stateno = 4513





[Statedef 2000]
type = s
movetype = a
physics = n
ctrl = 0
anim = 1900

poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2000, a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2000, 0]
type = explod
trigger1 = time = 0
id = 9900
anim = 6120
postype = p1
pos = 42, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2000, 1]
type = helper
trigger1 = time = 0
id = 2121
name = "slash"
stateno = 2005
postype = p1
pos = 0, 0
ownpal = 1

[state 2000, 1a]
type = velset
trigger1 = animelem = 3
x = 4

[state 2000, 2]
type = playsnd
trigger1 = animelem = 5
value = 6, 1
channel = 0

[state 2000, 3]
type = playsnd
trigger1 = animelem = 6
value = 0, 3
channel = 3

[state 2000, 4]
type = velset
trigger1 = animelem = 11
x = 0

[state 2000, 5]
type = helper
triggerall = animelemno(0) = [3,9]
trigger1 = var(2) != animelemno(0)
id = 734
name = "images"
stateno = 2006
postype = p1
pos = -20, 0
ownpal = 1

[state 2000, 6]
type = changeanim
trigger1 = animelem = 2 = 2
value = 1900
elem = 3

[state 2000, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2000, 8]
type = hitdef
trigger1 = animelem = 7
attr = s, sa
hitflag = mafd
guarDFlag = ma
pausetime = 11, 11
animtype = hard
fall.animtype = hard
ground.type = low
priority = 5, hit
damage = 90, 2
sparkno = s6029
sparkxy = -5, -37
hitsound = s5546,2
guardsound = s120,0
ground.velocity = -10, -3
air.velocity = -10, -2
guard.slidetime = 14
guard.hittime = 14
guard.velocity = -8.5
down.velocity = -3, -5
down.hittime = 30
fall = 1
fall.recover = 0
yaccel = .8
guard.sparkno = s9101

[state 2000, 10]
type = varset
trigger1 = 1
v = 2
value = animelemno(0)

[state 2000, 11]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 2005]
type = a
movetype = i
physics = n
anim = 1905
sprpriority = 2

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2005, 1]
type = bindtoparent
trigger1 = time = 0
pos = 0, 0
time = -1

[state 2005, 2]
type = changeanim
trigger1 = 1
value = 1905
elem = parent, animelemno(0)

[state 2005, 3]
type = Destroyself
trigger1 = parent, stateno != 2000
trigger2 = parent, movetype = h



[Statedef 2006]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = -1

[state 2006, 0]
type = nothitby
trigger1 = 1
value = sca

[state 2006, 1]
type = varset
trigger1 = time = 0
v = 0
value = parent, animelemno(0) - 1

[state 2006, 2]
type = changeanim
trigger1 = 1
value = 1900
elem = var(0)

[state 2006, 3]
type = helper
trigger1 = var(0) = [7,10]
trigger1 = time = 0
id = 9901
name = "slash"
stateno = 2007
postype = p1
pos = 0, 0
ownpal = 1

[state 2026, 4]
type = assertspecial

trigger1 = time%2=1
flag = invisible

[state 2006, 5]
type = varadd
trigger1 = parent, hitpausetime = 0
v = 1
value = 1

[state 2006, 6]
type = Destroyself

trigger1 = var(1) > 10
trigger2 = parent, movetype = h



[Statedef 2007]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = 0

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2007, 1]
type = changeanim
trigger1 = 1
value = 1905
elem = parent, var(0)

[state 2007, 2]
type = assertspecial
triggerall = root, hitpausetime = 0
trigger1 = (root, var(1) % 2) = 1
flag = invisible

[state 2007, 3]
type = varadd
trigger1 = root, hitpausetime = 0
v = 0
value = 1

[state 2007, 4]
type = Destroyself
trigger1 = var(0) > 10
trigger2 = root, movetype = h



[Statedef 2010]
type = s
movetype = a
physics = n
ctrl = 0
anim = 1910

poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2010, a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2010, 0]
type = explod
trigger1 = time = 0
id = 9900
anim = 6120
postype = p1
pos = 42, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2010, 1]
type = helper
trigger1 = time = 0
id = 2121
name = "slash"
stateno = 2015
postype = p1
pos = 0, 0
ownpal = 1

[state 2010, 1a]
type = velset
trigger1 = animelem = 4
x = 6

[state 2010, 2]
type = playsnd
trigger1 = animelem = 6
value = 6, 1
channel = 0

[state 2010, 3]
type = playsnd
trigger1 = animelem = 8
value = 0, 3
channel = 3

[state 2010, 4]
type = velset
trigger1 = animelem = 14
x = 0

[state 2010, 5]
type = helper
triggerall = animelemno(0) = [5,13]
trigger1 = var(2) != animelemno(0)
id = 734
name = "images"
stateno = 2016
postype = p1
pos = -20, 0
ownpal = 1

[state 2010, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2010, 8]
type = hitdef
trigger1 = animelem = 10
attr = s, sa
hitflag = mafd
guarDFlag = ma
pausetime = 11, 11
animtype = hard
fall.animtype = hard
ground.type = low
priority = 5, hit
damage = 92, 2
sparkno = s6029
sparkxy = -5, -37
hitsound = s5546,2
guardsound = s120,0
ground.velocity = -10, -3
air.velocity = -10, -2
guard.slidetime = 14
guard.hittime = 14
guard.velocity = -8.5
down.velocity = -3, -5
down.hittime = 30
fall = 1
fall.recover = 0
yaccel = .8
guard.sparkno = s9101

[state 2010, 10]
type = varset
trigger1 = 1
v = 2
value = animelemno(0)

[state 2010, 11]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 2015]
type = a
movetype = i
physics = n
anim = 1915
sprpriority = 2

[state 2015, 1]
type = bindtoparent
trigger1 = time = 0
pos = 0, 0
time = -1

[state 2015, 2]
type = changeanim
trigger1 = 1
value = 1915
elem = parent, animelemno(0)

[state 2015, 3]
type = Destroyself
trigger1 = parent, stateno != 2010
trigger2 = parent, movetype = h



[Statedef 2016]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = -1

[state 2016, 0]
type = nothitby
trigger1 = 1
value = sca

[state 2016, 1]
type = varset
trigger1 = time = 0
v = 0
value = parent, animelemno(0) - 1

[state 2016, 2]
type = changeanim
trigger1 = 1
value = 1910
elem = var(0)

[state 2016, 3]
type = helper
trigger1 = var(0) = [9,12]
trigger1 = time = 0
id = 9901
name = "slash"
stateno = 2017
postype = p1
pos = 0, 0
ownpal = 1

[state 2026, 4]
type = assertspecial

trigger1 = time%2=1
flag = invisible

[state 2016, 5]
type = varadd
trigger1 = parent, hitpausetime = 0
v = 1
value = 1

[state 2016, 6]
type = Destroyself

trigger1 = var(1) > 10
trigger2 = parent, movetype = h



[Statedef 2017]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = 0

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2017, 1]
type = changeanim
trigger1 = 1
value = 1915
elem = parent, var(0)

[state 2017, 2]
type = assertspecial
triggerall = root, hitpausetime = 0
trigger1 = (root, var(1) % 2) = 1
flag = invisible

[state 2017, 3]
type = varadd
trigger1 = root, hitpausetime = 0
v = 0
value = 1

[state 2017, 4]
type = Destroyself
trigger1 = var(0) > 10
trigger2 = root, movetype = h



[Statedef 2020]
type = s
movetype = a
physics = n
ctrl = 0
anim = 1920

poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2020, a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2020, 0]
type = explod
trigger1 = time = 0
id = 9900
anim = 6120
postype = p1
pos = 42, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2020, 1]
type = helper
trigger1 = time = 0
id = 2121
name = "slash"
stateno = 2025
postype = p1
pos = 0, 0
ownpal = 1

[state 2020, 1a]
type = velset
trigger1 = animelem = 4
x = 8

[state 2020, 2]
type = playsnd
trigger1 = animelem = 8
value = 6, 1
channel = 0

[state 2020, 3]
type = playsnd
trigger1 = animelem = 10
value = 0, 3
channel = 3

[state 2020, 4]
type = velset
trigger1 = animelem = 16
x = 0

[state 2020, 5]
type = helper
triggerall = animelemno(0) = [5,16]
trigger1 = var(2) != animelemno(0)
id = 734
name = "images"
stateno = 2026
postype = p1
pos = -20, 0
ownpal = 1

[state 2020, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2020, 8]
type = hitdef
trigger1 = animelem = 12
attr = s, sa
hitflag = mafd
guarDFlag = ma
pausetime = 11, 11
animtype = hard
fall.animtype = hard
priority = 5, hit
damage = 92, 2
sparkno = s6029
sparkxy = -5, -37
hitsound = s5546,2
guardsound = s120,0
ground.velocity = -7, -3
air.velocity = -7, -2
guard.slidetime = 14
guard.hittime = 14
guard.velocity = -8.5
down.velocity = -3, -5
down.hittime = 30
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2020, 10]
type = varset
trigger1 = 1
v = 2
value = animelemno(0)

[state 2020, 11]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 2025]
type = a
movetype = i
physics = n
anim = 1925
sprpriority = 2

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2025, 1]
type = bindtoparent
trigger1 = time = 0
pos = 0, 0
time = -1

[state 2025, 2]
type = changeanim
trigger1 = 1
value = 1925
elem = parent, animelemno(0)

[state 2025, 3]
type = Destroyself
trigger1 = (parent, stateno != 2020) && (parent,stateno != 4811)
trigger2 = parent, movetype = h



[Statedef 2026]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = -1

[state 2026, 0]
type = nothitby
trigger1 = 1
value = sca

[state 2026, 1]
type = varset
trigger1 = time = 0
v = 0
value = parent, animelemno(0) - 1

[state 2026, 2]
type = changeanim
trigger1 = 1
value = 1920
elem = var(0)

[state 2026, 3]
type = helper
trigger1 = var(0) = [11,14]
trigger1 = time = 0
id = 9901
name = "slash"
stateno = 2027
postype = p1
pos = 0, 0
ownpal = 1

[state 2026, 4]
type = assertspecial

trigger1 = time%2=1
flag = invisible

[state 2026, 5]
type = varadd
trigger1 = parent, hitpausetime = 0
v = 1
value = 1

[state 2026, 6]
type = Destroyself

trigger1 = var(1) > 10
trigger2 = parent, movetype = h



[Statedef 2027]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = 0

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2027, 1]
type = changeanim
trigger1 = 1
value = 1925
elem = parent, var(0)

[state 2027, 2]
type = assertspecial
triggerall = root, hitpausetime = 0
trigger1 = (root, var(1) % 2) = 1
flag = invisible

[state 2027, 3]
type = varadd
trigger1 = root, hitpausetime = 0
v = 0
value = 1

[state 2027, 4]
type = Destroyself
trigger1 = var(0) > 10
trigger2 = root, movetype = h



[Statedef 2030]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2000

poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2030, 0]
type = explod
trigger1 = time = 1
id = 1131
anim = 6120
postype = p1
pos = 36, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2030, 1]
type = explod
trigger1 = time = 0
id = 7462
anim = 2001
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1

[state 2030, 2]
type = helper
trigger1 = time = 0
id = 667
name = "slash"
stateno = 2031
postype = p1
pos = 0, 0
ownpal = 1

[state 2030, 3]
type = playsnd
trigger1 = animelem = 5
value = 6, 0
channel = 0

[state 2030, 4]
type = playsnd
trigger1 = animelem = 5
value = 0, 3
channel = 3

[state 2030, 5]
type = hitdef
trigger1 = animelem = 7
attr = s, sa
hitflag = maf
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
priority = 4, hit
damage = 80, 3
sparkno = s6028
sparkxy = -5, -54
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.velocity = -11.5, -4
ground.hittime = 17
air.type = low
air.velocity = -11.5, -4
air.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8.5
yaccel = .6
guard.sparkno = s9101

[state 2030, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 2031]
type = a
movetype = i
physics = n
anim = 9999
sprpriority = 2

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2031, 0]
type = varset
trigger1 = time = 0
v = 0
value = parent, stateno

[state 2031, 1]
type = changeanim
trigger1 = animexist(parent, anim + 5)
value = parent, anim + 5
elem = parent, animelemno(0)

[state 2031, 2]
type = bindtoparent
trigger1 = time = 0
pos = 0, 0
time = -1

[state 2031, 3]
type = Destroyself
trigger1 = parent, stateno != var(0)
trigger2 = parent, movetype = h



[Statedef 2040]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2010

poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2040, 0]
type = explod
trigger1 = time = 1
id = 1131
anim = 6120
postype = p1
pos = 30, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2040, 1]
type = explod
trigger1 = time = 0
id = 7462
anim = 2011
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1

[state 2040, 2]
type = helper
trigger1 = time = 0
id = 667
name = "slash"
stateno = 2031
postype = p1
pos = 0, 0
ownpal = 1

[state 2040, 3]
type = playsnd
trigger1 = animelem = 5
value = 6, 0
channel = 0

[state 2040, 4]
type = playsnd
trigger1 = animelem = 5
value = 0, 3
channel = 3

[state 2040, 5]
type = hitdef
trigger1 = animelem = 7
attr = c, sa
hitflag = maf
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
priority = 4, hit
damage = 80, 3
sparkno = s6028
sparkxy = -5, -31
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.velocity = -11, -4
ground.hittime = 17
air.type = low
air.velocity = -11, -4
air.hittime = 20
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -9
yaccel = .6
guard.sparkno = s9101

[state 2040, 7]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 2050]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2020

poweradd = 14
sprpriority = 1

[state 2050, 1]
type = velmul
trigger1 = time = 0
x = .15
y = .15

[state 2050, 2]
type = veladd
trigger1 = time = 0
trigger1 = vel y = [-.1,.1]
y = ifelse(vel y <= 0, .1, -.1)

[state 2050, 3]
type = velset
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
y = 0

[state 2050, 5]
type = explod
trigger1 = time = 0
id = 7462
anim = 2021
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1

[state 2050, 6]
type = helper
trigger1 = time = 0
id = 667
name = "slash"
stateno = 2031
postype = p1
pos = 0, 0
ownpal = 1

[state 2050, 7]
type = playsnd
trigger1 = animelem = 5
value = 6, 0
channel = 0

[state 2050, 8]
type = playsnd
trigger1 = animelem = 5
value = 0, 3
channel = 3

[state 2050, 9]
type = hitdef
trigger1 = animelem = 7
attr = a, sa
hitflag = maf
guarDFlag = ha
pausetime = 1, 11
animtype = hard
fall.animtype = hard
priority = 4, hit
damage = 80, 3
sparkno = s6028
sparkxy = -5, -86
hitsound = s5546,2
guardsound = s120,0
ground.type = high
ground.velocity = -11, -4
ground.hittime = 17
air.type = low
air.velocity = -12, -4
air.hittime = 20
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -9
yaccel = .6
guard.sparkno = s9101

[state 2050, 11]
type = changestate
trigger1 = animtime = 0
value = 460




[Statedef 2060]
type = S
movetype = I
physics = S
ctrl = 0
anim = 2030
velset = 0, 0
poweradd = 25
sprpriority = 1

[State 2060, 1]
type = VarSet
trigger1 = time = 0
v = 15
value = ifelse(command = "x", 1, ifelse(command = "y", 2, 3))

[State 2060, 2]
type = Explod
trigger1 = time = 1
ID = 3232
anim = 6120
postype = p1
pos = 32, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 2060, 3]
type = VelSet
triggerall = var(15) = 1
trigger1 = AnimElem = 2
x = -(BackEdgeDist * .050)
y = -5.5

[State 2060, 4]
type = VelSet
triggerall = var(15) = 2
trigger1 = AnimElem = 2
x = -(BackEdgeDist * .050)
y = -7

[State 2060, 5]
type = VelSet
triggerall = var(15) = 3
trigger1 = AnimElem = 2
x = -(BackEdgeDist * .050)
y = -8.5

[State 2060, 5a]
type = VelSet
trigger1 = Vel X > 0
x = 0

[State 2060, 6]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 2060, 7]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1

[State 2060, 8]
type = VelAdd
trigger1 = time > 3
y = .2

[State 2060, 9]
type = ChangeState
triggerall = AnimElemNo(0) = [9,11]
trigger1 = Facing = 1
trigger1 = ScreenPos X <= 17
trigger2 = Facing = -1
trigger2 = ScreenPos X >= 302
value = 2070

[State 2060, 9a]
type = Width
trigger1 = 1
value = 0, -17

[State 2060, 10]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52




[Statedef 2070]
type = A
movetype = I
physics = N
ctrl = 0
anim = 2040
velset = 0, 0
sprpriority = 1

[State 2070, 0]
type = VarSet
trigger1 = PrevStateNo = 2060
v = 15
value = 0

[State 2070, 1]
type = PosAdd
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2070, 2]
type = PosAdd
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2070, 3]
type = PosAdd
trigger1 = ScreenPos Y < 101
y = -(ScreenPos Y - 101)

[State 2070, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 2070, 4a]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1

[State 2070, 4b]
type = Width
trigger1 = 1
value = 0, -17

[State 2070, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2080




[Statedef 2080]
type = A
movetype = I
physics = N
ctrl = 0
anim = 2050
velset = 0, 0
sprpriority = 1

[State 2080, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 2080, 1]
type = PosAdd
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2080, 2]
type = PosAdd
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2080, 3]
type = Helper
trigger1 = time = 0
ID = 8008
name = "Scarf"
StateNo = 2081
postype = p1
pos = 0, 0
ownpal = 1

[State 2080, 4]
type = VarAdd
trigger1 = 1
v = 15
value = 1

[State 2080, 4a]
type = Width
trigger1 = 1
value = 0, -17

[State 2080, 5]
type = ChangeState
trigger1 = command = "holdup"
value = 2100

[State 2080, 6]
type = ChangeState
trigger1 = command = "holddown"
value = 2110

[State 2080, 7]
type = ChangeState
trigger1 = command = "SwitchWalls"
value = 2120

[State 2080, 8]
type = ChangeState
trigger1 = command = "FallOff"
trigger2 = var(15) >= 360
trigger3 = Win
value = 2090

[State 2080, 9]
type = ChangeState
trigger1 = command = "x" || command = "y" || command = "z"
value = 2130

[State 2080, 9a]
type = ChangeState
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = command = "holddown"
value = 2135

[State 2080, 10]
type = ChangeState
trigger1 = command = "a"
value = 2140

[State 2080, 11]
type = ChangeState
trigger1 = command = "b"
value = 2150

[State 2080, 12]
type = ChangeState
trigger1 = command = "c"
value = 2160

[State 2080, 13]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2081]
type = A
movetype = I
physics = N
anim = 2060
sprpriority = 2

[State 2081, 1]
type = BindToParent
trigger1 = time = 0
pos = 26, -79
time = -1

[State 2081, 2]
type = DestroySelf
trigger1 = Parent, StateNo != 2080
trigger2 = Parent, MoveType = H




[Statedef 2090]
type = A
movetype = I
physics = N
ctrl = 0
anim = 460
velset = 2, -4

[State 2090, 1]
type = Gravity
trigger1 = 1

[State 2090, 2]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2091




[Statedef 2091]
type = S
movetype = I
physics = S
ctrl = 0
anim = 47
velset = 0, 0

[State 2091, Jump Land Sound]
type = PlaySnd
trigger1 = time = 0
value = 2, 2

[State 2091, Landing Wave]
type = Explod
trigger1 = time = 0
ID = 589
anim = 6010
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2

[State 2091, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 2091, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 2100]
type = A
movetype = I
physics = N
ctrl = 0
anim = 2070
sprpriority = 1

[State 2100, 0]
type = Helper
trigger1 = time = 0
ID = 9009
name = "Scarf"
StateNo = 2101
postype = p1
pos = 0, 0
ownpal = 1

[State 2100, 1]
type = PosAdd
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2100, 2]
type = PosAdd
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2100, 3a]
type = Width
trigger1 = 1
value = 0, -17

[State 2100, 3]
type = VelSet
triggerall = ScreenPos Y > 101
trigger1 = command = "holdup"
y = -2

[State 2100, 3a]
type = VelSet
trigger1 = ScreenPos Y <= 101
y = 0

[State 2100, 3b]
type = PlayerPush
trigger1 = 1
value = 0

[State 2100, 4]
type = VarAdd
trigger1 = 1
v = 15
value = 1

[State 2100, 5]
type = ChangeState
trigger1 = command = "FallOff"
trigger2 = var(15) >= 360
value = 2090

[State 2100, 6]
type = ChangeState
trigger1 = command = "SwitchWalls"
value = 2120

[State 2100, 7]
type = ChangeState
trigger1 = command = "x" || command = "y" || command = "z"
value = 2130

[State 2100, 7a]
type = ChangeState
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = command = "holddown"
value = 2135

[State 2100, 8]
type = ChangeState
trigger1 = command = "a"
value = 2140

[State 2100, 9]
type = ChangeState
trigger1 = command = "b"
value = 2150

[State 2100, 10]
type = ChangeState
trigger1 = command = "c"
value = 2160

[State 2100, 11]
type = ChangeState
trigger1 = command != "holdup"
value = 2080

[State 2100, 12]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2101]
type = A
movetype = I
physics = N
anim = 2060
sprpriority = 2

[State 2101, 1]
type = BindToParent
trigger1 = Parent, AnimElemNo(0) = 1
pos = 25, -81

[State 2101, 2]
type = BindToParent
trigger1 = Parent, AnimElemNo(0) = 2
pos = 21, -85

[State 2101, 3]
type = BindToParent
trigger1 = Parent, AnimElemNo(0) = 3
pos = 20, -86

[State 2101, 4]
type = BindToParent
trigger1 = Parent, AnimElemNo(0) = 4
pos = 21, -85

[State 2101, 5]
type = BindToParent
trigger1 = Parent, AnimElemNo(0) = 5
pos = 25, -81

[State 2101, 6]
type = BindToParent
trigger1 = Parent, AnimElemNo(0) = 6
pos = 26, -79

[State 2101, 7]
type = DestroySelf
trigger1 = Parent, StateNo != 2100
trigger2 = Parent, MoveType = H




[Statedef 2110]
type = A
movetype = I
physics = N
ctrl = 0
anim = 2110
velset = 0, 0
sprpriority = 1

[State 2110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 2110, 1]
type = PosAdd
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2110, 2]
type = PosAdd
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2110, 3]
type = VelSet
triggerall = Pos Y < 0
trigger1 = command = "holddown"
y = 3

[State 2110, 4]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 2110, 5]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 2110, 5a]
type = Width
trigger1 = 1
value = 0, -17

[State 2110, 6]
type = Explod
trigger1 = Random <= 100
ID = 1122
anim = 9185
postype = p1
pos = -18, -117
bindtime = 1
removetime = -2
vel = 0, -0.5
sprpriority = 3
ownpal = 1

[State 2110, 7]
type = VarAdd
trigger1 = 1
v = 15
value = 1

[State 2110, 8]
type = ChangeState
trigger1 = command = "FallOff"
trigger2 = var(15) >= 360
value = 2090

[State 2110, 9]
type = ChangeState
trigger1 = command = "SwitchWalls"
value = 2120

[State 2110, 10]
type = ChangeState
trigger1 = command = "x" || command = "y" || command = "z"
value = 2130

[State 2110, 10a]
type = ChangeState
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = command = "holddown"
value = 2135

[State 2110, 11]
type = ChangeState
trigger1 = command = "a"
value = 2140

[State 2110, 12]
type = ChangeState
trigger1 = command = "b"
value = 2150

[State 2110, 13]
type = ChangeState
trigger1 = command = "c"
value = 2160

[State 2110, 14]
type = ChangeState
trigger1 = command != "holddown"
value = 2080

[State 2110, 15]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2120]
type = A
movetype = I
physics = N
ctrl = 0
anim = 2120
velset = 0, 0
sprpriority = 1

[State 2120, 0]
type = Width
trigger1 = 1
value = -16, -17

[State 2120, 1]
type = VarAdd
trigger1 = 1
v = 15
value = 1

[State 2120, 2]
type = VelSet
trigger1 = AnimElem = 5
x = 15

[State 2120, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6, 2
channel = 0

[State 2120, 4]
type = Turn
trigger1 = Facing = 1
trigger1 = ScreenPos X >= 302
trigger2 = Facing = -1
trigger2 = ScreenPos X <= 17

[State 2120, 5]
type = ChangeState
triggerall = time > 25
trigger1 = Facing = 1
trigger1 = ScreenPos X <= 17
trigger2 = Facing = -1
trigger2 = ScreenPos X >= 302
value = 2070

[State 2120, 6]
type = PlayerPush
trigger1 = 1
value = 0

[State 2120, 6b]
type = Null
trigger1 = 1
value = 0, -17

[State 2120, 7]
type = ChangeState
trigger1 = var(15) > 360
value = 2090

[State 2120, 8]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1


[Statedef 2121]
type = A
movetype = I
physics = N
anim = 9999
velset = 11, 0

[State 2121, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1, 0

[State 2121, 2]
type = DestroySelf
trigger1 = Parent, StateNo != 2120
trigger2 = Parent, MoveType = H




[Statedef 2130]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2080
poweradd = 50
juggle = 6
velset = 0, 0
sprpriority = 1

[State 2130, a]
type = PosAdd
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2130, 0]
type = PosAdd
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2130, 1]
type = Helper
trigger1 = time = 0
ID = 1212
name = "Sword Trace"
StateNo = 211
postype = p1
pos = 0, 0
ownpal = 1

[State 2130, 2]
type = PlaySnd
trigger1 = time = 0
value = 6, 0
channel = 0

[State 2130, 3]
type = PlaySnd
trigger1 = time = 0
value = 0, 3

[State 2130, 3a]
type = Width
trigger1 = 1
value = 0, -17

[State 2130, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAF
guardflag = HA
pausetime = 1, 11
animtype = hard
priority = 6, Hit
damage = 80, 2
sparkno = S6026
sparkxy = -5, -76
hitsound = S5546,2
guardsound = S120,0
ground.type = high
ground.velocity = -4, -5.5
ground.hittime = 20
air.type = low
air.velocity = -4, -2
air.hittime = 25
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -7.5
givepower = 30
getpower = 55
guard.sparkno = s9101

[State 2130, 5]
type = VarAdd
trigger1 = 1
v = 15
value = 1

[State 2130, 6]
type = PlayerPush
trigger1 = 1
value = 0

[State 2130, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2080

[State 2130, 8]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2135]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2105
velset = 0, 0
sprpriority = 1

[State 2135, 0]
type = VarAdd
trigger1 = 1
v = 15
value = 1

[State 2135, 1]
type = PosAdd
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2135, 2]
type = PosAdd
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2135, 3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1

[State 2135, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 2135, 4a]
type = Width
trigger1 = 1
value = 0, -17

[State 2135, 5]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2

[State 2135, 6]
type = VelSet
trigger1 = AnimElem = 3
y = 5

[State 2135, 6a]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 2135, 6b]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 2135, 7]
type = Explod
trigger1 = AnimElemNo(0) = [3,7]
trigger1 = Random <= 300
ID = 5432
anim = 9185
postype = p1
pos = -15, -112
bindtime = 1
removetime = -2
vel = 0, -.5
sprpriority = 3
ownpal = 1

[State 2135, 8]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 11, 11
animtype = Hard
priority = 6, Hit
damage = 80, 2
sparkno = s9105
sparkxy = -5, 8
hitsound = S5545,2
guardsound = S120,0
ground.type = high
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -9
air.velocity = -4, -5
air.hittime = 20
down.velocity = -3, -5
down.hittime = 20
guard.slidetime = 17
guard.hittime = 17
guard.velocity = -8
givepower = 40
getpower = 60
guard.sparkno = s9101

[State 2135, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 2080




[Statedef 2140]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2090
poweradd = 50
juggle = 5
velset = 0, 0

[State 2140, 1]
type = PosAdd
triggerall = AnimElemNo(0) = [1,4]
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2140, 2]
type = PosAdd
triggerall = AnimElemNo(0) = [1,4]
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2140, 2a]
type = Width
trigger1 = 1
value = 0, -17

[State 2140, 3]
type = VelSet
trigger1 = AnimElem = 5
x = 6
y = 13

[State 2140, 4]
type = Gravity
trigger1 = AnimElemNo(0) = [6,7]

[State 2140, 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6, 10
channel = 0

[State 2140, 6]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 11, 11
animtype = hard
priority = 5, Hit
damage = 81, 3
sparkno = s9107
sparkxy = -5, 0
hitsound = S5545,2
guardsound = S120,0
ground.type = low
ground.velocity = -9, -7
yaccel = .6
ground.hittime = 20
air.type = high
air.velocity = -5, 6
air.hittime = 15
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -8
givepower = 30
getpower = 50
guard.sparkno = s9101

[State 2140, 7]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2091

[State 2140, 8]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2150]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2100
poweradd = 50
juggle = 5
velset = 0, 0

[State 2150, 1]
type = PosAdd
triggerall = AnimElemNo(0) = [1,4]
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2150, 2]
type = PosAdd
triggerall = AnimElemNo(0) = [1,4]
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2150, 2a]
type = Width
trigger1 = 1
value = 0, -17

[State 2150, 3]
type = VelSet
trigger1 = AnimElem = 5
x = 10
y = 13

[State 2150, 4]
type = Gravity
trigger1 = AnimElemNo(0) = [6,7]

[State 2150, 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6, 10
channel = 0

[State 2150, 6]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 11, 11
animtype = hard
priority = 5, Hit
damage = 81, 3
sparkno = s9107
sparkxy = -5, 0
hitsound = S5545,2
guardsound = S120,0
ground.type = low
ground.velocity = -9, -7
yaccel = .6
ground.hittime = 20
air.type = high
air.velocity = -5, 6
air.hittime = 15
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -8
givepower = 30
getpower = 50
guard.sparkno = s9101

[State 2150, 7]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2091

[State 2150, 8]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2160]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2100
poweradd = 50
juggle = 5
velset = 0, 0

[State 2160, 1]
type = PosAdd
triggerall = AnimElemNo(0) = [1,4]
triggerall = Facing = 1
trigger1 = ScreenPos X != 16
x = -(ScreenPos X - 16)

[State 2160, 2]
type = PosAdd
triggerall = AnimElemNo(0) = [1,4]
triggerall = Facing = -1
trigger1 = ScreenPos X != 304
x = ScreenPos X - 304

[State 2160, 2a]
type = Width
trigger1 = 1
value = 0, -17

[State 2160, 3]
type = VelSet
trigger1 = AnimElem = 5
x = 15
y = 13

[State 2160, 4]
type = Gravity
trigger1 = AnimElemNo(0) = [6,7]

[State 2160, 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6, 10
channel = 0

[State 2160, 6]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 11, 11
animtype = hard
priority = 5, Hit
damage = 81, 3
sparkno = s9107
sparkxy = -5, 0
hitsound = S5545,2
guardsound = S120,0
ground.type = low
ground.velocity = -9, -7
yaccel = .6
ground.hittime = 20
air.type = high
air.velocity = -5, 6
air.hittime = 15
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -8
givepower = 30
getpower = 50
guard.sparkno = s9101

[State 2160, 7]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2091

[State 2160, 8]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0, 1




[Statedef 2170]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2130
poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2170, 1]
type = explod
trigger1 = time = 1
id = 0455
anim = 6120
postype = p1
pos = 39, 4
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2170, 2]
type = playsnd
trigger1 = animelem = 2
value = 6, 3
channel = 0

[state 2170, 3]
type = helper
trigger1 = animelem = 3
id = 7307
name = "metal tiger"
stateno = 2180
postype = back
pos = -95, 0 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 2170, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2180]
type = s
movetype = a
physics = n
anim = 2140
velset = 8, 0
sprpriority = 2

[state 2180, 1]
type = playsnd
trigger1 = time = 0
value = 3, 2

[state 2180, 2]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190

[state 2180, 3]
type = nothitby
trigger1 = 1
value = ,at

[state 2180, 4]
type = hitdef
trigger1 = time = 0
attr = s, sa
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
priority = 5, hit
damage = 80, 3
sparkno = s9107
sparkxy = -5, -45
hitsound = s5544,2
guardsound = s120,0
ground.type = high
ground.velocity = -5.5, -10
ground.hittime = 29
air.type = low
air.velocity = -5.5, -10
air.hittime = 20
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
yaccel = .8
guard.sparkno = s9101

[state 2180, 6]
type = movehitreset
trigger1 = movehit

[state 2180, 7]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 2180, 9]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 460
trigger2 = Facing = -1
trigger2 = screenpos x <= -120




[Statedef 2190]
type = a
movetype = i
physics = n
anim = 2150
velset = 0, 0
sprpriority = 2

[state 2190, 3]
type = nothitby
trigger1 = 1
value = sca
time = 5

[state 2190, 1]
type = playsnd
trigger1 = time = 0
value = F5,6

[state 2190, 2]
type = explod
trigger1 = time = 0
id = 1113
anim = 9157
postype = p1
pos = 0, -58
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
scale = .6,.6

[state 2190, 3]
type = Destroyself
trigger1 = time = 29




[Statedef 2200]
type = s
movetype = i
physics = s
ctrl = 0
anim = 2160
poweradd = 14
velset = 0, 0
sprpriority = 1

[state 2200, 0]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state 2200, 1]
type = explod
trigger1 = time = 1
id = 1111
anim = 6120
postype = p1
pos = 35, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2200, 2]
type = playsnd
trigger1 = animelem = 4
value = 6, 2
channel = 0

[state 2200, 3]
type = helper
trigger1 = animelem = 5
id = 8135
name = "ouroboro"
stateno = 2230
postype = p1
pos = -38, -43
ownpal = 1

[state 2200, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2210]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2180
poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2210, 0]
type = explod
trigger1 = time = 1
id = 1132
anim = 6120
postype = p1
pos = 28, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2210, 1]
type = playsnd
trigger1 = animelem = 3
value = 6, 11
channel = 0

[state 2210, 2]
type = varset
trigger1 = animelem = 4
v = 5
value = 1

[state 2210, 3]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2220]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2190
poweradd = 14
velset = 0, 0
sprpriority = 1

[state 2220, 1]
type = playsnd
trigger1 = animelem = 3
value = 6, 11
channel = 0

[state 2220, 2]
type = varset
trigger1 = animelem = 4
v = 5
value = 1

[state 2220, 3]
type = changestate
trigger1 = animtime = 0
value = 460




[Statedef 2230]
type = a
movetype = i
physics = n
anim = 2170
sprpriority = 2

[state 2230, 1]
type = bindtoparent
trigger1 = 1
pos = -31, -51
time = 1

[state 2230, 2]
type = turn
trigger1 = Facing != parent, Facing

[state 2230, 3]
type = changestate
trigger1 = parent, var(5) = 1
value = 2240

[state 2230, 4]
type = changestate
trigger1 = !(parent, alive)
trigger2 = parent, win
trigger3 = parent, lose
value = 2260

[state 2230, 5]
type = assertspecial
trigger1 = parent, stateno = [3230,3270]
trigger1 = parent, movetype != h
flag = invisible




[Statedef 2240]
type = a
movetype = a
physics = n
anim = 2200
velset = 13, 0
sprpriority = 3

[state 2240, 1]
type = posadd
trigger1 = time = 0
x = 25

[state 2240, 2]
type = playsnd
trigger1 = time = 0
value = 3, 3
volume = 150

[state 2240, 3]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, na, sa, ha, nt, st, ht
ignorehitpause = 1

[state 2240, 4]
type = hitoverride
trigger1 = time >= 0
slot = 1
time = 1
stateno = 2250
attr = sca, np, sp, hp
ignorehitpause = 1

[state 2240, 5]
type = hitby
trigger1 = time >= 0
value = sca, np, sp, hp
time = 1
ignorehitpause = 1

[state 2240, 6]
type = hitdef
trigger1 = time = 0
attr = a, sp
hitflag = maf
guarDFlag = ma
pausetime = 0, 6
animtype = hard
fall.animtype = hard
damage = 95, 2
sparkno = s9107
sparkxy = 0, 0
hitsound = s5544,2
guardsound = s120,0
ground.type = low
air.type = low
ground.velocity = -6,-7
air.velocity = -6, -8
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -9
fall.recovertime = 35
yaccel = .7
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
guard.sparkno = s9101

[state 2240, 6]
type = hitdef
trigger1 = time = 0
attr = a, sp
hitflag = maf
guarDFlag = ma
pausetime = 0, 6
animtype = hard
fall.animtype = hard
damage = 95, 2
sparkno = s9107
sparkxy = 0, 0
hitsound = s5544,2
guardsound = s120,0
ground.type = low
air.type = low
ground.velocity = -6,-7
air.velocity = -16, -2
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -9
fall.recovertime = 35
yaccel = .7
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
guard.sparkno = s9101


[state 3000, choque]
type = explod
trigger1 = numexplod(6042) = 0
trigger1 = movehit
anim = 2340
id = 6042
removetime = -2
postype = p2
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear,const(size.mid.pos.y))
sprpriority = -3
ignorehitpause = 1

[state 2240, 8]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 2240, 10]
type = changestate
trigger1 = movecontact
value = 2250

[state 2240, 11]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 480
trigger2 = Facing = -1
trigger2 = screenpos x <= -160




[Statedef 2250]
type = a
movetype = i
physics = n
anim = 9999
velset = 0, 0
sprpriority = 2
movehitpersist = 1

[state 2190, 3]
type = nothitby
trigger1 = 1
value = sca
time = 5

[state 3000, choque]
type = explod
trigger1 = time = 0
anim = 9157
id = 6042
bindtime = 1
sprpriority = 3
scale = .6,.6

[state 2250, 1]
type = playsnd
trigger1 = time = 0
value = F5,6

[state 2250, 5]
type = Destroyself
trigger1 = animtime = 0






[Statedef 80003]
type = a
movetype = a
physics = n
anim = 2200
velset = 13, 0
sprpriority = 3

[state 2240, 1]
type = posadd
trigger1 = time = 0
x = 25


[state 1031,33]
type = projectile
trigger1 = 1
projanim = 9999
projhitanim = 9999
projremovetime = 2
projID = 80000
offset = 55, -29
ownpal = 1
velocity = 0
projsprpriority = 2
numhits = 0
attr = s, hp
getpower = 0,0
damage  = 0,0
guarDFlag = ma
animtype = medium
pausetime = 0,12
sparkno = 8+var(30)
sparkxy = 0,0
guard.sparkno = 0
hitsound = -1
guardsound = -1
ground.type = low
ground.slidetime = 14
ground.hittime = 15
guard.velocity = -8
ground.velocity = -8
air.animtype = low
air.velocity = -3,-1
airguard.velocity = -0.5
guard.sparkno = s9101

[state 3001, parentvaradd]
type = varset
trigger1 = time = 0
trigger1 = parent,var(0) != 0
v = 0
value = parent,var(0)

[state 3001, parentvaradd]
type = angledraw
trigger1 = var(0) = 1
value = 23

[state 3001, parentvaradd]
type = angledraw
trigger1 = var(0) = 2
value = -23

[state 200, 1]
type = velset
trigger1 = var(0) = 1
y = -1*(vel x/2)

[state 200, 1]
type = velset
trigger1 = var(0) = 2
y = (vel x/2)

[state 2240, 2]
type = playsnd
trigger1 = time = 0
value = 3, 3
volume = 150

[state 2240, 3]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, na, sa, ha, nt, st, ht
ignorehitpause = 1

[state 2240, 4]
type = hitoverride
trigger1 = time >= 0
slot = 1
time = 1
stateno = 2250
attr = sca, np, sp, hp
ignorehitpause = 1

[state 2240, 5]
type = hitby
trigger1 = time >= 0
value = sca, np, sp, hp
time = 1
ignorehitpause = 1

[state 2240, 6]
type = hitdef
trigger1 = time > 5
attr = a, sp
hitflag = mafd
affectteam = F
guarDFlag = ma
pausetime = 0, 6
animtype = hard
fall.animtype = hard
damage = 95, 2
sparkno = s9107
sparkxy = 0, 0
hitsound = s5544,2
guardsound = s120,0
ground.type = low
air.type = low
ground.velocity = -6, -8
air.velocity = -6, -8
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -9
fall.recovertime = 35
yaccel = .7
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
guard.sparkno = s9101

[state 2240, 8]
type = parentvarset
trigger1 = parent,var(29) = 1
trigger1 = movehit = 1
v = 11
value = 1
ignorehitpause = 1

[state 3000, choque]
type = explod
trigger1 = numexplod(6042) = 0
trigger1 = movehit
anim = 9117
id = 6042
bindtime = 65
removetime = 65
postype = p2
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear,const(size.mid.pos.y))
sprpriority = -3
ignorehitpause = 1

[state 2240, 8]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 2240, 10]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 2250

[state 2240, 11]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 480
trigger2 = Facing = -1
trigger2 = screenpos x <= -160




[Statedef 2260]
type = a
movetype = i
physics = n
anim = 650
velset = 0, 0
sprpriority = 2

[state 2260, 1]
type = veladd
trigger1 = 1
y = .35

[state 2260, 2]
type = changestate
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 2265


[Statedef 2265]
type = s
movetype = i
physics = n
anim = 650
velset = 0, 0

[state 2265, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 2265, 2]
type = changeanim
trigger1 = time = 50
value = 655

[state 2265, 3]
type = velset
trigger1 = time = 50
x = -3

[state 2265, 4]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x <= -20
trigger2 = Facing = -1
trigger2 = screenpos x >= 404




[Statedef 2270]
type = s
movetype = i
physics = s
ctrl = 0
anim = 2210
velset = 0, 0

[state 2270, 1]
type = varset
trigger1 = time = 0
v = 2
value = 50

[state 2270, 2]
type = changestate
trigger1 = time = 0
value = 2280




[Statedef 2271]
type = s
movetype = i
physics = s
ctrl = 0
anim = 2210
velset = 0, 0

[state 2271, 1]
type = varset
trigger1 = time = 0
v = 2
value = 150

[state 2271, 2]
type = changestate
trigger1 = time = 0
value = 2280




[Statedef 2272]
type = s
movetype = i
physics = s
ctrl = 0
anim = 2210
velset = 0, 0

[state 2272, 1]
type = varset
trigger1 = time = 0
v = 2
value = 270

[state 2272, 2]
type = changestate
trigger1 = time = 0
value = 2280




[Statedef 2280]
type = s
movetype = i
physics = s
ctrl = 0
anim = 2210
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2280, 1]
type = explod
trigger1 = time = 1
id = 1312
anim = 6120
postype = p1
pos = 36, -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2280, 2]
type = playsnd
trigger1 = animelem = 2
value = 6, 1
channel = 0

[state 2280, 3]
type = explod
trigger1 = animelem = 4
id = 0997
anim = 2220
postype = p1
pos = 30, 0
bindtime = 1
removetime = -2
vel = 6, -11
sprpriority = 1
ownpal = 1

[state 2280, 4]
type = explod
trigger1 = animelem = 4
id = 0998
anim = 2230
postype = p1
pos = 45, 20
bindtime = 1
removetime = -2
vel = 11, -2
sprpriority = 2
ownpal = 1

[state 2280, 5]
type = explod
trigger1 = animelem = 4
id = 0999
anim = 2230
postype = p1
pos = -15, 20
facing = -1
bindtime = 1
removetime = -2
vel = -11, -2
sprpriority = 0
ownpal = 1

[state 2280, 6]
type = screenbound
trigger1 = time > 13
value = 1
movecamera = 0,0

[state 2280, 3]
type = explod
trigger1 = animelem = 4
id = 0997
anim = 2220
postype = p1
pos = 30, 0
bindtime = 1
removetime = -2
facing = -1
vel = -6, -11
sprpriority = 1
ownpal = 1

[state 2280, 6]
type = turn
trigger1 = animelem = 4

[state 2280, 7]
type = posadd
trigger1 = animelem = 4
x = 30

[state 2280, 8]
type = statetypeset
trigger1 = animelem = 4
statetype = a
physics = n

[state 2280, 9]
type = assertspecial
trigger1 = time > 13
flag = invisible







[state 2280, 11]
type = posset
trigger1 = animtime = 0
y = 0 + ifelse(var(31) > 0,-600,0)

[state 2280, 12]
type = changestate
trigger1 = animtime = 0
value = 2290




[Statedef 2290]
type = a
movetype = a
physics = n
ctrl = 0

anim = 9999
facep2 = 1
velset = 0, 0

[state 2280, 6]
type = screenbound
trigger1 = time < 18
value = 0
movecamera = 0,0

[state 2290, 3]
type = posadd
trigger1 = time = 0
x = Facing * (var(2) - screenpos x)

[state 2290, 4]
type = helper
trigger1 = time = 0
id = 6767
name = "image"
stateno = 2295
postype = p1
pos = 100, -200
facing = -1
ownpal = 1

[state 2290, 5]
type = helper
trigger1 = time = 0
id = 6768
name = "image"
stateno = 2296
postype = p1
pos = 240, -120
facing = -1
ownpal = 1

[state 2290, 6]
type = helper
trigger1 = time = 0
id = 6768
name = "image"
stateno = 2296
postype = p1
pos = -240, -120
ownpal = 1

[state 2290, 7]
type = posadd
trigger1 = time = 1
y = -200

[state 2290, 8]
type = changeanim
trigger1 = time = 1
value = 2240

[state 2290, 9]
type = posadd
trigger1 = time = 1
x = -40

[state 2290, 10]
type = explod
trigger1 = animelem = 4
id = 7676
anim = 2270
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2290, 11]
type = playsnd
trigger1 = animelem = 4
value = 6, 10
channel = 0

[state 2290, 12]
type = velset
trigger1 = animelem = 4
x = 3.5
y = 13

[state 2290, 13]
type = hitdef
trigger1 = animelem = 4
attr = a, sa
hitflag = mafd
guarDFlag = ha
pausetime = 11, 11
animtype = hard
fall.animtype = hard
priority = 5, hit
damage = 100, 2
sparkno = s9107
sparkxy = -5, 0
hitsound = s5545,2
guardsound = s120,0
ground.type = high
ground.velocity = -5, -11
air.type = low
air.velocity = -5, 6
down.velocity = -3, -11
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8.5
fall = 1
fall.recover = 0
yaccel = .8
guard.sparkno = s9101

[state 2290, 14]
type = removeexplod
triggerall = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
id = 7676

[state 2290, 15]
type = changestate
triggerall = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 2091



[Statedef 2295]
type = a
movetype = i
physics = n
anim = 2250
velset = 0, 0
sprpriority = 1

[state 2295, 1]
type = velset
trigger1 = time = 11
x = 3.5
y = 13

[state 2295, 2]
type = Destroyself
trigger1 = animtime = 0
trigger2 = parent, movetype = h


[Statedef 2296]
type = a
movetype = i
physics = n
anim = 2260
velset = 0, 0
sprpriority = 1

[state 2296, 1]
type = velset
trigger1 = time = 11
x = 17
y = 8

[state 2296, 2]
type = Destroyself
trigger1 = animtime = 0
trigger2 = parent, movetype = h




[Statedef 2300]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0

[state 2300, 1]
type = varset
trigger1 = time = 0
v = 1
value = -300

[state 2300, 2]
type = varset
trigger1 = time = 0
v = 2
value = -100

[state 2300, 3]
type = changestate
trigger1 = time = 0
value = 2310


[Statedef 2301]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0

[state 2301, 1]
type = varset
trigger1 = time = 0
v = 1
value = 180

[state 2301, 2]
type = varset
trigger1 = time = 0
v = 2
value = -100

[state 2301, 3]
type = changestate
trigger1 = time = 0
value = 2310


[Statedef 2302]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0

[state 2302, 1]
type = varset
trigger1 = time = 0
v = 1
value = 300

[state 2302, 2]
type = varset
trigger1 = time = 0
v = 2
value = -100

[state 2302, 3]
type = changestate
trigger1 = time = 0
value = 2310


[Statedef 2303]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0

[state 2303, 1]
type = varset
trigger1 = time = 0
v = 1
value = -300

[state 2303, 2]
type = varset
trigger1 = time = 0
v = 2
value = -15

[state 2303, 3]
type = changestate
trigger1 = time = 0
value = 2310


[Statedef 2304]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0

[state 2304, 1]
type = varset
trigger1 = time = 0
v = 1
value = 180

[state 2304, 2]
type = varset
trigger1 = time = 0
v = 2
value = -15

[state 2304, 3]
type = changestate
trigger1 = time = 0
value = 2310


[Statedef 2305]
type = s
movetype = i
physics = s
ctrl = 0
velset = 0, 0

[state 2305, 1]
type = varset
trigger1 = time = 0
v = 1
value = 300

[state 2305, 2]
type = varset
trigger1 = time = 0
v = 2
value = -15

[state 2305, 3]
type = changestate
trigger1 = time = 0
value = 2310




[Statedef 2310]
type = s
movetype = i
physics = s
ctrl = 0
anim = 2280
poweradd = 14
sprpriority = 1

[state 2310, 1]
type = explod
trigger1 = time = 1
id = 1312
anim = 6120
postype = p1
pos = 32, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2320, 1]
type = screenbound
trigger1 = time > 13
value = 0


[state 2310, 2]
type = changestate
trigger1 = animtime = 0
value = 2320




[Statedef 2320]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2290
sprpriority = 1

[state 2320, 1]
type = posset
trigger1 = time = 0
y = var(2) + ifelse(var(31) > 0,-600,0)

[state 2320, 2]
type = posadd
trigger1 = time = 0
x = Facing * (var(1) - screenpos x)

[state 2320, 3]
type = playsnd
trigger1 = animelem = 4
value = 6, 2
channel = 0

[state 2320, 3]
type = gravity
trigger1 = animelemno(0) > 4

[state 2320, 4]
type = ctrlset
trigger1 = animelem = 5
value = 1

[state 2320, 5]
type = assertspecial
trigger1 = animelemno(0) > 4
flag = noairguard

[state 2320, 6]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0
persistent = 0

[state 2320, 6]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 2091




[Statedef 2330]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2300
poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2330, 1]
type = explod
trigger1 = time = 1
id = 1112
anim = 6120
postype = p1
pos = 44, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2330, 2]
type = playsnd
trigger1 = animelem = 6
value = 6, 4
channel = 0

[state 2330, 3]
type = varset
trigger1 = time = 0
v = 1
value = 150

[state 2330, 4]
type = helper
trigger1 = animelem = 6
id = 5198
name = "metal falcon"
stateno = 2360
postype = back
pos = -55, -230 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 2330, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2340]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2300
poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2340, 1]
type = explod
trigger1 = time = 1
id = 1112
anim = 6120
postype = p1
pos = 44, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2340, 2]
type = playsnd
trigger1 = animelem = 6
value = 6, 4
channel = 0

[state 2340, 3]
type = varset
trigger1 = time = 0
v = 1
value = 250

[state 2340, 4]
type = helper
trigger1 = animelem = 6
id = 5198
name = "metal falcon"
stateno = 2360
postype = back
pos = -55, -230 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 2340, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2350]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2300
poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2350, 1]
type = explod
trigger1 = time = 1
id = 1112
anim = 6120
postype = p1
pos = 44, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2350, 2]
type = playsnd
trigger1 = animelem = 6
value = 6, 4
channel = 0

[state 2350, 3]
type = varset
trigger1 = time = 0
v = 1
value = 310

[state 2350, 4]
type = helper
trigger1 = animelem = 6
id = 5198
name = "metal falcon"
stateno = 2360
postype = back
pos = -55, -230 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 2350, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2360]
type = a
movetype = i
physics = n
anim = 2310
velset = 6.5, 1.6
sprpriority = 3

[state 2360, 1]
type = varset
trigger1 = time = 0
v = 0
value = parent, var(1)

[state 2360, 2]
type = varset
trigger1 = time = 0
v = 1
value = Floor(pos x + (var(0) * Facing))

[state 2360, 3]
type = changestate
trigger1 = Facing = 1
trigger1 = pos x >= var(1)
trigger2 = Facing = -1
trigger2 = pos x <= var(1)
value = 2370




[Statedef 2370]
type = a
movetype = i
physics = n
anim = 2320
velset = 5.5, -2
sprpriority = 2

[state 2370, 1]
type = helper
trigger1 = time = 0
id = 245
name = "bomb"
stateno = 2380
postype = p1
pos = 14, 27
ownpal = 1

[state 2370, 2]
type = Destroyself
triggerall = numhelper(245) = 0
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130




[Statedef 2380]
type = a
movetype = a
physics = n
anim = 2330
velset = 0, 2.5
sprpriority = 3

[state 2380, 1]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, na, sa, ha, nt, st, ht
ignorehitpause = 1

[state 2380, 2]
type = hitoverride
trigger1 = time >= 0
slot = 1
time = 1
stateno = 2390
attr = sca, np, sp, hp
ignorehitpause = 1

[state 2380, 3]
type = hitby
trigger1 = time >= 0
value = sca, np, sp, hp
time = 1
ignorehitpause = 1

[state 2380, 4]
type = hitdef
trigger1 = time = 0
attr = a, sa
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
damage = 40, 2
sparkno = s9107
sparkxy = -5, -16
hitsound = s5544,2
guardsound = s120,0
ground.type = high
ground.velocity = -5, -9
air.type = low
air.velocity = -5, -9
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -9
guard.sparkno = s9101

[state 2380, 5]
type = varset
trigger1 = 1
fv = 0
value = root, Fvar(1)

[state 2380, 8]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 2390




[Statedef 2390]
type = a
movetype = a
physics = n

velset = 0, 0
sprpriority = 4

[state 2390, 1]
type = varadd
trigger1 = 1
v = 3
value = 1

[state 2390, 2]
type = changeanim
trigger1 = var(3) = 1
value = 2340

[state 2390, 3]
type = playsnd
trigger1 = var(3) = 1
value = 3, 1
volume = 255
[state 2390, 3]
type = playsnd
trigger1 = var(3) = 1
value = 3, 1
volume = 255
[state 2390, 3]
type = playsnd
trigger1 = var(3) = 1
value = 3, 1
volume = 255

[state 2390, 4]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, na, sa, ha, nt, st, ht
ignorehitpause = 1

[state 2390, 5]
type = hitoverride
trigger1 = time >= 0
slot = 1
time = 1
stateno = 2390
attr = sca, np, sp, hp
ignorehitpause = 1

[state 2390, 6]
type = hitby
trigger1 = time >= 0
value = sca, np, sp, hp
time = 1
ignorehitpause = 1

[state 2390, 7]
type = hitdef
trigger1 = var(3) = 1
attr = a, sa
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
damage = 130, 5
sparkno = s9107
sparkxy = -5, -10
hitsound = s5544,2
guardsound = s120,0
ground.type = high
ground.velocity = -.3, -12
air.type = low
air.velocity = -.3, -12
p2stateno = 6100
yaccel = .7
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -7
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
fall.recovertime = 35
guard.sparkno = s9101

[state 2390, 8]
type = varset
trigger1 = 1
fv = 0
value = root, Fvar(1)

[state 2390, 10]
type = varset
triggerall = numtarget > 0
trigger1 = movehit
v = 5
value = target, const(size.mid.pos.x)

[state 2390, 11]
type = varset
triggerall = numtarget > 0
trigger1 = movehit
v = 6
value = target, const(size.mid.pos.y)

[state 2390, 12]
type = explod
trigger1 = movehit
id = 4455
anim = 9117
postype = p2
pos = var(5), var(6)
bindtime = -1
removetime = -2
sprpriority = -3
ownpal = 1
persistent = 0

[state 2390, 14]
type = Destroyself
trigger1 = animtime = 0




[Statedef 2400]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2350
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2400, 1]
type = explod
trigger1 = time = 0
id = 5566
anim = 2360
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2400, 2]
type = changestate
trigger1 = animtime = 0
value = 2410




[Statedef 2410]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2370

velset = 6.45, -14
sprpriority = 1

[state 2410, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2410, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 2410, 000]
type = varset
trigger1 = time = 0
v = 4
value = 1

[state 2410, 1]
type = explod
trigger1 = time = 0
id = 2236
anim = 2375
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2410, 2]
type = explod
trigger1 = time = 0
id = 2236
anim = 2380
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1

[state 2410, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 2410, 4]
type = playsnd
trigger1 = time = 0
value = 2, 8

[state 2410, 5]
type = helper
trigger1 = (time % 2) = 1
id = 9891
name = "images"
stateno = 2430
postype = p1
pos = 0, 0
ownpal = 1

[state 2410, 6]
type = helper
trigger1 = (time % 2) = 1
id = 9892
name = "slash"
stateno = 2440
postype = p1
pos = 0, 0
ownpal = 1

[state 2410, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2410, 8]
type = hitdef
triggerall = hitcount < 6
trigger1 = time = 0
trigger2 = (var(2) % var(4)) = 0
attr = a, sa
hitflag = maf
guarDFlag = ha
pausetime = 8, 7
animtype = hard
fall.animtype = hard
air.type = low
priority = 5, hit
damage = 20, 2
sparkno = s6030
sparkxy = -5, -109
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -2, -7
air.velocity = -5, -13
guard.slidetime = 10
guard.hittime = 10
guard.velocity = -6
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2410, 12]
type = playsnd
triggerall = movehit
trigger1 = hitpausetime = 7
value = 5546,2
channel = 4
ignorehitpause = 1

[state 2410, 12]
type = playsnd
triggerall = moveguarded
trigger1 = hitpausetime = 7
value = 120,0
channel = 4
ignorehitpause = 1

[state 2410, 9]
type = varadd
trigger1 = hitpausetime = 1
v = 4
value = 1
ignorehitpause = 1

[state 2410, 10]
type = varset
trigger1 = hitpausetime = 1
v = 2
value = 0
ignorehitpause = 1

[state 2410, 11]
type = varadd
trigger1 = movehit
v = 2
value = 1

[state 2410, 13]
type = removeexplod
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
id = 2236

[state 2410, 14]
type = changestate
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
value = 2420




[Statedef 2420]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2490


[state 2420, 0]
type = velmul

trigger1 = time = 0
x = .25
y = .25

[state 2420, 1]
type = gravity
trigger1 = 1

[state 2420, 2]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 2091




[Statedef 2430]
type = a
movetype = i
physics = n
sprpriority = -1

[state 2430, 1]
type = varset
trigger1 = time = 0
v = 0
value = parent, anim

[state 2430, 2]
type = nothitby
trigger1 = 1
value = sca

[state 2430, 3]
type = varset
trigger1 = time = 0
v = 1
value = parent, animelemno(0)

[state 2430, 4]
type = changeanim
trigger1 = 1
value = var(0)
elem = var(1)

[state 2430, 5]
type = assertspecial
triggerall = parent, hitpausetime = 0
trigger1 = (parent, var(1) % 2) = 1
flag = invisible

[state 2430, 6]
type = varadd
trigger1 = parent, hitpausetime = 0
v = 2
value = 1

[state 2430, 6]
type = Destroyself
trigger1 = var(2) = 10
trigger2 = parent, movetype = h




[Statedef 2440]
type = a
movetype = i
physics = n
sprpriority = 0

[state 211, 0]
type = nothitby
trigger1 = 1
value = sca
time = 20
ignorehitpause = 1

[state 2440, 1]
type = varset
trigger1 = time = 0
v = 0
value = parent, anim

[state 2440, 4]
type = changeanim
trigger1 = time = 0
value = ifelse(animexist(var(0) + 5), var(0) + 5, 9999)

[state 2440, 5]
type = assertspecial
triggerall = parent, hitpausetime = 0
trigger1 = (parent, var(1) % 2) = 1
flag = invisible

[state 2440, 6]
type = varadd
trigger1 = parent, hitpausetime = 0
v = 2
value = 1

[state 2440, 6]
type = Destroyself
trigger1 = var(2) = 10
trigger2 = parent, movetype = h




[Statedef 2450]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2350
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2450, 1]
type = explod
trigger1 = time = 0
id = 5566
anim = 2360
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2450, 2]
type = changestate
trigger1 = animtime = 0
value = 2460




[Statedef 2460]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2390

velset = 12.5, -6.8
sprpriority = 1

[state 2460, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2460, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 2460, 000]
type = varset
trigger1 = time = 0
v = 4
value = 1

[state 2460, 1]
type = explod
trigger1 = time = 0
id = 2236
anim = 2395
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2460, 2]
type = explod
trigger1 = time = 0
id = 2236
anim = 2400
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1

[state 2460, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 2460, 4]
type = playsnd
trigger1 = time = 0
value = 2, 8

[state 2460, 5]
type = helper
trigger1 = (time % 2) = 1
id = 9891
name = "images"
stateno = 2430
postype = p1
pos = 0, 0
ownpal = 1

[state 2460, 6]
type = helper
trigger1 = (time % 2) = 1
id = 9892
name = "slash"
stateno = 2440
postype = p1
pos = 0, 0
ownpal = 1

[state 2460, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2460, 8]
type = hitdef
triggerall = hitcount < 6
trigger1 = time = 0
trigger2 = (var(2) % var(4)) = 0
attr = a, sa
hitflag = maf
guarDFlag = ha
pausetime = 8, 7
animtype = hard
fall.animtype = hard
air.type = low
priority = 5, hit
damage = 20, 2
sparkno = s6026
sparkxy = -5, -80
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -6, -8
air.velocity = -6, -8
guard.slidetime = 10
guard.hittime = 10
guard.velocity = -6
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2410, 12]
type = playsnd
triggerall = movehit
trigger1 = hitpausetime = 7
value = 5546,2
channel = 4
ignorehitpause = 1

[state 2410, 12]
type = playsnd
triggerall = moveguarded
trigger1 = hitpausetime = 7
value = 120,0
channel = 4
ignorehitpause = 1

[state 2460, 9]
type = varadd
trigger1 = hitpausetime = 1
v = 4
value = 1
ignorehitpause = 1

[state 2460, 10]
type = varset
trigger1 = hitpausetime = 1
v = 2
value = 0
ignorehitpause = 1

[state 2460, 11]
type = varadd
trigger1 = movehit
v = 2
value = 1

[state 2460, 13]
type = removeexplod
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
id = 2236

[state 2460, 14]
type = changestate
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
value = 2420




[Statedef 2470]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2350
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2470, 1]
type = explod
trigger1 = time = 0
id = 5566
anim = 2360
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2470, 2]
type = changestate
trigger1 = animtime = 0
value = 2480




[Statedef 2480]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2410

velset = 15, -2.4
sprpriority = 1

[state 2480, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2480, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 2480, 000]
type = varset
trigger1 = time = 0
v = 4
value = 1

[state 2480, 1]
type = explod
trigger1 = time = 0
id = 2236
anim = 2415
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2480, 2]
type = explod
trigger1 = time = 0
id = 2236
anim = 2420
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1

[state 2480, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 2480, 4]
type = playsnd
trigger1 = time = 0
value = 2, 8

[state 2480, 5]
type = helper
trigger1 = (time % 2) = 1
id = 9891
name = "images"
stateno = 2430
postype = p1
pos = 0, 0
ownpal = 1

[state 2480, 6]
type = helper
trigger1 = (time % 2) = 1
id = 9892
name = "slash"
stateno = 2440
postype = p1
pos = 0, 0
ownpal = 1

[state 2480, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2480, 8]
type = hitdef
triggerall = hitcount < 6
trigger1 = time = 0
trigger2 = (var(2) % var(4)) = 0
attr = a, sa
hitflag = maf
guarDFlag = ha
pausetime = 8, 7
animtype = hard
fall.animtype = hard
air.type = low
priority = 5, hit
damage = 20, 2
sparkno = s6029
sparkxy = -5, -70
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -6, -8
air.velocity = -6, -8
guard.slidetime = 10
guard.hittime = 10
guard.velocity = -6
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2410, 12]
type = playsnd
triggerall = movehit
trigger1 = hitpausetime = 7
value = 5546,2
channel = 4
ignorehitpause = 1

[state 2410, 12]
type = playsnd
triggerall = moveguarded
trigger1 = hitpausetime = 7
value = 120,0
channel = 4
ignorehitpause = 1

[state 2480, 9]
type = varadd
trigger1 = hitpausetime = 1
v = 4
value = 1
ignorehitpause = 1

[state 2480, 10]
type = varset
trigger1 = hitpausetime = 1
v = 2
value = 0
ignorehitpause = 1

[state 2480, 11]
type = varadd
trigger1 = movehit
v = 2
value = 1

[state 2480, 13]
type = removeexplod
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
id = 2236

[state 2480, 14]
type = changestate
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
value = 2420




[Statedef 2490]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2350
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2490, 1]
type = explod
trigger1 = time = 0
id = 5566
anim = 2360
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2490, 2]
type = changestate
trigger1 = animtime = 0
value = 2500




[Statedef 2500]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2430

velset = 6.45, 14
sprpriority = 1

[state 2500, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2500, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 2500, 000]
type = varset
trigger1 = time = 0
v = 4
value = 1

[state 2500, 1]
type = explod
trigger1 = time = 0
id = 2236
anim = 2435
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2500, 2]
type = explod
trigger1 = time = 0
id = 2236
anim = 2440
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1

[state 2500, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 2500, 4]
type = playsnd
trigger1 = time = 0
value = 2, 8

[state 2500, 5]
type = helper
trigger1 = (time % 2) = 1
id = 9891
name = "images"
stateno = 2430
postype = p1
pos = 0, 0
ownpal = 1

[state 2500, 6]
type = helper
trigger1 = (time % 2) = 1
id = 9892
name = "slash"
stateno = 2440
postype = p1
pos = 0, 0
ownpal = 1

[state 2500, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2500, 8]
type = hitdef
triggerall = hitcount < 6
trigger1 = time = 0
trigger2 = (var(2) % var(4)) = 0
attr = a, sa
hitflag = mafd
guarDFlag = ha
pausetime = 8, 7
animtype = hard
fall.animtype = hard
air.type = low
priority = 5, hit
damage = 20, 2
sparkno = s6030
sparkxy = -5, -30
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -6, -8
air.velocity = -6, -8
guard.slidetime = 10
guard.hittime = 10
guard.velocity = -6
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2410, 12]
type = playsnd
triggerall = movehit
trigger1 = hitpausetime = 7
value = 5546,2
channel = 4
ignorehitpause = 1

[state 2410, 12]
type = playsnd
triggerall = moveguarded
trigger1 = hitpausetime = 7
value = 120,0
channel = 4
ignorehitpause = 1

[state 2500, 9]
type = varadd
trigger1 = hitpausetime = 1
v = 4
value = 1
ignorehitpause = 1

[state 2500, 10]
type = varset
trigger1 = hitpausetime = 1
v = 2
value = 0
ignorehitpause = 1

[state 2500, 11]
type = varadd
trigger1 = movehit
v = 2
value = 1

[state 2500, 13]
type = removeexplod
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
trigger5 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
id = 2236

[state 2500, 14]
type = changestate
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
value = 2420

[state 2500, 15]
type = changestate
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 2091




[Statedef 2510]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2350
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2510, 1]
type = explod
trigger1 = time = 0
id = 5566
anim = 2360
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2510, 2]
type = changestate
trigger1 = animtime = 0
value = 2520




[Statedef 2520]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2450

velset = 12.5, 6.8
sprpriority = 1

[state 2520, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2520, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 2520, 000]
type = varset
trigger1 = time = 0
v = 4
value = 1

[state 2520, 1]
type = explod
trigger1 = time = 0
id = 2236
anim = 2455
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2520, 2]
type = explod
trigger1 = time = 0
id = 2236
anim = 2460
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1

[state 2520, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 2520, 4]
type = playsnd
trigger1 = time = 0
value = 2, 8

[state 2520, 5]
type = helper
trigger1 = (time % 2) = 1
id = 9891
name = "images"
stateno = 2430
postype = p1
pos = 0, 0
ownpal = 1

[state 2520, 6]
type = helper
trigger1 = (time % 2) = 1
id = 9892
name = "slash"
stateno = 2440
postype = p1
pos = 0, 0
ownpal = 1

[state 2520, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2520, 8]
type = hitdef
triggerall = hitcount < 6
trigger1 = time = 0
trigger2 = (var(2) % var(4)) = 0
attr = a, sa
hitflag = mafd
guarDFlag = ha
pausetime = 8, 7
animtype = hard
fall.animtype = hard
air.type = low
priority = 5, hit
damage = 20, 2
sparkno = s6030
sparkxy = -5, -60
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -6, -8
air.velocity = -6, -8
guard.slidetime = 10
guard.hittime = 10
guard.velocity = -6
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2410, 12]
type = playsnd
triggerall = movehit
trigger1 = hitpausetime = 7
value = 5546,2
channel = 4
ignorehitpause = 1

[state 2410, 12]
type = playsnd
triggerall = moveguarded
trigger1 = hitpausetime = 7
value = 120,0
channel = 4
ignorehitpause = 1

[state 2520, 9]
type = varadd
trigger1 = hitpausetime = 1
v = 4
value = 1
ignorehitpause = 1

[state 2520, 10]
type = varset
trigger1 = hitpausetime = 1
v = 2
value = 0
ignorehitpause = 1

[state 2520, 11]
type = varadd
trigger1 = movehit
v = 2
value = 1

[state 2520, 13]
type = removeexplod
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
trigger5 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
id = 2236

[state 2520, 14]
type = changestate
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
value = 2420

[state 2520, 15]
type = changestate
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 2091




[Statedef 2530]
type = a
movetype = i
physics = n
ctrl = 0
anim = 2350
poweradd = 68
velset = 0, 0
sprpriority = 1

[state 2530, 1]
type = explod
trigger1 = time = 0
id = 5566
anim = 2360
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2530, 2]
type = changestate
trigger1 = animtime = 0
value = 2540




[Statedef 2540]
type = a
movetype = a
physics = n
ctrl = 0
anim = 2470

velset = 15, 2.4
sprpriority = 1

[state 2540, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 2540, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 2540, 000]
type = varset
trigger1 = time = 0
v = 4
value = 1

[state 2540, 1]
type = explod
trigger1 = time = 0
id = 2236
anim = 2475
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1

[state 2540, 2]
type = explod
trigger1 = time = 0
id = 2236
anim = 2480
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1

[state 2540, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 2540, 4]
type = playsnd
trigger1 = time = 0
value = 2, 8

[state 2540, 5]
type = helper
trigger1 = (time % 2) = 1
id = 9891
name = "images"
stateno = 2430
postype = p1
pos = 0, 0
ownpal = 1

[state 2540, 6]
type = helper
trigger1 = (time % 2) = 1
id = 9892
name = "slash"
stateno = 2440
postype = p1
pos = 0, 0
ownpal = 1

[state 2540, 7]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 2540, 8]
type = hitdef
triggerall = hitcount < 6
trigger1 = time = 0
trigger2 = (var(2) % var(4)) = 0
attr = a, sa
hitflag = mafd
guarDFlag = ha
pausetime = 8, 7
animtype = hard
fall.animtype = hard
air.type = low
priority = 5, hit
damage = 20, 2
sparkno = s6028
sparkxy = -5, -70
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -6, -8
air.velocity = -6, -8
guard.slidetime = 10
guard.hittime = 10
guard.velocity = -6
fall = 1
fall.recover = 0
yaccel = .6
guard.sparkno = s9101

[state 2410, 12]
type = playsnd
triggerall = movehit
trigger1 = hitpausetime = 7
value = 5546,2
channel = 4
ignorehitpause = 1

[state 2410, 12]
type = playsnd
triggerall = moveguarded
trigger1 = hitpausetime = 7
value = 120,0
channel = 4
ignorehitpause = 1

[state 2540, 9]
type = varadd
trigger1 = hitpausetime = 1
v = 4
value = 1
ignorehitpause = 1

[state 2540, 10]
type = varset
trigger1 = hitpausetime = 1
v = 2
value = 0
ignorehitpause = 1

[state 2540, 11]
type = varadd
trigger1 = movehit
v = 2
value = 1

[state 2540, 13]
type = removeexplod
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
trigger5 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
id = 2236

[state 2540, 14]
type = changestate
trigger1 = time = 27
trigger2 = moveguarded
trigger3 = Facing = 1
trigger3 = screenpos x > 365
trigger4 = Facing = -1
trigger4 = screenpos x < 17
value = 2420

[state 2540, 15]
type = changestate
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 2091




[Statedef 2550]
type = s
movetype = a
physics = s
ctrl = 0
anim = 2130
poweradd = 41
velset = 0, 0
sprpriority = 1

[state 2550, 1]
type = explod
trigger1 = time = 1
id = 0455
anim = 6120
postype = p1
pos = 39, 4
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2550, 2]
type = playsnd
trigger1 = animelem = 2
value = 6, 3
channel = 0

[state 2550, 3]
type = helper
trigger1 = animelem = 3
id = 7308
name = "metal falcon"
stateno = 2560
postype = back
pos = -50, -180 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 2550, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 2560]
type = s
movetype = a
physics = n
anim = 2500
velset = 7, 3.5
sprpriority = 2

[state 2560, 1]
type = veladd
trigger1 = 1
y = -.09

[state 2560, 2]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2570

[state 2560, 3]
type = nothitby
trigger1 = 1
value = ,at

[state 2560, 4]
type = hitdef
trigger1 = time = 0
attr = s, sa
hitflag = maf
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
priority = 5, hit
damage = 80, 3
sparkno = s9107
sparkxy = -5, -45
hitsound = s5544,2
guardsound = s120,0
ground.type = high
ground.velocity = -9, -7
ground.hittime = 29
air.type = low
air.velocity = -9, -7
air.hittime = 30
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -6.5
sprpriority = 2
yaccel = .6
guard.sparkno = s9101

[state 2560, 6]
type = movehitreset
trigger1 = movehit

[state 2560, 7]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 2560, 9]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 460
trigger2 = Facing = -1
trigger2 = screenpos x <= -120




[Statedef 2570]
type = a
movetype = i
physics = n
anim = 2510
velset = 0, 0
sprpriority = 2

[state 2190, 3]
type = nothitby
trigger1 = 1
value = sca
time = 5

[state 2570, 1]
type = playsnd
trigger1 = time = 0
value = F5,6

[state 2570, 2]
type = explod
trigger1 = time = 0
id = 1113
anim = 9157
postype = p1
pos = 0, -27
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
scale = .6,.6

[state 2570, 3]
type = Destroyself
trigger1 = time = 29










[Statedef 3000]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3000
velset = 0, 0
sprpriority = 1

[State 3000, 0]
type = VarSet
trigger1 = time = 0
v = 20
value = 0

[State 3000, 00]
type = VarSet
trigger1 = time = 0
fv = 2
value = ifelse(Facing = 1, Pi/4, (5*Pi)/3)

[State 3000, 000]
type = VarSet
trigger1 = time = 0
fv = 3
value = ifelse(Facing = 1, (7*Pi)/6, ((7*Pi)/6) - (Pi/2))

[State 3000, 0000]
type = VarSet
trigger1 = time = 0
v = 25
value = 1

[state 3040, 1]
type = explod
trigger1 = time = 0
id = 2255
anim = 9110
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1


[state 4002, 3.2]
type = explod
trigger1 = animelem = 4
anim = 9111
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0


[state haha]
type = superpause
trigger1 = animelem = 4
time = 38
pos = 26,-61
anim = s9109
sound = s0,885
unhittable = 3
poweradd = -1000
darken = 0

[state 4002, 1]
type = explod
trigger1 = animelem = 4
anim = 7000
id = 7000
postype = back
pos = 0, -11
sprpriority = -3
ownpal = 1
bindtime = -1
supermove = 1
persistent = 0
scale = 1,1.075

[State 3000, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 6, 2
channel = 0

[State 3000, 3]
type = Explod
trigger1 = AnimElem = 4 = 5
ID = 3
anim = 6140
postype = back
pos = -180, 10
bindtime = -1
removetime = -2
sprpriority = -4
ownpal = 1
supermovetime = 9999

[State 3000, 4]
type = Explod
trigger1 = AnimElem = 4 = 5
ID = 4
anim = 6240
postype = left
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = -5
ownpal = 1
supermovetime = 9999

[State 3000, 5]
type = AssertSpecial
trigger1 = NumExplod(4) > 0
trigger2 = NumExplod(5) > 0
flag = NoBG
flag2 = NoFG


[State 3000, 6a]
type = RemoveExplod
trigger1 = time = 55
ID = 3

[State 3000, 7]
type = Explod
trigger1 = time = 50
ID = 5
anim = 6250
postype = left
pos = -80, -40
bindtime = -1
removetime = -1
sprpriority = -5
ownpal = 1
supermovetime = 9999
removeongethit = 1

[State 3000, 7a]
type = VarSet
trigger1 = AnimElem = 5
v = 21
value = Power

[State 3000, 8]
type = Helper
trigger1 = AnimElem = 5
ID = 5643
name = "Ouroboro 1"
StateNo = 3010
postype = p1
pos = 0, -98
ownpal = 1

[State 3000, 9]
type = Helper
trigger1 = AnimElem = 5
ID = 5643
name = "Ouroboro 2"
StateNo = 3020
postype = p1
pos = 0, -98
ownpal = 1

[State 3000, 10]
type = Helper
trigger1 = AnimElem = 5
ID = 616
name = "Timer"
StateNo = 3030
postype = left
pos = 0, 0
ownpal = 1

[State 3000, 11]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 5

[State 3000, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 3010]
type = A
movetype = A
physics = N
sprpriority = 3
hitdefpersist = 1

[State -2, Super KO Helper]
type = Helper
triggerall = WinKO
trigger1 = NumHelper(101) = 0

name = "Super KO FX Spawner"
ID = 101
StateNo = 9070
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 3010, 0]
type = VarSet
trigger1 = 1
fv = 0
value = parent, fvar(2)

[State 3010, 00]
type = ChangeAnim
trigger1 = Facing != Parent, Facing
value = ifelse(Facing = 1, 3015, 3010)
elem = AnimElemNo(0)

[State 3010, 000]
type = ParentVarSet
trigger1 = Facing != Parent, Facing
trigger1 = Facing = 1
fv = 2
value = fvar(0) + (Pi / 2)

[State 3010, 0000]
type = ParentVarSet
trigger1 = Facing != Parent, Facing
trigger1 = Facing = -1
fv = 2
value = fvar(0) - (Pi / 2)

[State 3010, 00000]
type = Turn
trigger1 = Facing != Parent, Facing

[State 3010, 1]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 3010, 1a]
type = ChangeAnim
trigger1 = ParentDist Y < 0
trigger1 = ParentDist X = [-1,1]
trigger1 = Facing = 1
value = 3010
elem = 16

[State 3010, 1b]
type = ChangeAnim
trigger1 = ParentDist Y < 0
trigger1 = ParentDist X = [-1,1]
trigger1 = Facing = -1
value = 3015
elem = 17

[State 3010, 2]
type = ChangeAnim
trigger1 = var(0) = 1
value = ifelse(Facing = 1, 3010, 3015)
elem = ifelse(Facing = 1, 24, 9)

[State 3010, 3]
type = AssertSpecial
trigger1 = var(0) <= 20
trigger1 = (var(0) % 2) = 1
trigger2 = Parent, StateNo = 2290
trigger2 = Parent, Time < 4
flag = Invisible

[State 3010, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 3010

[State 3010, 5]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 3010, 6]
type = VarAdd
trigger1 = 1
fv = 0
value = 1

[State 3010, 7]
type = BindToParent
trigger1 = Facing = 1
pos = floor(55 * (sin(fvar(0)))), (floor(55 * (cos(fvar(0))))) - 47
time = 1

[State 3010, 7b]
type = BindToParent
trigger1 = Facing = -1
pos = floor(55 * (cos(fvar(0)))), (floor(55 * (sin(fvar(0))))) - 47
time = 1

[State 3010, 8]
type = HitDef
trigger1 = var(0) = 20
trigger2 = var(3) = 45
attr = A, HA
hitflag = MAFD
guardflag = MA
pausetime = 1, 11
priority = 7, Hit
animtype = hard
damage = 10, 2
sparkno = s9108
sparkxy = 0, 0
hitsound = s5546,3
guardsound = s120,0
ground.type = high
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -6
air.type = low
air.velocity = -4, -2
air.hittime = 20
down.velocity = -3, -4
down.hittime = 30
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -5.5
givepower = 20
getpower = 0
guard.sparkno = s9101

[State 3010, 8a]
type = VarSet
trigger1 = MoveHit
v = 3
value = 0
ignorehitpause = 1

[State 3010, 8b]
type = VarAdd
trigger1 = MoveHit
trigger2 = var(3) > 0
v = 3
value = 1

[State 3010, 9]
type = ParentVarAdd
trigger1 = MoveHit
trigger2 = ProjHit1199 = 1
v = 11
value = 1

[State 3010, 9a]
type = ParentVarSet
trigger1 = MoveHit
trigger2 = ProjHit1199 = 1
v = 25
value = 1

[State 3010, 10]
type = MoveHitReset
trigger1 = MoveHit

[State 3010, 11]
type = Projectile
triggerall = var(1) = 0
triggerall = Pos Y <= 0
trigger1 = Parent, StateNo = [200,220]
trigger2 = Parent, StateNo = [300,320]
trigger3 = Parent, StateNo = [400,420]
trigger4 = Parent, StateNo = 2410
trigger5 = Parent, StateNo = 2460
trigger6 = Parent, StateNo = 2480
trigger7 = Parent, StateNo = 2500
trigger8 = Parent, StateNo = 2520
trigger9 = Parent, StateNo = 2540
trigger10 = Parent, StateNo = 2030
trigger11 = Parent, StateNo = [2000,2020]
trigger12 = Parent, StateNo = 2050
projID = 1199
projanim = 3050
projhitanim = -1
projremanim = 9999
velocity = 5, 0
projsprpriority = 4
projstagebound = 80
postype = p1
pos = 0, 0
attr = A, HP
hitflag = MAFD
guardflag = MA
pausetime = 1, 11
animtype = hard
damage = floor(10 * fvar(1)), 2
sparkno = s9108
sparkxy = 0, 0
hitsound = s5546,3
guardsound = s120,0
ground.type = high
ground.slidetime = 11
ground.hittime = 11
ground.velocity = -6
air.velocity = -3, -3
air.hittime = 15
down.velocity = -3, -4
down.hittime = 15
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -7
givepower = 20
getpower = 0
guard.sparkno = s9101

[State 3010, 12]
type = Explod
triggerall = var(1) = 0
trigger1 = Parent, StateNo = [200,220]
trigger2 = Parent, StateNo = [300,320]
trigger3 = Parent, StateNo = [400,420]
trigger4 = Parent, StateNo = 2410
trigger5 = Parent, StateNo = 2460
trigger6 = Parent, StateNo = 2480
trigger7 = Parent, StateNo = 2500
trigger8 = Parent, StateNo = 2520
trigger9 = Parent, StateNo = 2540
trigger10 = Parent, StateNo = 2030
trigger11 = Parent, StateNo = [2000,2020]
trigger12 = Parent, StateNo = 2050
anim = 3040
ID = 1235
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1

[State 3010, 13]
type = VarAdd
triggerall = var(1) = 0
trigger1 = Parent, StateNo = [200,220]
trigger2 = Parent, StateNo = [300,320]
trigger3 = Parent, StateNo = [400,420]
trigger4 = Parent, StateNo = 2410
trigger5 = Parent, StateNo = 2460
trigger6 = Parent, StateNo = 2480
trigger7 = Parent, StateNo = 2500
trigger8 = Parent, StateNo = 2520
trigger9 = Parent, StateNo = 2540
trigger10 = Parent, StateNo = 2030
trigger11 = Parent, StateNo = [2000,2020]
trigger12 = Parent, StateNo = 2050
v = 1
value = 1

[State 3010, 14]
type = VarAdd
trigger1 = var(1) > 0
v = 1
value = 1

[State 3010, 15]
type = VarSet
trigger1 = var(1) >= 27
v = 1
value = 0

[State 3010, 16]
type = VarSet
trigger1 = 1
fv = 1
value = parent, fvar(1)

[State 3010, 17]
type = AttackMulSet
trigger1 = 1
value = fvar(1)

[State 3010, 18]
type = ChangeState
trigger1 = parent, var(20) = 1
trigger2 = 0
trigger3 = parent, Lose
trigger4 = !(parent, Alive)
value = 2260

[State 3010, 19]
type = DestroySelf
trigger1 = Parent, StateNo = 3230
trigger1 = Parent, MoveType != H




[Statedef 3020]
type = A
movetype = A
physics = N
sprpriority = 3
hitdefpersist = 1

[State -2, Super KO Helper]
type = Helper
triggerall = WinKO
trigger1 = NumHelper(101) = 0

name = "Super KO FX Spawner"
ID = 101
StateNo = 9070
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State 3020, 0]
type = VarSet
trigger1 = 1
fv = 0
value = parent, fvar(3)

[State 3020, 00]
type = ChangeAnim
trigger1 = Facing != Parent, Facing
value = ifelse(Facing = 1, 3015, 3010)
elem = AnimElemNo(0)

[State 3020, 000]
type = ParentVarSet
trigger1 = Facing != Parent, Facing
trigger1 = Facing = 1
fv = 3
value = fvar(0) + (Pi / 2)

[State 3020, 0000]
type = ParentVarSet
trigger1 = Facing != Parent, Facing
trigger1 = Facing = -1
fv = 3
value = fvar(0) - (Pi / 2)

[State 3020, 00000]
type = Turn
trigger1 = Facing != Parent, Facing

[State 3020, 1]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 3020, 1a]
type = ChangeAnim
trigger1 = ParentDist Y < 0
trigger1 = ParentDist X = [-1,1]
trigger1 = Facing = 1
value = 3010
elem = 16

[State 3020, 1b]
type = ChangeAnim
trigger1 = ParentDist Y < 0
trigger1 = ParentDist X = [-1,1]
trigger1 = Facing = -1
value = 3015
elem = 17

[State 3020, 2]
type = ChangeAnim
trigger1 = var(0) = 1
value = ifelse(Facing = 1, 3010, 3015)
elem = ifelse(Facing = 1, 8, 25)

[State 3020, 3]
type = AssertSpecial
trigger1 = var(0) <= 20
trigger1 = (var(0) % 2) = 1
trigger2 = Parent, StateNo = 2290
trigger2 = Parent, Time < 4
flag = Invisible

[State 3020, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 3020

[State 3020, 5]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 3020, 6]
type = VarAdd
trigger1 = 1
fv = 0
value = 1

[State 3020, 7]
type = BindToParent
trigger1 = Facing = 1
pos = floor(55 * (sin(fvar(0)))), (floor(55 * (cos(fvar(0))))) - 47
time = 1

[State 3020, 7b]
type = BindToParent
trigger1 = Facing = -1
pos = floor(55 * (cos(fvar(0)))), (floor(55 * (sin(fvar(0))))) - 47
time = 1

[State 3020, 8]
type = HitDef
trigger1 = var(0) = 20
trigger2 = var(3) = 45
attr = A, HA
hitflag = MAFD
guardflag = MA
pausetime = 1, 11
priority = 7, Hit
animtype = hard
damage = 10, 2
sparkno = s9108
sparkxy = 0, 0
hitsound = s5546,3
guardsound = s120,0
ground.type = high
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -6
air.type = low
air.velocity = -4, -2
air.hittime = 20
down.velocity = -3, -4
down.hittime = 30
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -5.5
givepower = 20
getpower = 0
guard.sparkno = s9101

[State 3020, 8a]
type = VarSet
trigger1 = MoveHit
v = 3
value = 0
ignorehitpause = 1

[State 3020, 8b]
type = VarAdd
trigger1 = MoveHit
trigger2 = var(3) > 0
v = 3
value = 1

[State 3020, 9]
type = ParentVarAdd
trigger1 = MoveHit
trigger2 = ProjHit1199 = 1
v = 11
value = 1

[State 3020, 9a]
type = ParentVarSet
trigger1 = MoveHit
trigger2 = ProjHit1199 = 1
v = 25
value = 1

[State 3020, 10]
type = MoveHitReset
trigger1 = MoveHit

[State 3020, 11]
type = Projectile
triggerall = var(1) = 0
triggerall = Pos Y <= 0
trigger1 = Parent, StateNo = [200,220]
trigger2 = Parent, StateNo = [300,320]
trigger3 = Parent, StateNo = [400,420]
trigger4 = Parent, StateNo = 2410
trigger5 = Parent, StateNo = 2460
trigger6 = Parent, StateNo = 2480
trigger7 = Parent, StateNo = 2500
trigger8 = Parent, StateNo = 2520
trigger9 = Parent, StateNo = 2540
trigger10 = Parent, StateNo = 2030
trigger11 = Parent, StateNo = [2000,2020]
trigger12 = Parent, StateNo = 2050
projID = 1199
projanim = 3050
projhitanim = -1
projremanim = 9999
velocity = 5, 0
projsprpriority = 4
projstagebound = 80
postype = p1
pos = 0, 0
attr = A, HP
hitflag = MAFD
guardflag = MA
pausetime = 1, 11
animtype = hard
damage = floor(10 * fvar(1)), 2
sparkno = S3060
sparkxy = 0, 0
hitsound = S1, 3
guardsound = S1, 6
ground.type = high
ground.slidetime = 11
ground.hittime = 11
ground.velocity = -6
air.velocity = -3, -3
air.hittime = 15
down.velocity = -3, -4
down.hittime = 15
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -7
givepower = 20
getpower = 0
guard.sparkno = s9101

[State 3020, 12]
type = Explod
triggerall = var(1) = 0
trigger1 = Parent, StateNo = [200,220]
trigger2 = Parent, StateNo = [300,320]
trigger3 = Parent, StateNo = [400,420]
trigger4 = Parent, StateNo = 2410
trigger5 = Parent, StateNo = 2460
trigger6 = Parent, StateNo = 2480
trigger7 = Parent, StateNo = 2500
trigger8 = Parent, StateNo = 2520
trigger9 = Parent, StateNo = 2540
trigger10 = Parent, StateNo = 2030
trigger11 = Parent, StateNo = [2000,2020]
trigger12 = Parent, StateNo = 2050
anim = 3040
ID = 1235
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1

[State 3020, 13]
type = VarAdd
triggerall = var(1) = 0
trigger1 = Parent, StateNo = [200,220]
trigger2 = Parent, StateNo = [300,320]
trigger3 = Parent, StateNo = [400,420]
trigger4 = Parent, StateNo = 2410
trigger5 = Parent, StateNo = 2460
trigger6 = Parent, StateNo = 2480
trigger7 = Parent, StateNo = 2500
trigger8 = Parent, StateNo = 2520
trigger9 = Parent, StateNo = 2540
trigger10 = Parent, StateNo = 2030
trigger11 = Parent, StateNo = [2000,2020]
trigger12 = Parent, StateNo = 2050
v = 1
value = 1

[State 3020, 14]
type = VarAdd
trigger1 = var(1) > 0
v = 1
value = 1

[State 3020, 15]
type = VarSet
trigger1 = var(1) >= 27
v = 1
value = 0

[State 3020, 16]
type = VarSet
trigger1 = 1
fv = 1
value = parent, fvar(1)

[State 3020, 17]
type = AttackMulSet
trigger1 = 1
value = fvar(1)

[State 3020, 18]
type = ChangeState
trigger1 = parent, var(20) = 1
trigger2 = 0
trigger3 = parent, Lose
trigger4 = !(parent, Alive)
value = 2260

[State 3020, 19]
type = DestroySelf
trigger1 = Parent, StateNo = 3230
trigger1 = Parent, MoveType != H




[Statedef 3030]
type = A
movetype = I
physics = N
anim = 9999

[State 3030, 1]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(12)

[State 3030, 2]
type = Explod
triggerall = var(0) = 1
trigger1 = time = 20
ID = 7878
anim = 3020
postype = left
pos = 10, 60
bindtime = -1
removetime = -1
ownpal = 1
sprpriority = -5

[State 3030, 3]
type = Explod
triggerall = var(0) = 1
trigger1 = time = 20
ID = 7879
anim = 3030
postype = left
pos = 10, 60
bindtime = -1
removetime = -1
ownpal = 1
sprpriority = -4

[State 3030, 4]
type = Explod
triggerall = var(0) = -1
trigger1 = time = 20
ID = 7878
anim = 3020
postype = right
pos = -157, 60
bindtime = -1
removetime = -1
ownpal = 1
sprpriority = -5

[State 3030, 5]
type = Explod
triggerall = var(0) = -1
trigger1 = time = 20
ID = 7879
anim = 3030
postype = right
pos = -157, 60
bindtime = -1
removetime = -1
ownpal = 1
sprpriority = -4

[State 3030, 6]
type = VarAdd
trigger1 = time > 20
fv = 0
value = 1

[State 3030, 7]
type = VarSet
trigger1 = time > 20
fv = 1
value = fvar(0) / 300

[State 3030, 8]
type = ModifyExplod
trigger1 = time > 20
ID = 7879
scale = fvar(1), 1

[State 3030, 9]
type = ParentVarSet
trigger1 = fvar(0) > 300
v = 20
value = 1

[State 3030, 10]
type = RemoveExplod
trigger1 = fvar(0) > 300
trigger2 = parent, Win
trigger3 = !(Parent, Alive)
trigger4 = Parent, Lose
trigger5 = Parent, StateNo = 3230
trigger5 = Parent, MoveType != H

[STate 3030, 11]
type = DestroySelf
trigger1 = fvar(0) > 300
trigger2 = 0
trigger3 = !(Parent, Alive)
trigger4 = Parent, Lose
trigger5 = Parent, StateNo = 3230
trigger5 = Parent, MoveType != H




[Statedef 3040]
type = s
movetype = a
physics = s
ctrl = 0
anim = 3070
velset = 0, 0
sprpriority = 1

[state 3040, 0]
type = varset
trigger1 = time = 0
v = 25
value = 2

[state 3040, 1]
type = explod
trigger1 = time = 0
id = 2255
anim = 9110
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[state 2000, 4]
type = helper
trigger1 = time = 0
trigger1 = numhelper(9002) = 0
stateno = 9922
id = 9002
name = "floor"
pos = 0,0
postype = p1
bindtime = 0
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[state 4002, 3.2]
type = explod
trigger1 = time = 0
anim = 9111
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0


[state 3000, 2]
type = afterimage
trigger1 = time = 6
time = 99999999
length = 20
framegap = 6
palcolor = 0
palinvertall = 0
palbright = 64, 64, 128
palcontrast = 160, 160, 160
palpostbright = 64, 64, 200
paladd = 0, 0, 0
palmul = 1.0, 1.0, 1.0
trans = none
ignorehitpause = 0

[state 3000, 2]
type = afterimage
trigger1 = time = 107
time = 1
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 80, 100, 80
palcontrast = 55, 95, 255
trans = none

[state haha]
type = superpause
trigger1 = time = 0
time = 38
pos = 26,-61
anim = s9109
sound = s0,885
unhittable = 3
poweradd = -1000
darken = 0

[state 4002, 1]
type = explod
trigger1 = time = 0
anim = 7000
id = 7000
postype = back
pos = 0, -11
sprpriority = -3
ownpal = 1
bindtime = -1
supermove = 1
persistent = 0
scale = 1,1.075


[state 3040, 6]
type = removeexplod
trigger1 = time = 53
id = 3

[state 3040, 7a]
type = playsnd
trigger1 = animelem = 2
value = 6, 3
channel = 0

[state 3040, 8]
type = helper
trigger1 = animelem = 3
id = 7752
name = "metal 1"
stateno = 3050
postype = back
pos = -45, 0 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 9]
type = helper
trigger1 = animelem = 5
id = 7752
name = "metal 2"
stateno = 3060
postype = back
pos = -80, 0 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 10]
type = helper
trigger1 = animelem = 7
id = 7752
name = "metal 3"
stateno = 3070
postype = back
pos = -68, -67 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 11]
type = helper
trigger1 = animelem = 6
id = 7752
name = "metal 4"
stateno = 3080
postype = back
pos = -85, -90 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 12]
type = helper
trigger1 = animelem = 9
id = 7752
name = "metal 5"
stateno = 3090
postype = back
pos = -110, -81 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 13]
type = helper
trigger1 = animelem = 10
id = 7752
name = "metal 6"
stateno = 3100
postype = back
pos = -45, 0 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 14]
type = helper
trigger1 = animelem = 11
id = 7752
name = "metal 7"
stateno = 3110
postype = back
pos = -45, 0 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 15]
type = helper
trigger1 = animelem = 10
id = 7752
name = "metal 8"
stateno = 3060
postype = back
pos = -80, 0 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 16]
type = helper
trigger1 = animelem = 4
id = 7752
name = "metal falcon 1"
stateno = 3120
postype = back
pos = -22, -120 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 17]
type = helper
trigger1 = animelem = 8
id = 7752
name = "metal falcon 2"
stateno = 3130
postype = back
pos = -40, -100 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 18]
type = helper
trigger1 = animelem = 12
id = 7752
name = "metal falcon 3"
stateno = 3140
postype = back
pos = -35, -160 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 19]
type = helper
trigger1 = animelem = 15
id = 7752
name = "metal falcon 4"
stateno = 3150
postype = back
pos = -80, -140 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 20]
type = helper
trigger1 = animelem = 19
id = 7752
name = "metal falcon 5"
stateno = 3120
postype = back
pos = -50, -110 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 21]
type = helper
trigger1 = animelem = 21
id = 7752
name = "metal falcon 6"
stateno = 3130
postype = back
pos = -90, -140 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 22]
type = helper
trigger1 = animelem = 17
id = 7752
name = "metal falcon 7"
stateno = 3140
postype = back
pos = -80, -155 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, 23]
type = helper
trigger1 = animelem = 27
id = 7752
name = "metal falcon 8"
stateno = 3150
postype = back
pos = -120, -140 + ifelse(var(31) > 0,-600,0)
ownpal = 1

[state 3040, z]
type = removeexplod
trigger1 = animtime = 0
id = 5

[state 3040, zz]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 3045]
type = U
movetype = h
physics = n
sprpriority = 1

[state 3045, 1]
type = changeanim
trigger1 = time <= 11
value = ifelse(statetype = a, 5012, 5002)

[state 3045, 2]
type = posfreeze
trigger1 = time <= 11

[state 3045, 3]
type = statetypeset
trigger1 = time = 12
statetype = a

[state 3045, 4]
type = changeanim
trigger1 = time = 12
value = 5050+200*var(40)

[state 3045, 5]
type = velset
trigger1 = time = 12
x = -3
y = -11

[state 3045, 6]
type = hitby
trigger1 = 1
value = , ha

[state 3045, 7]
type = nothitby
trigger1 = 1
value = , na, sa, ap, at

[state 3045, 8]
type = veladd
trigger1 = time >= 12
y = .39

[state 3045, 9]
type = changestate
trigger1 = pos y > 0
value = 3046




[Statedef 3046]
type = l
movetype = h
physics = n
velset = 0, 0

[state 3046, 0]
type = changeanim
trigger1 = time = 0
value = 5100+202*var(40)

[state 3046, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(var(31) > 0,-600,0)

[state 3046, 2]
type = playsnd
trigger1 = time = 0
value = F7, 0

[state 3046, 3]
type = changeanim
trigger1 = anim = 5100
trigger1 = animtime = 0
value = 5110+200*var(40)

[state 3046, 4]
type = hitby
trigger1 = 1
value = , ha

[state 3046, 5]
type = nothitby
trigger1 = 1
value = , na, sa, ap, at

[state 3046, 6]
type = selfstate
trigger1 = time > 30
trigger1 = alive
value = 5120

[state 3046, 7]
type = selfstate
trigger1 = time > 30
trigger1 = !alive
value = 5150




[Statedef 3050]
type = s
movetype = i
physics = n
anim = 3090
sprpriority = 2

[state 3050, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3050, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3050, 3]
type = changestate
trigger1 = time = 4
value = 3051




[Statedef 3051]
type = a
movetype = a
physics = n
anim = 3080
velset = 10, -7

[state 3051, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3051, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3051, 3]
type = veladd
trigger1 = 1
y = .5

[state 3051, 4]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -11
ground.type = low
fall.animtype = hard
air.velocity = -1.5, -11
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
yaccel = .6
fall = 1
fall.recover = 0
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3051, 8]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3051, 9]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3052




[Statedef 3052]
type = s
movetype = i
physics = n
anim = 3110
velset = 0, 0

[state 3052, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 3052, 2]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3052, 3]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3052, 4]
type = changeanim
trigger1 = anim = 3110
trigger1 = animtime = 0
value = 2140

[state 3052, 5]
type = velset
trigger1 = anim = 2140
x = 9

[state 3052, 6]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130




[Statedef 3060]
type = s
movetype = i
physics = n
anim = 3090
sprpriority = 2

[state 3060, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3060, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3060, 3]
type = changestate
trigger1 = time = 4
value = 3061




[Statedef 3061]
type = a
movetype = a
physics = n
anim = 3080
velset = 11, -10

[state 3061, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3061, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3061, 3]
type = veladd
trigger1 = 1
y = .55

[state 3061, 4]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.velocity = -1.5, -8
ground.type = high
air.type = low
fall.animtype = hard
air.velocity = -1.5, -8
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
yaccel = .6
fall.recover = 0
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3061, 5]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3061, 9]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3062




[Statedef 3062]
type = s
movetype = i
physics = n
anim = 3110
velset = 0, 0

[state 3062, 1]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 3062, 2]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3062, 3]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3062, 4]
type = changeanim
trigger1 = anim = 3110
trigger1 = animtime = 0
value = 2140

[state 3062, 5]
type = velset
trigger1 = anim = 2140
x = 9

[state 3062, 6]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130




[Statedef 3070]
type = a
movetype = a
physics = n
anim = 3100
sprpriority = 2
velset = 10, -9

[state 3070, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3070, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3070, 3]
type = veladd
trigger1 = 1
y = .6

[state 3070, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3070, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
air.type = low
ground.velocity = -1.5, -11
fall.animtype = hard
air.velocity = -1.5, -11
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
yaccel = .6
fall.recover = 0
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3070, 8]
type = changestate
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3071




[Statedef 3071]
type = s
movetype = i
physics = n
anim = 3110
velset = 0, 0

[state 3071, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3071, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3071, 3]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 3071, 4]
type = changestate
trigger1 = animtime = 0
value = 3072




[Statedef 3072]
type = a
movetype = a
physics = n
anim = 3080
velset = 12.5, -15

[state 3072, 0]
type = veladd
trigger1 = 1
y = .6

[state 3072, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3072, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3072, 3]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3072, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -11
air.type = low
fall.animtype = hard
air.velocity = -1.5, -11
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
yaccel = .6
fall.recover = 0
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3072, 8]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130
trigger3 = vel y > 0
trigger3 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)




[Statedef 3080]
type = a
movetype = a
physics = n
anim = 3100
sprpriority = 2
velset = 6, -4

[state 3080, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3080, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3080, 3]
type = veladd
trigger1 = 1
y = .6

[state 3080, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3080, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -11
air.type = low
fall.animtype = hard
air.velocity = -1.5, -11
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
yaccel = .6
fall.recover = 0
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3080, 8]
type = changestate
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3081




[Statedef 3081]
type = s
movetype = i
physics = n
anim = 3110
velset = 0, 0

[state 3081, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3081, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3081, 3]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 3081, 4]
type = changestate
trigger1 = animtime = 0
value = 3082




[Statedef 3082]
type = a
movetype = a
physics = n
anim = 3080
velset = 11.5, -7

[state 3082, 0]
type = veladd
trigger1 = 1
y = .6

[state 3082, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3082, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3082, 3]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3082, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -12
air.type = low
fall.animtype = hard
air.velocity = -1.5, -12
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3082, 8]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130

[state 3082, 9]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3062




[Statedef 3090]
type = a
movetype = a
physics = n
anim = 3100
sprpriority = 2
velset = 6.1, -5.1

[state 3090, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3090, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3090, 3]
type = veladd
trigger1 = 1
y = .6

[state 3090, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3090, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -12
air.type = low
fall.animtype = hard
air.velocity = -1.5, -12
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3090, 8]
type = changestate
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3091




[Statedef 3091]
type = s
movetype = i
physics = n
anim = 3110
velset = 0, 0

[state 3091, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3091, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3091, 3]
type = posset
trigger1 = time = 0
y = 0 + ifelse(root,var(31) > 0,-600,0)

[state 3091, 4]
type = changestate
trigger1 = animtime = 0
value = 3092




[Statedef 3092]
type = s
movetype = a
physics = n
anim = 2140
velset = 10, 0

[state 3092, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3092, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3092, 3]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3092, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.velocity = -1.5, -12
air.type = low
ground.type = low
fall.animtype = hard
air.velocity = -1.5, -12
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3092, 8]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130




[Statedef 3100]
type = s
movetype = i
physics = n
anim = 3090
sprpriority = 2

[state 3100, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3100, 2]
type = nothitby
trigger1 = 1
value = ,at

[state 3100, 3]
type = changestate
trigger1 = time = 8
value = 3092




[Statedef 3110]
type = s
movetype = i
physics = n
anim = 3090
sprpriority = 2

[state 3110, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3110, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3110, 3]
type = changestate
trigger1 = time = 8
value = 3111




[Statedef 3111]
type = a
movetype = a
physics = n
anim = 3080
velset = 10, -6

[state 3111, 0]
type = veladd
trigger1 = 1
y = .5

[state 3111, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2190
ignorehitpause = 1

[state 3111, 2]
type = nothitby
trigger1 = 1
value = ,at
ignorehitpause = 1

[state 3111, 3]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3111, 5]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 35, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -12
air.type = low
fall.animtype = hard
air.velocity = -1.5, -12
air.hittime = 20
down.velocity = -1.5, -5
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3111, 8]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 450
trigger2 = Facing = -1
trigger2 = screenpos x <= -130

[state 3111, 9]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0 + ifelse(root,var(31) > 0,-600,0)
value = 3062




[Statedef 3120]
type = a
movetype = a
physics = n
anim = 3120
sprpriority = 2
velset = 9.5, 2.5

[state 3120, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2570
ignorehitpause = 1

[state 3120, 2]
type = nothitby
trigger1 = 1
value = ,at

[state 3120, 3]
type = veladd
trigger1 = 1
y = -.17

[state 3120, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3120, 6]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 15
priority = 7, hit
animtype = hard
damage = 30, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -12
air.type = low
fall.animtype = hard
air.velocity = -6.5, -12
air.hittime = 20
down.velocity = -1.5, -2
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3120, 9]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 410
trigger2 = Facing = -1
trigger2 = screenpos x <= -90




[Statedef 3130]
type = a
movetype = a
physics = n
anim = 3120
sprpriority = 2
velset = 12.5, 1.8

[state 3130, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2570
ignorehitpause = 1

[state 3130, 2]
type = nothitby
trigger1 = 1
value = ,at

[state 3130, 3]
type = veladd
trigger1 = 1
y = -.15

[state 3130, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3130, 6]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
priority = 7, hit
animtype = hard
damage = 30, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -1.5, -11
air.type = low
fall.animtype = hard
air.velocity = -6.5, -11
air.hittime = 20
down.velocity = -1.5, -2
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3130, 9]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 410
trigger2 = Facing = -1
trigger2 = screenpos x <= -90




[Statedef 3140]
type = a
movetype = a
physics = n
anim = 3120
sprpriority = 2
velset = 8.5, 3

[state 3140, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2570
ignorehitpause = 1

[state 3140, 2]
type = nothitby
trigger1 = 1
value = ,at

[state 3140, 3]
type = veladd
trigger1 = 1
y = -.45

[state 3140, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3140, 6]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 13
priority = 7, hit
animtype = hard
fall.animtype = hard
damage = 30, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -6.5, -11
air.type = low
air.velocity = -6.5, -11
air.hittime = 20
down.velocity = -1.5, -2
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .6
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3140, 9]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 410
trigger2 = Facing = -1
trigger2 = screenpos x <= -90
trigger3 = screenpos y <= -100




[Statedef 3150]
type = a
movetype = a
physics = n
anim = 3120
sprpriority = 2
velset = 10.5, .5

[state 3150, 1]
type = hitoverride
trigger1 = 1
attr = sca, aa, ap
stateno = 2570
ignorehitpause = 1

[state 3150, 2]
type = nothitby
trigger1 = 1
value = ,at

[state 3150, 3]
type = null
trigger1 = 1
y = 0

[state 3150, 4]
type = varset
trigger1 = 1
fv = 0
value = parent, Fvar(1)

[state 3150, 6]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = mafd
guarDFlag = ma
pausetime = 1, 11
animtype = hard
fall.animtype = hard
damage = 30, 2
sparkno = s9108
sparkxy = -5, -34
hitsound = -1
guardsound = -1
ground.type = high
ground.velocity = -8.5, -3
air.type = low
air.velocity = -8.5, -2
air.hittime = 20
down.velocity = -1.5, -11
down.hittime = 20
guard.slidetime = 21
guard.hittime = 21
guard.velocity = -8
fall = 1
fall.recover = 0
yaccel = .9
getpower = 0
guard.sparkno = s9101

[state 3051, 5]
type = playsnd
trigger1 = movehit
value = 5544,2
ignorehitpause = 1

[state 3051, 5]
type = playsnd
trigger1 = moveguarded
value = 120,0
ignorehitpause = 1

[state 3051, 5]
type = parentvarset
trigger1 = roundstate > 2
trigger1 = movehit
v = 21
value = 1
ignorehitpause = 1
persistent = 0

[state 3070, 7]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[state 3150, 9]
type = Destroyself
trigger1 = Facing = 1
trigger1 = screenpos x >= 410
trigger2 = Facing = -1
trigger2 = screenpos x <= -90




[Statedef 3200]
type = s
movetype = i
physics = s
ctrl = 0
anim = 3200
velset = 0, 0
sprpriority = 1

[state 3200, 0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 3200, 00]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 3200, 1]
type = explod
trigger1 = time = 0
id = 23
anim = 9110
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
supermove = 0

[state 3200, 2]
type = explod
trigger1 = animelem = 2
id = 24
anim = 1
postype = p1
pos = -4, -77
bindtime = -1
removetime = 2
sprpriority = 0
ownpal = 1
supermove = 1

[state 3200, 3]
type = explod
trigger1 = animelem = 3
id = 25
anim = 1
postype = p1
pos = -7, -86
bindtime = -1
removetime = -1
sprpriority = 0
ownpal = 1
removeongethit = 1
supermove = 1

[state 3200, 4]
type = playsnd
trigger1 = animelem = 2
value = 6, 2
channel = 0

[state 3200, 4]
type = statetypeset
trigger1 = animelem = 6
movetype = A

[state 3200, 5]
type = explod
trigger1 = animelem = 6
id = 26
anim = 3205
postype = p1
pos = 0, 0
bindtime = -1
removetime = 9
sprpriority = 2
ownpal = 1
removeongethit = 1
supermove = 1

[state 2000, 4]
type = helper
trigger1 = animelem = 6
trigger1 = numhelper(9002) = 0
stateno = 9922
id = 9002
name = "floor"
pos = 0,0
postype = p1
bindtime = 0
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[state 4002, 3.2]
type = explod
trigger1 = animelem = 6
anim = 9111
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0

[state 3000, 2]
type = afterimage
trigger1 = animelem = 6
time = 99999999
length = 20
framegap = 6
palcolor = 0
palinvertall = 0
palbright = 0, 0, 0
palcontrast = 50, 80, 255
paladd = 0, 0, 0
palmul = 1.0, 1.0, 1.0



[state haha]
type = superpause
trigger1 = animelem = 6
time = 38
pos = 26,-61
anim = s9109
sound = s0,885
unhittable = 3
poweradd = -1000
darken = 0

[state 4002, 1]
type = explod
trigger1 = animelem = 6
anim = 7000
id = 7000
postype = back
pos = 0, -11
sprpriority = -3
ownpal = 1
bindtime = -1
supermove = 1
persistent = 0
scale = 1,1.075


[state 3200, 10a]
type = varadd
trigger1 = time >= 58
v = 1
value = 1

[state 3200, 11]
type = removeexplod
trigger1 = time = 66
id = 3

[state 3200, 12]
type = removeexplod
trigger1 = animtime = 0
id = 25

[state 3200, 13]
type = changestate
trigger1 = animtime = 0
value = 3210




[Statedef 3210]
type = s
movetype = a
physics = n
ctrl = 0
anim = 3210
velset = 8, 0

[state 3210, 0]
type = nothitby
trigger1 = time < 8
value = sca

[state 3210, 1]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 3210, 2]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
value = 2, 5

[state 3210, 3]
type = hitdef
trigger1 = time = 0
attr = s, ha
hitflag = maf
guarDFlag = ma
pausetime = 1, 1
priority = 7, miss
damage = 0
sparkno = s9127
sparkxy = -5, -45
hitsound = s2, 1
guardsound = s120,0
guard.pausetime = 11, 11
guard.slidetime = 15
guard.hittime = 15
guard.velocity = -8
p1stateno = 3230
p2stateno = 3400
p2facing = 1
fall = 1
fall.recover = 0
getpower = 0


[state 3210, 4]
type = changestate
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3220




[Statedef 3220]
type = s
movetype = i
physics = s
ctrl = 0
anim = 3220

[state 3000, 2]
type = afterimage
trigger1 = animelem = 1
time = 1
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 80, 100, 80
palcontrast = 55, 95, 255
trans = none

[state 3220, 1]
type = removeexplod
trigger1 = time = 0
id = 5

[state 3220, 2]
type = playsnd
trigger1 = time = 0
value = 2, 4

[state 3220, 3]
type = explod
trigger1 = time <= 15
trigger1 = (time % 4) = 0
id = 43
anim = 9185
postype = p1
pos = 10, 0
bindtime = 1
removetime = -2
vel = -.2, 0
ownpal = 1
sprpriority = 2

[state 3220, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)




[Statedef 3230]
type = s
movetype = a
physics = n
ctrl = 0
anim = 3230
velset = 0, 0
sprpriority = 1

[state 3230, 0]
type = width
trigger1 = 1
value = var(2), var(2)-50







[state 3230, 0000]
type = varadd
trigger1 = var(2) < 160
v = 2
value = 8

[state 3230, 1]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 3230, 2]
type = targetbind
trigger1 = time = 0
pos = 63, 0
time = 19

[state 3230, 3]
type = targetbind
trigger1 = animelem = 2
pos = 53, 0
time = 4

[state 3230, 4]
type = playsnd
trigger1 = animelem = 3
value = 0,778

[state 3230, 5]
type = targetbind
trigger1 = animelem = 3
pos = 39, -81
time = -1

[state 3230, 7]
type = removeexplod
trigger1 = screenpos y <= 130
id = 5
persistent = 0

[state 3230, 8a]
type = varset
trigger1 = screenpos y <= 130
fv = 0
value = (186 - screenpos y) / 28

[state 3230, 9]
type = velset
trigger1 = animelem = 3
y = -9
persistent = 0

[state 3230, 9]
type = velset
trigger1 = time = 48
y = 0


[state 3230, 10]
type = removeexplod
trigger1 = time = 52
id = 5

[state 3000, 2]
type = afterimage
trigger1 = time = 52
time = 2
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 0, 0, 0
palcontrast = 100, 100, 255
persistent = 0

[state 3230, 12]
type = changestate
trigger1 = time = 52
value = 3240




[Statedef 3240]
type = a
movetype = a
physics = n
anim = 9999
velset = 0, 0

[state 3240, 0]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 3240, 000]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 0

[state 3240, 0000]
type = width
trigger1 = 1
value = var(2), var(2)-50

[state 3240, 1]
type = explod
trigger1 = time = 1
id = 5513
anim = 3240
postype = p1
pos = 30, 0
bindtime = 1
removetime = -2
vel = 2, -7
sprpriority = 3

[state 3240, 2]
type = explod
trigger1 = time = 1
id = 5514
anim = 3245
postype = p1
pos = 30, 0
bindtime = 1
removetime = -2
vel = 7, -3
sprpriority = 3

[state 3240, 3]
type = playsnd
trigger1 = time = 1
value = 6, 1

[state 3240, 4]
type = explod
trigger1 = time = 1
id = 5513
anim = 3240
postype = p1
pos = -30, 0
facing = -1
bindtime = 1
removetime = -2
vel = -2, -7
sprpriority = 3

[state 3240, 5]
type = explod
trigger1 = time = 1
id = 5514
anim = 3245
postype = p1
pos = -30, 0
facing = -1
bindtime = 1
removetime = -2
vel = -7, -3
sprpriority = 3

[state 3240, 6]
type = changestate
trigger1 = time = 30
value = 3250

[state 3240, 7]
type = posadd
trigger1 = screenpos y != 186
y = 186 - screenpos y




[Statedef 3250]
type = a
movetype = a
physics = n
anim = 9999

[state 3250, 0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 0

[state 3250, 00]
type = varset
trigger1 = time = 0
v = 9
value = 0

[state 3250, 1]
type = targetstate
trigger1 = time = 0
value = 3410

[state 3250, 2]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 3250, 4]
type = width
trigger1 = 1
value = var(2), var(2)-50

[state 3250, 5]
type = varset
trigger1 = prevstateno = 3240
trigger1 = time = 0
v = 4
value = 0

[state 3250, 5aa]
type = varadd
trigger1 = prevstateno = 3250
trigger1 = time = 0
v = 4
value = 1

[state 3250, 5a]
type = varrandom
trigger1 = 1
v = 8
range = 0, 1199

[state 3250, 5b]
type = varset
trigger1 = 1
v = 8
value = Floor(var(8) / 100)

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3000) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5d]
type = varadd
trigger1 = numhelper(3001) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5e]
type = varadd
trigger1 = numhelper(3002) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5f]
type = varadd
trigger1 = numhelper(3003) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3004) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3005) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3006) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3007) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3008) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3009) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3010) > 0
v = 9
value = 1
persistent = 0

[state 3250, 5c]
type = varadd
trigger1 = numhelper(3011) > 0
v = 9
value = 1
persistent = 0

[state 3250, 6]
type = helper
triggerall = numhelper(3000) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 0
id = 3000
name = "image"
stateno = 3300
postype = p1
pos = -30, -100
facing = 1
ownpal = 1

[state 3250, 7]
type = helper
triggerall = numhelper(3001) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 1
id = 3001
name = "image"
stateno = 3300
postype = p1
pos = 80, -100
facing = -1
ownpal = 1

[state 3250, 8]
type = helper
triggerall = numhelper(3002) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 2
id = 3002
name = "image"
stateno = 3310
postype = p1
pos = -200, -130
facing = 1
ownpal = 1

[state 3250, 9]
type = helper
triggerall = numhelper(3003) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 3
id = 3003
name = "image"
stateno = 3310
postype = p1
pos = 230, -130
facing = -1
ownpal = 1

[state 3250, 10]
type = helper
triggerall = numhelper(3004) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 4
id = 3004
name = "image"
stateno = 3320
postype = p1
pos = -200, -40
facing = 1
ownpal = 1

[state 3250, 11]
type = helper
triggerall = numhelper(3005) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 5
id = 3005
name = "image"
stateno = 3320
postype = p1
pos = 230, -40
facing = -1
ownpal = 1

[state 3250, 12]
type = helper
triggerall = numhelper(3006) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 6
id = 3006
name = "image"
stateno = 3330
postype = p1
pos = -45, 175
facing = 1
ownpal = 1

[state 3250, 13]
type = helper
triggerall = numhelper(3007) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 7
id = 3007
name = "image"
stateno = 3330
postype = p1
pos = 95, 175
facing = -1
ownpal = 1

[state 3250, 14]
type = helper
triggerall = numhelper(3008) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 8
id = 3008
name = "image"
stateno = 3340
postype = p1
pos = -240, 125
facing = 1
ownpal = 1

[state 3250, 15]
type = helper
triggerall = numhelper(3009) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 9
id = 3009
name = "image"
stateno = 3340
postype = p1
pos = 270, 125
facing = -1
ownpal = 1

[state 3250, 17]
type = helper
triggerall = numhelper(3010) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 10
id = 3010
name = "image"
stateno = 3350
postype = p1
pos = -240, 40
facing = 1
ownpal = 1

[state 3250, 18]
type = helper
triggerall = numhelper(3011) = 0
trigger1 = time >= 2
trigger1 = var(9) < 4
trigger1 = var(8) = 11
id = 3011
name = "image"
stateno = 3350
postype = p1
pos = 270, 40
facing = -1
ownpal = 1

[state 3250, 19]
type = changestate
triggerall = var(9) = 4
triggerall = var(4) != 2
trigger1 = numhelper(3000) = 0 && numhelper(3001) = 0 && numhelper(3002) = 0
trigger1 = numhelper(3003) = 0 && numhelper(3004) = 0 && numhelper(3005) = 0
trigger1 = numhelper(3006) = 0 && numhelper(3007) = 0 && numhelper(3008) = 0
trigger1 = numhelper(3009) = 0 && numhelper(3010) = 0 && numhelper(3011) = 0
value = 3250

[state 3250, 20]
type = changestate
triggerall = var(9) = 4
triggerall = var(4) = 2
trigger1 = numhelper(3000) = 0 && numhelper(3001) = 0 && numhelper(3002) = 0
trigger1 = numhelper(3003) = 0 && numhelper(3004) = 0 && numhelper(3005) = 0
trigger1 = numhelper(3006) = 0 && numhelper(3007) = 0 && numhelper(3008) = 0
trigger1 = numhelper(3009) = 0 && numhelper(3010) = 0 && numhelper(3011) = 0
value = 3260




[Statedef 3260]
type = a
movetype = a
physics = n
anim = 9999

[state 3260, 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 0

[state 3260, 2]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 3260, 4]
type = width
trigger1 = 1
value = var(2), var(2)-50

[state 3260, 5]
type = targetbind
trigger1 = time = 0
pos = 39, -81
time = 1

[state 3260, 5a]
type = turn
trigger1 = time = 5

[state 3260, 6]
type = projectile
trigger1 = time = 5
projid = 2233
projanim = 3320
projhitanim = -1
projremanim = -1
projremove = 0
projremovetime = 22
ownpal = 1
velocity = 12, 8
projsprpriority = 2
postype = p1
offset = -170, -180
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 20
sparkno = s9108
sparkxy = -5, 0
hitsound = s5545,2
p2stateno = 3430
getpower = 0

[state 3260, 7]
type = explod
trigger1 = time = 4
id = 9900
anim = 3325
postype = p1
pos = -170, -180
bindtime = 1
removetime = -2
vel = 12, 8
sprpriority = 3
ownpal = 1

[state 3260, 8]
type = projectile
trigger1 = time = 5
projid = 2233
projanim = 3330
projhitanim = -1
projremanim = -1
projremove = 0
projremovetime = 22
velocity = 8, 12
ownpal = 1
projsprpriority = 2
postype = p1
offset = -80, -230
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 20
sparkno = s9108
sparkxy = -5, 0
hitsound = s5545,2
p2stateno = 3430
getpower = 0

[state 3260, 9]
type = explod
trigger1 = time = 4
id = 1122
anim = 2270
postype = p1
pos = -80, -230
bindtime = 1
removetime = 13
vel = 8, 12
sprpriority = 3
ownpal = 1

[state 3260, 10]
type = turn
trigger1 = time = 5
trigger2 = time = 4

[state 3260, 11]
type = projectile
trigger1 = time = 5
projid = 2233
projanim = 3320
projhitanim = -1
projremanim = -1
projremove = 0
projremovetime = 22
ownpal = 1
velocity = 12, 8
projsprpriority = 2
postype = p1
offset = -170, -180
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 20
sparkno = s9108
sparkxy = -5, 0
hitsound = -1
p2stateno = 3430
getpower = 0

[state 3260, 12]
type = explod
trigger1 = time = 4
id = 9900
anim = 3325
postype = p1
pos = -170, -180
bindtime = 1
removetime = -2
vel = 12, 8
sprpriority = 3
ownpal = 1

[state 3260, 13]
type = projectile
trigger1 = time = 5
projid = 2233
projanim = 3330
projhitanim = -1
projremanim = -1
projremove = 0
projremovetime = 22
ownpal = 1
velocity = 8, 12
projsprpriority = 2
postype = p1
offset = -80, -230
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 20
sparkno = s9108
sparkxy = -5, 0
hitsound = s5545,2
p2stateno = 3430
getpower = 0

[state 3260, 14]
type = playsnd
trigger1 = projhit2233 = 1
value = 5545,2
channel = 4

[state 3260, 14]
type = explod
trigger1 = time = 4
id = 1122
anim = 2270
postype = p1
pos = -80, -230
bindtime = 1
removetime = 13
vel = 8, 12
sprpriority = 3
ownpal = 1

[state 3260, 16]
type = targetstate
trigger1 = target, vel y > 0
trigger1 = target, screenpos y >= 140
value = 3440

[state 3260, 17]
type = changestate
trigger1 = target, vel y > 0
trigger1 = target, screenpos y >= 140
value = 3270




[Statedef 3270]
type = a
movetype = i
physics = n
anim = 9999

[state 3270, 1]
type = varadd
trigger1 = 1
v = 1
value = 1

[state 3270, 2]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 0

[state 3270, 4]
type = width
trigger1 = 1
value = var(2), var(2)-50

[state 3270, 5]
type = removeexplod
trigger1 = time = 0
id = 5

[state 3270, 7]
type = removeexplod
trigger1 = time = 9
id = 5

[state 3270, 9]
type = targetstate
trigger1 = time = 9
value = 3450

[state 3270, 10]
type = changestate
trigger1 = target, stateno = 3460
value = 3280




[Statedef 3280]
type = a
movetype = i
physics = n
anim = 2290
velset = 0, 0

[state 3280, 0]
type = turn
trigger1 = time = 0

[state 3280, 1]
type = posset
trigger1 = time = 0
y = -20 + ifelse(var(31) > 0,-600,0)

[state 3280, 2]
type = removeexplod
trigger1 = time = 0
id = 5

[state 3280, 3]
type = playsnd
trigger1 = time = 0
value = 6, 6
channel = 0

[state 3280, 4]
type = statetypeset
trigger1 = animelem = 5
physics = a

[state 460, 1]
type = changestate
trigger1 = var(31) > 0
trigger1 = pos y >= -600
value = 52

[state 3280, 5]
type = nothitby
trigger1 = 1
value = sca




[Statedef 3300]
type = a
movetype = a
physics = n
anim = 2430
velset = 9.675, 21
sprpriority = 3

[state 3300, 1]
type = nothitby
trigger1 = 1
value = sca

[state 3300, 2]
type = explod
trigger1 = time = 0
id = 1122
anim = 3260
postype = p1
pos = 8, -89
bindtime = 16
removetime = -2
sprpriority = 4
ownpal = 1

[state 3300, 3]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 25
sparkno = s6025+random%5
sparkxy = -5, -73
hitsound = s5546,2
p2stateno = 3420
kill = 0
getpower = 0

[state 3300, 4a]
type = parentvarset
trigger1 = movehit
v = 22
value = 4
persistent = 0

[state 3300, 5]
type = Destroyself
trigger1 = screenpos y >= 380




[Statedef 3310]
type = a
movetype = a
physics = n
anim = 2450
velset = 19.5, 9
sprpriority = 3

[state 3310, 1]
type = nothitby
trigger1 = 1
value = sca

[state 3310, 2]
type = explod
trigger1 = time = 0
id = 1122
anim = 3280
postype = p1
pos = -8, -87
facing = -1
bindtime = 30
removetime = -2
sprpriority = 4
ownpal = 1

[state 3310, 3]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 25
sparkno = s6025+random%5
sparkxy = -5, -73
hitsound = s5546,2
kill = 0
p2stateno = 3420
getpower = 0

[state 3300, 4a]
type = parentvarset
trigger1 = movehit
v = 22
value = 4
persistent = 0

[state 3310, 5]
type = Destroyself
trigger1 = screenpos y >= 380
trigger2 = Facing = 1
trigger2 = screenpos x >= 405
trigger3 = Facing = -1
trigger3 = screenpos x <= -85




[Statedef 3320]
type = a
movetype = a
physics = n
anim = 2470
velset = 22.5, 3
sprpriority = 3

[state 3320, 1]
type = nothitby
trigger1 = 1
value = sca

[state 3320, 2]
type = explod
trigger1 = time = 0
id = 1122
anim = 3300
postype = p1
pos = -13, -79
facing = -1
bindtime = 26
removetime = -2
sprpriority = 4
ownpal = 1

[state 3320, 3]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 25
sparkno = s6025+random%5
sparkxy = -5, -73
hitsound = s5546,2
kill = 0
p2stateno = 3420
getpower = 0

[state 3300, 4a]
type = parentvarset
trigger1 = movehit
v = 22
value = 4
persistent = 0

[state 3320, 5]
type = Destroyself
trigger1 = screenpos y >= 380
trigger2 = Facing = 1
trigger2 = screenpos x >= 405
trigger3 = Facing = -1
trigger3 = screenpos x <= -85




[Statedef 3330]
type = a
movetype = a
physics = n
anim = 2370
velset = 9.675, -21
sprpriority = 3

[state 3330, 1]
type = nothitby
trigger1 = 1
value = sca

[state 3330, 2]
type = explod
trigger1 = time = 0
id = 1122
anim = 3250
postype = p1
pos = -25, -54
bindtime = 23
removetime = -2
sprpriority = 4
ownpal = 1

[state 3330, 3]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 25
sparkno = s6025+random%5
sparkxy = -5, -73
hitsound = s5546,2
kill = 0
p2stateno = 3420
getpower = 0

[state 3300, 4a]
type = parentvarset
trigger1 = movehit
v = 22
value = 4
persistent = 0

[state 3330, 5]
type = Destroyself
trigger1 = screenpos y <= -10




[Statedef 3340]
type = a
movetype = a
physics = n
anim = 2390
velset = 19.5, -9
sprpriority = 3

[state 3340, 1]
type = nothitby
trigger1 = 1
value = sca

[state 3340, 2]
type = explod
trigger1 = time = 0
id = 1122
anim = 3270
postype = p1
pos = -26, -65
facing = -1
bindtime = 34
removetime = -2
sprpriority = 4
ownpal = 1

[state 3340, 3]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 25
sparkno = s6025+random%5
sparkxy = -5, -73
hitsound = s5546,2
kill = 0
p2stateno = 3420
getpower = 0

[state 3300, 4a]
type = parentvarset
trigger1 = movehit
v = 22
value = 4
persistent = 0

[state 3340, 5]
type = Destroyself
trigger1 = screenpos y >= 380
trigger2 = Facing = 1
trigger2 = screenpos x >= 405
trigger3 = Facing = -1
trigger3 = screenpos x <= -85




[Statedef 3350]
type = a
movetype = a
physics = n
anim = 2410
velset = 22.5, -3
sprpriority = 3

[state 3350, 1]
type = nothitby
trigger1 = 1
value = sca

[state 3350, 2]
type = explod
trigger1 = time = 0
id = 1122
anim = 3290
postype = p1
pos = -25, -73
facing = -1
bindtime = 29
removetime = -2
sprpriority = 4
ownpal = 1

[state 3350, 3]
type = hitdef
trigger1 = time = 0
attr = a, ha
hitflag = af+
guarDFlag =
pausetime = 1, 1
damage = 25
kill = 0
sparkno = s6025+random%5
sparkxy = -5, -73
hitsound = s5546,2
p2stateno = 3420
getpower = 0

[state 3300, 4a]
type = parentvarset
trigger1 = movehit
v = 22
value = 4
persistent = 0

[state 3350, 5]
type = Destroyself
trigger1 = screenpos y >= 380
trigger2 = Facing = 1
trigger2 = screenpos x >= 405
trigger3 = Facing = -1
trigger3 = screenpos x <= -85




[Statedef 3400]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 0

[state 3400, 1]
type = nothitby
trigger1 = 1
value = sca
time = 5

[state 3400, 2]
type = changeanim2
trigger1 = anim != 3235+var(40)
value = 3235+var(40)

[state 3400, 3]
type = selfstate
trigger1 = time > 600
value = 5050




[Statedef 3410]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 0







[state 3410, 3]
type = selfstate
trigger1 = time > 600
value = 5050

[state 3410, 4]
type = playerpush
trigger1 = 1
value = 0

[state 3410, 5]
type = nothitby
trigger1 = 1
value = sc ,na, sa, ap, at

[state 3410, 6]
type = hitby
trigger1 = 1
value = a, ha




[Statedef 3420]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 0

[state 3420, 2]
type = changeanim2
trigger1 = time = 0
value = 3310+var(40)

[state 3420, 3]
type = selfstate
trigger1 = time > 600
value = 5050

[state 3420, 4]
type = playerpush
trigger1 = 1
value = 0

[state 3420, 5]
type = nothitby
trigger1 = 1
value =  sc ,na, sa, ap, at

[state 3420, 6]
type = hitby
trigger1 = 1
value = a, ha




[Statedef 3430]
type = a
movetype = h
physics = n

[state 3430, 2]
type = playerpush
trigger1 = 1
value = 0

[state 3430, 3]
type = nothitby
trigger1 = 1
value =  sc ,na, sa, ap, at

[state 3430, 4]
type = hitby
trigger1 = 1
value = a, ha

[state 3430, 5]
type = changeanim
trigger1 = time <= 11
value = 5250+(200*var(40))
persistent = 0

[state 3430, 6]
type = velset
trigger1 = time = 12
y = -19

[state 3430, 7]
type = veladd
trigger1 = time >= 12
y = .5


[state 3430, 8]
type = changeanim
trigger1 = vel y > 0
value = 5251+(200*var(40))
persistent = 0




[Statedef 3440]
type = a
movetype = h
physics = n

[state 3340, 0]
type = veladd
trigger1 = 1
y = .5










[Statedef 3450]
type = a
movetype = h
physics = n

[state 3340, 0]
type = veladd
trigger1 = 1
y = .5

[state 3450, 1]
type = envshake
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
time = 50
freq = 130

[state 3450, 3]
type = changestate
trigger1 = pos y >= 0 + ifelse(var(31) > 0,-600,0)
value = 3460




[Statedef 3460]
type    = l
movetype= h
physics = n

[state 3460, 1]
type = velset
trigger1 = time = 0
trigger1 = gethitvar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[state 3460, envshake]
type = Fallenvshake
trigger1 = time = 0

[state 3460, var]
type = varset
trigger1 = time = 0
sysvar(1) = Floor(vel y)

[state 5100, 2]
type = changeanim
triggerall = time = 0
trigger1 = (anim != [5051+var(40),5059+(200*var(40))]) && (anim != [5061+(200*var(40)),5069+(200*var(40))])
trigger2 = !selfanimexist(5100 + (anim % 10))
value = 5100+(202*var(40))

[state 5100, 3]
type = changeanim
trigger1 = time = 0
trigger1 = (anim = [5051+var(40),5059+(200*var(40))]) || (anim = [5061+(200*var(40)),5069+(200*var(40))])
trigger1 = selfanimexist(5100 + (anim % 10))
value = 5100+(202*var(40)) + (anim % 10)

[state 3460, 4]
type = posset
trigger1 = time = 0
y = 0 + ifelse(var(31) > 0,-600,0)

[state 3460, 5]
type = velset
trigger1 = time = 0
y = 0

[state 3460, 6]
type = velmul
trigger1 = time = 0
x = 0.75

[state 3460, 7]
type = null
trigger1 = time = 0
trigger1 = gethitvar(fall.yvel) = 0
value = 5110

[state 3460, 8]
type = gamemakeanim
trigger1 = time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[state 3460, 9]
type = hitfalldamage
trigger1 = time = 3

[state 3460, 10]
type = playsnd
trigger1 = time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[state 3460, 11]
type = posfreeze
trigger1 = 1

[state 3460, 12]
type = selfstate
trigger1 = animtime = 0
value = 5100

[state 3460, 13]
type = ForcefeeDBack
trigger1 = time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20







[Statedef 100]
type    = s
movetype = i
physics = n
anim = 100
sprpriority = 1
velset = 7, 0

[state 0, 1]
type = nothitby
trigger1 = prevstateno = 7710
time = 1
value = sca

[state 0, 1]
type = ctrlset
trigger1 = time = 0
trigger1 = var(53) = 2
value = 0

[state 100, 4]
type = explod
trigger1 = time = 8
id = 100
anim = 9100
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = 5
persistent = 0
removeongethit = 1

[state 100, 5]
type = playsnd
trigger1 = time = 5
value = 0,777

[state 100, 1]
type = assertspecial
trigger1 = 1
flag = nowalk

[state 100, 2]
type = assertspecial
trigger1 = 1
flag = noautoturn

[state 100, 3]
type = playsnd
trigger1 = time = 0
value = 6, 2
channel = 0

[state 100, 4]
type = playsnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
value = 2, 5

[state 100, 5]
type = playsnd
trigger1 = animelem = 7
value = 2, 4

[state 100, 8]
type = veladd
triggerall = vel x > 0
trigger1 = time > 15
x = -.3


[state 3220, 3]
type = explod
trigger1 = time >= 15
trigger1 = (time % 4) = 0
id = 43
anim = 9185
postype = p1
pos = 10, 0
bindtime = 1
removetime = -2
vel = -.2, 0
ownpal = 1
sprpriority = 2


[state 100, 10]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)



[Statedef 105]
type    = s
physics = n
anim = 105
sprpriority = 1
ctrl = ifelse(var(53) = 2,0,1)

[state 0, 1]
type = ctrlset
trigger1 = time = 0
trigger1 = var(53) = 2
value = 0

[state 105, 1]
type = assertspecial
trigger1 = 1
flag = nowalk
flag2 = noautoturn

[state hehe]
type = assertspecial
trigger1 = 1
flag = Nostandguard

[state 105, 2]
type = playsnd
trigger1 = time = 0
value = 2, 3

[state 105, 3]
type = velset
trigger1 = time = 0
x = -8

[state 105, 4]
type = velset
trigger1 = animelem = 8
x = 0

[state 105, 5]
type = changestate
trigger1 = animtime = 0
value = 0



[Statedef -2]

;  --- Uno Tag System v3.2.1 STATEDEF -2 ---

[State -2, deactivate tag]
type = VarSet
triggerall = sysvar(4) > 0
triggerall = sysvar(4) != 6
trigger1 = roundstate > 2
trigger1 = Win || Lose
trigger2 = NumPartner
trigger2 = Roundstate < 1
trigger2 = teammode = Simul
trigger2 = !Partner, sysvar(4)
trigger2 = Time = [1,2]
trigger3 = Partner, sysvar(4)
trigger3 = !Life
sysvar(4) = 0

[State -2, def]
type = VarSet
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = sysvar(4) = 10
trigger2 = sysvar(4) != 2 && PrevStateNo = 1251131
sysvar(4) = 15

[State -2, Uno]
type = null ;ParentVarSet
trigger1 = PrevStateNo = 1251106
sysvar(4) = 7

[State -2, Eksena]
type = ScreenBound
trigger1 = NumPartner && Partner, sysvar(4) = 4
trigger1 = StateNo = 1251131 || prevStateNo = 1251131
value = 1
movecamera = 1,1

[State -2, no_throw]
type = NotHitBy
trigger1 = NumPartner
trigger1 = sysvar(4) = [8,9]
trigger1 = StateNo != 1251112
value = , AT

[State -2, def]
type = VarSet
triggerall = NumPartner && sysvar(4) != 15
triggerall = Partner, Time = [0,1]
trigger1 = Partner, StateNo = 1251104
trigger2 = Partner, StateNo = 1251110
trigger2 = StateNo != [1251101,1251133]
sysvar(4) = 1

[State -2, GTG]
type = ChangeState
trigger1 = NumPartner
trigger1 = Life && Partner, Life
trigger1 = PrevStateNo = 1251126
trigger1 = StateNo != 1251111
value = 1251111
ignorehitpause = 1

[State -2, Oh No!]
type = SelfState
triggerall = sysvar(4) != [8,9]
triggerall = sysvar(4) != [12,15]
trigger1 = prevStateNo = 1251112
trigger1 = !(StateNo = [1251101,1251133])
value = 1251112
ctrl = 0

[State -2, PowerReset]
type = poweradd
trigger1 = sysvar(4) = 5
trigger1 = RoundNo < 2
trigger1 = RoundState < 2
trigger1 = Time = 0
value = -Power
persistent = 0

[State -2, PowerAdd]
type = poweradd
trigger1 = sysvar(4) = 5 && power < 900
trigger1 = RoundNo < 2
trigger1 = RoundState < 2
trigger1 = Time = 1
value = 1000
persistent = 0

[State -2, prior]
type = SprPriority
trigger1 = NumPartner && Partner, sysvar(4) = 2
trigger2 = (sysvar(4) = [8,9]) && StateNo != [1251110,1251111]
value = 5

[State -2, err]
type = ChangeState
trigger1 = NumPartner && ID > Partner, ID
trigger1 = roundstate = 2 && sysvar(4)
trigger1 = StateNo = 0 && pos Y < 0
value = 1251112

; Tag active ctrl
[State -2, ctrl]
type = SelfState
trigger1 = TeamMode = Simul
trigger1 = NumPartner
trigger1 = Partner, sysvar(4)
trigger1 = !sysvar(4)
trigger1 = sysvar(4) != 8 && Partner,sysvar(4) != 8 && Partner,sysvar(4) != 12
trigger1 = StateNo != 5900
trigger1 = Partner, sysvar(4) != [2,15]
trigger1 = RoundState = 2
trigger1 = Life && Partner, Life
trigger1 = StateNo != [1000,1251199]
value = 1251112
ctrl = 0

[State -2, 1]
type = SelfState
value = 1251106
trigger1 = NumPartner
trigger1 = StateNo != 1251106 && Partner, StateNo = [1251128,1251129]

[State -2, 1]
type = SelfState
value = 1251131
triggerall = NumPartner && Partner, Time = [0,1]
triggerall = (StateNo = 1251112 || StateNo = 1251114) && MoveType != A
trigger1 = Partner, StateNo = 1251132 || Partner, prevStateNo = 1251132
trigger2 = Partner, StateNo = 1251127 && !NumHelper(1251101)

[State -2, cancelfx]
type = PalFx
triggerall = RoundState = 2
triggerall = Time = [0,1]
trigger1 = StateNo = 1251123
trigger2 = StateNo = 1251125 && NumTarget
Time = 6
add = (110 + Time*15), (110 + Time*15), (190 + Time*15)
sinadd =-245, -245, -250, (40 + Time*5)

[State -2, TargetVelAdd]
type = TargetVelAdd
trigger1 = NumTarget && numPartner
trigger1 = !(Target, StateNo = [1251117,1251119]) && !(Target, PrevStateNo = [1251117,1251119])
trigger1 = Roundstate = 2
trigger1 = prevStateNo = 1251126
trigger1 = Partner, StateNo = 1251102 && !(Partner, MoveContact)
trigger1 = Target, statetype != A && Target, GetHitVar(xvel) < 0
x = 0.12

[State -2, drop]
type = TargetDrop
triggerall = NumTarget
triggerall = Time = [0,1]
trigger1 = !Life
trigger2 = StateNo = [1251101,1251105]
trigger3 = StateNo = [1251115,1251116]  
trigger4 = StateNo = 1251106 || StateNo = 1251123

[State -2, Buwelo]
type = PosFreeze
trigger1 = PrevStateNo = 1251102 && StateNo != 1251123
trigger1 = sysvar(4) = 15
trigger1 = Anim != [42,45]
trigger1 = Time <= 5
trigger1 = NumTarget && Target, Statetype != A
trigger1 = MoveType = A

[State -2, aircombo]
type = VelMul
trigger1 = NumTarget || p2BodyDist x < 0
trigger1 = PrevStateNo = 1251102
trigger1 = StateNo != [1251100, 1251190]
trigger1 = MoveType = A && StateNo < 1000
x = ifelse(p2BodyDist x < 0,0.7,0.9)
y = ifelse(vel y < 2,2,0.9)

[State -2, velfollow]
type = VelAdd
trigger1 = PrevStateNo = 1251123 && (NumTarget && Target, vel y < -0.6)
trigger1 = MoveType = A && (Time = [0,3])
y = -1.2

[State -2, Target]
type = TargetState
trigger1 = NumTarget
trigger1 = StateNo = 1251102 || PrevStateNo = 1251102 || StateNo = 1251123 || PrevStateNo = 1251123 || StateNo = 1251126 || PrevStateNo = 1251126
trigger1 = (Target, Pos Y < 0) && !(Target, StateNo = [120,152]) && (Target, StateNo != [1251109,1251119]) && MoveContact  && (Target, Anim = [5100,5170])  && (Target, Anim != [5110,5120])  && Target, PrevStateNo != 1251119 
trigger1 = (Target, Statetype != A) ; && (Target, Statetype != S)  && (Target, Statetype != C)
trigger1 = !Target, HitOver
value = 1251119
ignorehitpause = 1

[State -2, Ov]
type = TargetState
triggerall = NumTarget && numPartner
triggerall = !(Target, StateNo = [120,152]) && !(Target, Anim = [120,152]) && Partner, StateNo = [1251101,1251133]
triggerall = Time = [0,2]
trigger1 = StateNo = 1251125 && Target, StateType != A
trigger2 = (StateNo = 1251126 || PrevStateNo = 1251126) && Target, Pos Y >= -10 && (Target, StateNo != [1251109,1251119]) && (Target, StateNo != [5000,5500])
value = 1251117
ignorehitpause = 1

[State -2, Ov2]
type = TargetState
triggerall = NumTarget = 1
trigger1 = (Target, StateNo != [1251109,1251119]) && !(Target, StateNo = [120,152]) && !(Target, Anim = [120,152]) && ((Target, StateNo != [5000,5500]) || (Target, PrevStateNo != 1251119 && Target, StateNo = [5030,5100])) && !Target, HitOver
trigger1 = (StateNo = 1251125 && Time = [0,2]) || StateNo = 1251126 || PrevStateNo = 1251126
value = 1251119
ignorehitpause = 1

[State -2, T_T]
type = TargetVelSet
triggerall = NumTarget = 1 && Target, Movetype = H && Target, vel x != 0
trigger1 = StateNo = 1251126 || sysvar(4) = 3
x = ifelse((Target, vel x > 0),0.55,-0.55)

[State -2, UM]
type = SelfState
trigger1 = Numpartner && Partner, StateNo = 1251106
trigger1 = StateNo = [1000,4500]
value = 1251129

; ------ Uno Tag System v3.2 END LINE ------

;


[State -1, Stand]
type = ChangeState
value = 45
triggerall = command = "airjump"
triggerall = var(21) = 0
triggerall = vel Y > -40 + ifelse(var(31) > 0,-600,0)
triggerall = var(59) = 0
triggerall = var(20) = 0
trigger1 = stateno = 50 || stateno = 460 || stateno = 5040
trigger2 = (stateno = [600,650])
trigger2 = movecontact
ignorehitpause = 1


[State -2, VarAdd]
type = VarAdd
trigger1 = NumHelper(5643) > 0
fv = 2
value = 0.098522
ignorehitpause = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = NumHelper(5643) > 0
fv = 3
value = 0.098522
ignorehitpause = 1



[State -2]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[State -2,Removeafterimage]
type = afterimagetime
trigger1 = movetype = H
time = 0

[state 3000, 2]
type = afterimage
trigger1 = winko
time = 1
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 0, 0, 0
palcontrast = 100, 100, 255

[State -2, Pre-walking state]
type = ChangeState
trigger1 = prevstateno = [190, 191]
trigger2 = RoundNo > 1
trigger2 = RoundState < 2
trigger2 = stateno = 0
value = 51100
ctrl = 0

[State -2, Remember the last Position (X)]
type = VarSet
trigger1 = RoundState < 2
fvar(20) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(20) != 0
x = fvar(20)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(20) = 0


[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic



[state -2, 1]
type = removeexplod
trigger1 = movetype != a
id = 9001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 220
id = 225



[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1300,1320]
id = 1300



[State 0, StopSnd]
type = StopSnd
trigger1 = stateno != [4000,4050]
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = stateno != [4000,4050]
channel = 7

[state 210, 5]
type = posset
trigger1 = prevstateno = 100
trigger2 = prevstateno = 105
y = 0

[state 12001]
type = removeexplod
trigger1 = stateno != 620
id = 625



[state -2, 1]
type = varadd
trigger1 = (hitpausetime = 1) && (p2movetype = h) && (movehit)


v = 18
value = 1
ignorehitpause = 1

[state -2, 1]
type = varset
trigger1 = p2movetype != h
v = 18
value = 0

[state -2]
type = varset
trigger1 = var(18) = 0
fvar(0) = 1
ignorehitpause = 1

[state -2]
type = attackmulset
trigger1 = 1
value = fvar(0)
ignorehitpause = 1

[state -2]
type = varset
trigger1 = var(18) > 0
trigger1 = var(18) <= 4
fvar(0) = .80
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 4
trigger1 = var(18) <= 11
fvar(0) = .60
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 11
trigger1 = var(18) <= 19
fvar(0) = .45
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 19
trigger1 = var(18) <= 26
fvar(0) = .3
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 26
trigger1 = var(18) <= 1000
fvar(0) = .2
ignorehitpause = 1


[state -2, 1]
type = afterimagetime
trigger1 = movetype != a
trigger2 = stateno = 2002
trigger3 = stateno = 100
trigger3 = stateno = 0
time = 1
ignorehitpause = 1

[state -2, hurt sound randomizer]
type = varrandom
trigger1 = 1
v = 7
range = 0,1



[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemy,stateno != [120,159]
trigger1 = numtarget
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 6016
pos = (enemy,const(size.mid.pos.x))-20,(target,const(size.mid.pos.y))
postype = p2
sprpriority = 3
bindtime = 1
facing = -1
removetime = -2
id = 6016
shadow = -1
ownpal = 1





[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemy,stateno != [120,159]
triggerall = numtarget
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 6017
pos = (enemy,const(size.mid.pos.x))-20,(target,const(size.mid.pos.y))
postype = p2
sprpriority = -3
bindtime = 1
facing = -1
removetime = -2
id = 6016
shadow = -1
ownpal = 1





[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemy,stateno != [120,159]
triggerall = numtarget
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,29

[state 5100,2]
type = explod
trigger1 = numexplod(6012) = 0
trigger1 = enemynear, stateno = 9040
anim = 6012
ID = 6012
pos = -80,-15
postype = p2
sprpriority = 5
bindtime = 1
ownpal = 1
shadow = -1

[state 5100,2]
type = explod
trigger1 = numexplod(6013) = 0
trigger1 = enemynear, stateno = 9040
anim = 6013
ID = 6013
pos = -80,-15
postype = p2
sprpriority = -4
bindtime = 1
ownpal = 1
shadow = -1

[state 5100,2]
type = playsnd
trigger1 = enemynear, stateno = 9040
value = 0,32

[state 183, 3]
type = helper
trigger1 = enemynear, stateno = 328
trigger1 = numhelper(329) = 0
stateno = 329
id = 329
name = "crashlanding"
pos = 0,0
postype = p2
bindtime = 1
ownpal = 1

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemy,stateno != [120,159]
triggerall = numtarget
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,29

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2]
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2]
type = varset
trigger1 = 1
v = 23
value = hitcount


[state -3, 2]
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1


[state -2, ow sound]
type = playsnd
triggerall = alive && time = 1
trigger1 = stateno = 5001 || stateno = 5011
trigger1 = random < ifelse ((anim % 10) = 1, 400, 750)
trigger2 = stateno = 5040 || stateno = 5050
trigger2 = random < 500
trigger3 = stateno = 5070
trigger4 = stateno = 5100 && random < 250
value = s7,var(7)
channel = 0

[State -2, Super KO Helper]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [3000,4999]
trigger2 = numhelper(46000)
trigger3 = numhelper(42000)

name = "Super KO FX Spawner"
ID = 101
StateNo = 9070
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State -2, Special KO Helper]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [1000,1999]
trigger2 = StateNo = [200,899]
name = "Super KO FX Spawner"
ID = 101
StateNo = 9060
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1


[State -2, ?mega Combo KO]
type = explod
triggerall = winko
trigger1 = stateno = 4050
trigger2 = stateno = 4000
anim = 14500
pos = 160,120
postype = left
removetime = 25
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1

[State -2, ?mega Combo KO]
type = explod
triggerall = winko
trigger1 = stateno = 4050
anim = 14500
pos = 160,120
postype = left
removetime = 25
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1


[State -2, ?mega Combo KO]
type = explod
triggerall = winko
trigger1 = stateno = 4105
anim = 14502
pos = 160,120
postype = left
removetime = 25
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1



[State -2, ?mega Combo KO]
type = explod
triggerall = winko
trigger1 = stateno = 4205
trigger2 = stateno = 4206
trigger3 = stateno = 4207
anim = 14501
pos = 160,120
postype = left
removetime = 25
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1


[State -2, ?mega Combo KO]
type = explod
triggerall = winko
trigger1 = stateno =  [4100,4125]
trigger2 = numhelper(46000)
trigger3 = numhelper(42000)
anim = 17000
pos = 160,120
postype = left
removetime = 25
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1

[state -2]
type = Displaytoclipboard
trigger1 = time >= 0
text = "var(52) is %d,var(18) is %d"
params = var(52), var(18)
ignorehitpause = 1


[State -2, Start Count]
type = VarSet
triggerall = P2MoveType = H && !WinKO
trigger1 = var(7) = 0
v = 7
value = 1
ignorehitpause = 1

[State -2, Set]
type = VarSet
triggerall = var(7)
trigger1 = HitCount > var(9)
v = 10
value = HitCount - var(9)

[State -2, Set]
type = VarSet
triggerall = var(7)
trigger1 = HitCount < var(9)
trigger1 = HitCount != 0
v = 10
value = HitCount

[State -2, Set]
type = VarSet
triggerall = var(7)
trigger1 = HitCount = var(9)
trigger2 = HitCount = 0
v = 10
value = 0

[State -2, Projectile Hits]
type = VarAdd
triggerall = var(7)
trigger1 = ProjHit = 1
v = 10
value = 1

[State -2, Add new hits to combo]
type = VarAdd
triggerall = var(7)
trigger1 = var(10) > 0 || var(11) > 0
v = 8
value = var(10) + var(11)


[State -2, First Decrease]
type = VarSet
triggerall = var(7)
trigger1 = var(8) > 1
trigger1 = var(8) < 4
fv = 1
value = .44
ignorehitpause = 1

[State -2, Second Decrease]
type = VarSet
triggerall = var(7)
trigger1 = var(8) = [4,8]
fv = 1
value = .37
ignorehitpause = 1

[State -2, Third Decrease]
type = VarSet
triggerall = var(7)
trigger1 = var(8) = [9,12]
fv = 1
value = .31
ignorehitpause = 1

[State -2, Fourth Decrease]
type = VarSet
triggerall = var(7)
trigger1 = var(8) = [13,16]
fv = 1
value = .28
ignorehitpause = 1

[State -2, Final Decrease]
type = VarSet
triggerall = var(7)
trigger1 = var(8) > 16
fv = 1
value = .24
ignorehitpause = 1

[State -2, Clear Helper Hits]
type = VarSet
trigger1 = var(7)
v = 11
value = 0







[Statedef -3]

;  --- Uno Tag System v3.2.1 STATEDEF -3 ---


; Tag active definer
[State -2, def]
type = VarSet
triggerall = NumPartner
trigger1 = sysvar(4) = [8,9]
trigger1 = !(Partner, Life) || (Partner, StateNo = [1251110,1251114])
trigger2 = Partner, StateNo = [1251110,1251114]
trigger2 = sysvar(4) != [2,15] 
trigger3 = sysvar(4) = 5
trigger3 = Roundstate = 2 && StateNo = [1251111,1251114]
trigger4 = sysvar(4) = 14
trigger4 = MoveType = H && Partner, StateNo = [1251101,1251133]
trigger5 = sysvar(4) = 15 && NumEnemy
trigger5 = EnemyNear, StateNo = [0,50]
trigger6 = sysvar(4) = 15 && StateNo != [1251101,1251133]
trigger6 = NumTarget = 0 && Partner, NumTarget = 0
sysvar(4) = 1

[State -2, def_Partner]
type = VarSet
trigger1 = teammode = simul
trigger1 = roundstate < 1
sysvar(4) = 1 + ((ID > Partner, ID)*4)

[State -3, enterTheScreen]
type = ChangeState
trigger1 = sysvar(4)
trigger1 = NumPartner
trigger1 = StateNo = [1251112,1251114]	
trigger1 = Life 
trigger1 = (Partner, StateNo = [1251109,1251111]) || (Partner, StateNo = 1251125 && Partner, Time > 0)
trigger1 = (Partner, StateNo != 1251110) || (Partner, StateNo = 1251110	&& Partner, Time > 24)
value = ifelse((Partner, StateNo = 1251125),1251131,1251101)

; Jump into the screen (Change Attack)
[State -3, enterTheScreen]
type = ChangeState
triggerall = sysvar(4)
triggerall = NumPartner
triggerall = StateNo = 1251112 && Life
trigger1 = ((Partner, StateNo = 1251126 && Partner, Time > 0) || Partner, PrevStateNo = 1251126)
trigger2 = Partner, NumHelper(1251105)
value = 1251102

; Jump into the screen (Game is OVER)
[State -3, enterTheScreen]
type = ChangeState
triggerall = sysvar(4)
triggerall = NumPartner
trigger1 = Alive
trigger1 = StateNo = [1251112,1251114]
trigger1 = Time > 0
trigger1 = roundstate > 2
trigger1 = Win || LoseTime || WinTime || drawgame
value = 1251120

[State -3, NoJC]
type = AssertSpecial
triggerall = NumPartner
trigger1 = Partner, sysvar(4) = [12,13]
trigger2 = sysvar(4) = [8,9]
trigger3 = PrevStateNo = [1251112,1251133]
trigger4 = sysvar(4) = 15 && Partner, Time < 150
flag = nojugglecheck
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo = [1251110,1251113]
trigger2 = !Life
trigger3 = StateNo = [1251126,1251127]

[State -3, Quiet]
type = AssertSpecial
trigger1 = NumPartner
trigger1 = Partner, sysvar(4) = 7
trigger1 = !Alive && !NumHelper(1251130)
flag = nokosnd

[State -3, Dark]
type = AssertSpecial
triggerall = numpartner
trigger1 = StateNo = 1251106
trigger2 = StateNo = 1251127 || Partner, StateNo = 1251127
trigger3 = NumHelper(1251101) && StateNo = 1251131 && Partner, StateNo != 1251125
flag = noBG
flag2 = noFG
flag3 = Timerfreeze
ignorehitpause = 1

[State -3, leavefx]
type = PalFx
trigger1 = StateNo = 1251111
trigger2 = StateNo = 1251127
trigger3 = (sysvar(4) = [8,9]) && StateNo = 1251110 && Time > 12
trigger4 = StateNo = 1251110 && Time > 14
Time = 2
add = 0,0,0
mul = 150,150,150

[State -3, InvBG]
type = BgPalFx
trigger1 = NumHelper(1251130)
trigger2 = StateNo = 1251106
Time = 2
color = 0
invertall = 1
add = -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16)
ignorehitpause = 1

[State -3, InvChar]
type = PalFx
triggerall = NumEnemy
trigger1 = (Enemy, PrevStateNo = [1251128,1251129]) || (EnemyNear, PrevStateNo = [1251128,1251129])
trigger2 = Enemy, StateNo = 1251106 || EnemyNear, StateNo = 1251106
Time = 2
color = 0
add = -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16)
ignorehitpause = 1

[State -3, Invert]
type = PalFx
trigger1 = PrevStateNo = [1251128,1251129]
Time = 10
invertall = 1
mul = 150, 150, 150

[State -3, SuperPause]
type = SuperPause
triggerall = NumPartner
trigger1 = Partner, StateNo = 1251106
trigger1 = NumHelper(1251130)
trigger2 = NumHelper(1251101) && Partner, StateNo != 1251125
trigger2 = MoveType != H
Time = 10
anim = -1
sound = -1
moveTime = 10
darken = 1
p2defmul = 0
unhittable = 1
pausebg = 1

[State -3, NoAirGuard]
type = AssertSpecial
trigger1 = NumPartner
trigger1 = sysvar(4) = 8
trigger1 = Movetype = A
trigger1 = prevStateNo = 1251133
flag = Noairguard
flag2 = nojugglecheck
flag3 = nowalk
ignorehitpause = 1

[State -3, aHit]
Type = VarSet
Triggerall = sysvar(4) = 8 && Roundstate = 2
triggerall = NumPartner && Partner, Alive
trigger1 = Movetype = H
trigger2 = StateNo = [5000,5990]
trigger3 = StateNo = [150,151]
sysvar(4) = 9

[State -3, bangon]
type = SelfState
trigger1 = NumPartner && sysvar(4) = 9
trigger1 = Alive && Partner, Alive
trigger1 = StateNo != 5120
trigger1 = StateNo = 5110 || Anim = 5110
trigger1 = Time >= 12
value =5120

[State -3, leavePA]
type = SelfState
triggerall = sysvar(4) = [8,9]
triggerall = StateType != A || prevStateNo = [5000,5500]
triggerall = NumPartner
trigger1 = Roundstate = 2
trigger1 = Life && Partner, life
trigger1 = Partner, StateNo != [1251101,1251135]
trigger1 = StateNo != [200,1251199]
trigger1 = MoveType != H || ((StateNo = [5110, 5120]) && (Time >= 19 || AnimElemTime(4) >= 1))
value = ifelse((sysvar(4)=9 || (StateNo = [150,151])),1251111,1251110)
ctrl = 0

[State -3, LE]
type = SelfState
trigger1 = StateNo = 7828
trigger1 = PrevStateNo = [1251110,1251114] 
trigger2 = sysvar(4) = [8,9]
trigger2 = Anim = 100 && StateNo != [1251101,1251133]
trigger3 = sysvar(4) = 5
trigger3 = PrevStateNo = [1251110,1251114] 
trigger3 = StateNo != [1251101,1251133]
value = 1251111

[State -3, leaveIntro]
type = SelfState
triggerall = sysvar(4) = 5
triggerall = NumPartner
trigger1 = Roundstate >= 2
trigger1 = StateNo != [1000,1251199]
value = 1251110
ctrl = 0

[State -3, fromdark]
type = Helper
trigger1 = sysvar(4) = 7 && !NumHelper(1251139)
trigger1 = PrevStateNo = 1251106
trigger1 = Time <= 25
Helpertype = Normal
ID = 1251139
StateNo = 1251130
name = "dark"
ownpal = 1
supermoveTime = 9999
pausemoveTime = 9999

[State -3, sb_PA]
type = ScreenBound
trigger1 = NumPartner
trigger1 = sysvar(4) = [8,9]
value = ifelse(MoveType = A,1,0)
movecamera = 0,0

[State -3, NoCtrl]
type = CtrlSet
trigger1 = NumPartner
trigger1 = StateNo != [1251111,1251112]
trigger1 = sysvar(4) = [8,9]
value = ifelse((Partner, Alive),0, 1)

[State -3, Party]
type = Null ;CtrlSet
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = Partner, sysvar(4) = 2
trigger1 = Movetype != A
trigger1 = StateNo != [5000,5500]
trigger1 = Partner, StateNo != [5000,5500]
trigger1 = prevStateNo != [5000,5500]
value = ifelse((prevStateNo = [1251132,1251131]) || (Partner, StateNo = 1251125) ||(Partner, movetype = A), 0, 1)

[State -3, Party]
type = AssertSpecial
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = Partner, sysvar(4) = 2
trigger1 = Movetype != A
trigger1 = StateNo != [5000,5500]
trigger1 = Partner, StateNo != [5000,5500]
trigger1 = prevStateNo != [5000,5500]
flag = nojugglecheck
;flag2 = nowalk

[State -3, PartyDone]
type = Null ;CtrlSet
triggerall = NumPartner
triggerall = !Ctrl
triggerall = Partner, sysvar(4) = 2
triggerall = Movetype = I
triggerall = StateNo != [200,5500]
trigger1 = prevStateNo = [5000,5500]
trigger2 = Partner, StateNo = 1251111
trigger3 = Partner, MoveType = H && !Partner, HitShakeOver
value = 1

[State -3, fadeOut]
type = Trans
triggerall = NumPartner
trigger1 = !Life && Partner, Life
;trigger1 = RoundState = 2 || Partner,sysvar(4) = 7
trigger1 = Partner, sysvar(4) = 7
trigger1 = StateNo = 5150
Trans = addalpha
alpha = (256-ifelse((Partner,sysvar(4) = 7),(Time *3),(Time*2))), (Time*Time)

[State -3, fadeOut]
type=assertspecial
triggerall = alive=0 && !ishelper && numpartner && Partner, sysvar(4) && RoundState = 2
trigger1=stateno=5150 && (((time=[80,150])&&(time%10<5))||(time>150))
trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
flag=invisible
flag2=noshadow

[state -3, fadeOut]
type=posset
trigger1 = sysvar(4)
trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && (time>150)
trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
trigger1 = Partner, sysvar(4)
y=-3

[state -3, dead_Var]
type = VarSet
triggerall = !Alive
triggerall = RoundState = 2
triggerall = StateNo = [5131,5150]
triggerall = NumPartner && Partner, sysvar(4)
trigger1 = Time >= 125
trigger2 = Partner, sysvar(4) = 7
trigger2 = Time >= 85
sysvar(4) = 6

[state -3, awake_Var]
type = VarSet
triggerall = NumPartner && roundstate = 2
trigger1 = Alive
trigger1 = sysvar(4) = 6
trigger2 = Partner, Life
trigger2 = sysvar(4) = 7
sysvar(4) = 1

[state -3, offME]
type = NotHitBy
triggerall = NumPartner
trigger1 = sysvar(4) = 6
trigger2 = StateNo = 1251128 || PrevStateNo = 1251128
trigger3 = Partner, sysvar(4) = 6
trigger3 = (StateNo = [1251101,1251116]) || (StateNo = [1251120,1251133])
value = SCA

[state -3, disa2]
type = SelfState
trigger1 = RoundState = 2
trigger1 = StateNo = [5110,5150]
trigger1 = sysvar(4) = 6
value = 1251113

[state -3, Ghost]
type = AssertSpecial
triggerall = !Alive
triggerall = RoundState >= 2
triggerall = sysvar(4) = 6
trigger1 = Anim = [5000,5600]
trigger2 = PrevStateNo = [1251113,1251121]
flag = invisible
flag2 = noshadow
ignorehitpause = 1

[State -3, EndLife]
type = LifeAdd
triggerall = RoundState = 2
trigger1 = PrevStateNo = 1251129
trigger2 = sysvar(4) = 6
value = -LifeMax

[State -3, END]
type = PosSet
trigger1 = NumPartner
trigger1 = roundstate > 2
trigger1 = !Alive
trigger1 = PrevStateNo = 1251113
x = (Partner, pos x) - 5000*facing
y = 0

[State -3, 1251129]
type = LifeAdd
trigger1 = PrevStateNo = 1251129 && Time > 1
value = -LifeMax

[State -3, 1251129]
type = SelfState
trigger1 = StateNo < 5000
trigger1 = PrevStateNo = 1251129 && AnimElemNo(3) = 7
value = 5150

[State -3, Aura]
type=Helper
triggerall= !NumHelper(1251124)
trigger1 = sysvar(4) = 7 && MoveType = I && (StateNo = 1251106 || Life <= (LifeMax*.2))
Helpertype=normal
StateNo=1251124
ID=1251124
name="AURA"
postype=p1
ownpal = 1
pausemoveTime=99999
supermoveTime=99999

; ----------- UNO MODE -----------
[State -3, Cursed]
type = LifeAdd
trigger1 = NumPartner && RoundState = 2
trigger1 = StateNo != 1251106 && !(Partner, Life)
trigger1 = (gameTime%10) = 0
trigger1 = sysvar(4) = 7
value = (-3 + ifelse(Life < LifeMax/6, 2, 0))
kill = 0

[State -3, C_2]
type = PowerAdd
trigger1 = NumPartner && RoundState = 2
trigger1 = StateNo != 1251106 && !(Partner, Life)
trigger1 = sysvar(4) = 7
trigger1 = Power < PowerMax && MoveType != A
value = 100

[State -2, C_3]
type = AttackMulSet
trigger1 = RoundState = 2
trigger1 = sysvar(4) = 7 && StateNo = [200,4000]
value = 1.5 ;+ ((LifeMax/Life) * 0.015)

[State -3, C_4]
type = DefenceMulSet
trigger1 = RoundState = 2
trigger1 = sysvar(4) = 7 && !(Partner, Life)
value = ifelse((Life>150),(0.2 - ((LifeMax/Life) * 0.015)),0.15)

[State -2, C_5]
type = AssertSpecial
trigger1 = RoundState = 2
trigger1 = sysvar(4) = 7 && MoveType = A
flag = nojugglecheck
ignorehitpause = 1

[State -3, C_7]	; TimeOVER!
type = LifeAdd
trigger1 = NumPartner && RoundState > 2 && StateNo != 1251106 && !(Partner, Life) && sysvar(4) = 7 && !Win
value = -(Life)
kill = 1

[State -3, C_8]
type = SelfState
trigger1 = NumPartner && RoundState>=3 && Life > 1 && !(Partner, Life) && sysvar(4) = 7 && MoveType=H
value = ifelse(StateNo=5110,5120,5040)

[State -3, C_e1]
type = PalFx
trigger1 = StateNo != 1251106
trigger1 = RoundState = 2
trigger1 = !Win && !Lose && !MatchOver && !DrawGame
trigger1 = !NumHelper(1251107)
trigger1 = sysvar(4) = 7
add=(50+Random*0.15),(50+Random*0.12),(50+Random*0.12)
mul = (120+Random*0.12511), (120+Random*0.12511), (120+Random*0.12511)
sinadd=-255,-245,-245,(40 + Time*2)
Time=10

[State -3, C_e2]
type = AfterImage
triggerall = RoundState <= 2
triggerall = !Win && !Lose && !MatchOver && !DrawGame
triggerall = sysvar(4) = 7  && MoveType = A
trigger1 = PrevStateNo = 5300 || PrevStateNo = 4600
trigger2 = (gameTime%10) = 0
Trans = add
PalContrast = 256,0,0
PalBright = 50,0,0
Time    =  -1
length  = 17
TimeGap = 1
FrameGap = 1

[State -3, C_e3]
type = AfterImageTime
trigger1 = RoundState > 2
trigger1 = sysvar(4) = 7
trigger2 = !Alive
trigger3 = NumPartner && Partner, Alive
trigger4 = sysvar(4) = 7 && MoveType != A
Time = 0

[State -3, C_KOed]
type = SelfState
triggerall = sysvar(4) = 7
trigger1 = !Life
trigger1 = StateType != A
trigger1 = StateNo != [5000,5950]
value = 5950

[State -3, C_Dead]
type = SelfState
trigger1 = (PrevStateNo = [1251128, 1251129]) || (!Life)
trigger1 = StateNo = 5950
trigger1 = AnimTime = 0 || Time > 225
value = 5150
; ----------------------

[State -3, T_T]
type = ScreenBound
trigger1 = roundstate > 2
trigger1 = !Alive
trigger1 = PrevStateNo = 1251113
;trigger2= EnemyNear, NumHelper(1251107) || Enemy, NumHelper(1251107)
value = 0
movecamera = 0,0

[State -3, T_T]
type = PosFreeze
trigger1 = NumEnemy && EnemyNear, NumHelper(1251107) || Enemy, NumHelper(1251107)
trigger2 = PrevStateNo = 1251121
trigger3 = StateNo = 1251125

[State -3, T_T]
type = SelfState
triggerall = NumPartner && sysvar(4) > 0
trigger1 = RoundState = 2  && Pos Y < 0
trigger1 = StateNo = 0 && (Partner, StateNo != [1251112,1251114])
trigger1 = PrevStateNo = [1251112,1251114]
value = 1251112

[State -3, wait out]
type = ChangeState
triggerall = NumPartner
triggerall = RoundState = 2
triggerall = Life && Partner, Life
triggerall = StateNo != [1251110,1251114]
trigger1 = sysvar(4) = 2				; performed team attack
trigger1 = (PrevStateNo = [5000,5500]) || (StateNo != [200,1251199]) && (MoveType != H)
trigger2 = sysvar(4) = 4         		; performed Delayed Cancel
trigger2 = MoveType = I || ((Partner, prevStateNo = 1251131 || Partner, StateNo != [1251101,1251135]) && Time > 1)
trigger3 = sysvar(4) = 3          	; performed Cross Attack
trigger3 = (StateNo = 1251126 && Time > 1) && ((Partner, StateNo = 1251102 && Partner, BackEdgeBodyDist > 15) || Partner, PrevStateNo = [1251115,1251116])
trigger4 = (sysvar(4) = [2,4]) && MoveType = I && (StateNo != [1251101,1251133])
trigger5 = NumHelper(1251125)
trigger5 = StateNo = [0,199]
value = 1251111
ctrl = 0
ignorehitpause = 1

; ---- Uno Tag System v3.2 END LINE ----

;  ;]



[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 40, 0

[State -3, Set Normal Attack Value]
type = VarSet
triggerall = !var(7)
trigger1 = fvar(1) < 1
fv = 1
value = 1

[State -3, Set Attack]
type = AttackMulSet
trigger1 = 1
value = fvar(1)








[State -3, Varadd]
type = VarAdd
triggerall = (Time = 0) && (Var(36) < 15) && (Var(37) = 0)
trigger1 = (StateNo = 5000) || (StateNo = 5010) || (StateNo = 5020) || (StateNo = 5070) || (StateNo = 5080)
v = 35
value = ((GetHitVar(animtype)=0)*50)+((GetHitVar(animtype)=1)*100)+((GetHitVar(animtype)=2)*150)+((GetHitVar(animtype)>=3)*200)

[State -3, VarSubtract]
type = VarAdd
trigger1 = Var(35) > 0
v = 35
value = ifelse(MoveType = A,-3,-2)

[State -3, VarSet]
type = VarSet
trigger1 = Var(35) < 0
v = 35
value = 0
ignorehitpause = 1

[State -3, Redizzy VarSet]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != [970,972])
v = 37
value = 0

[State -3, ChangeState]
type = ChangeState
triggerall = Time = 1
trigger1 = (StateNo = 5000) || (StateNo = 5010) || (StateNo = 5020) || (StateNo = 5070) || (StateNo = 5080)
trigger1 = (Var(35) >=10000) && (LoseKO = 0)
value = 970
ignorehitpause = 1

[state -3, attackmulset]
type = attackmulset
trigger1 = 1
value = 0.6
